/*! For license information please see main.cc184d14.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,_=60107,S=60108,T=60114,I=60109,C=60110,N=60112,A=60113,O=60120,P=60115,R=60116,D=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),E=U("react.portal"),_=U("react.fragment"),S=U("react.strict_mode"),T=U("react.profiler"),I=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),O=U("react.suspense_list"),P=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case T:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ie(e.stateNode,e.type,t))}}function Oe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Re,je=!1,Fe=!1;function Ue(){null===Ce&&null===Ne||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ye){Be=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function $e(e,t,n,r,i,a,o,u,s){We=!1,He=null,qe.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},St={},Tt={};function It(e){if(St[e])return St[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return St[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Ct=It("animationend"),Nt=It("animationiteration"),At=It("animationstart"),Ot=It("transitionend"),Pt=new Map,Rt=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=jt(s),i=Mt):0!==(u&=a)&&(r=jt(u),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==u&&(r=jt(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){je||Le();var i=Jt,a=je;je=!0;try{De(i,e,t,n,r)}finally{(je=a)||Ue()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),En=sn(i({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return In}var Nn=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Nn),On=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!jn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){Nr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Qn(t,Yn,e,Te(e)),e=Xn,je)e(t);else{je=!0;try{Re(e,t)}finally{je=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=jr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<_r.length;Sr++)Rt.set(_r[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if($e.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Ir.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Te(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Ct:case Nt:case At:s=bn;break;case Ot:s=Rn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Zn;else if(Gn(u))if(er)y=cr;else{y=ur;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(kr=m,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(m=jr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!jn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,_i=null,Si=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,Bi=!1,zi=Ai(),qi=1e4>zi?Ai:function(){return Ai()-zi};function Wi(){switch(Oi()){case Pi:return 99;case Ri:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Ri;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Si(e,t)}function Gi(e,t,n){return e=Hi(e),Ti(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ii(e)}$i()}function $i(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Pi,Qi),n}finally{Bi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Xs(t,e.mode,n)).return=e,t}if(xa(t)||z(t))return(t=Qs(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||z(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===_&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===_){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=Ea(e,r,a),s.return=e,e=s)}return u(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(z(a))return y(e,r,a,s);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Sa(!0),Ia=Sa(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Oa=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Ra(e,t){switch(fi(Oa,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Oa)}function La(e){Pa(Oa.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(li(Na),li(Aa))}var ja=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,Ba=!1;function za(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(Ba){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Ua=e);za(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!Ba)return Ha(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)za(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,Ba=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ru;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Za.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function _o(e,t){return wo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)}function Io(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:Io,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,mo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:_o,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:_o,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):Ta(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ks(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Wo(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Fo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(mi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ya(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var Qo,$o,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=$s({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$s(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(o,u),null!==e?r=Ks(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,u),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ar("invalid",r);break;case"textarea":se(r,u),Ar("invalid",r)}for(var c in _e(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ar("invalid",e);break;default:a=r}_e(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ar("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Oa.current),Pa(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fu&&(Fu=3):(0!==Fu&&3!==Fu||(Fu=4),null===Ru||0===(134217727&Bu)&&0===(134217727&zu)||gs(Ru,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Fu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ku&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=ja.current,fi(ja,u?1&t|2:1&t),n):null;case 23:case 24:return Es(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return Es(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(js(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))js(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Su(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Eu(e,n,t):_u(e,n,t)}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Su(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Tu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=qi(),gu(t.child,!0)),void Iu(t);case 19:return void Iu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Iu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Au=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Pu=0,Ru=null,Du=null,Lu=0,Mu=0,ju=ci(0),Fu=0,Uu=null,Vu=0,Bu=0,zu=0,qu=0,Wu=null,Hu=0,Ku=1/0;function Gu(){Ku=qi()+500}var Qu,$u=null,Yu=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Ru&&(zu|=t,4===Fu&&gs(e,Lu));var r=Wi();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ys(e,n),0===Pu&&(Gu(),Qi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Ru?Lu:0),t=Mt,0===r)null!==n&&(n!==ji&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ii(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],Vi=Ti(Pi,$i)):Ui.push(n),n=ji):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ru?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Ts();for(Ru===e&&Lu===r||(Gu(),_s(e,r));;)try{Ns();break}catch(s){Ss(e,s)}if(na(),Au.current=a,Pu=i,null!==Du?r=0:(Ru=null,Lu=0,r=Fu),0!==(Vu&zu))_s(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Is(e,n))),1===r)throw t=Uu,_s(e,0),gs(e,n),ys(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-qi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Hr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ys(e,qi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Ru&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Is(e,t);0!==(Vu&zu)&&(n=Is(e,t=Ft(e,t)))}else n=Is(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Is(e,t))),1===n)throw n=Uu,_s(e,0),gs(e,t),ys(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ys(e,qi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}}function xs(e,t){fi(ju,Mu),Mu|=t,Vu|=t}function Es(){Mu=ju.current,li(ju)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),$a();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:Es()}n=n.return}Ru=e,Du=Ks(e.current,null),Lu=Mu=Vu=t,Fu=0,Uu=null,qu=zu=Bu=0}function Ss(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Ou.current=null,null===n||null===n.return){Fu=1,Uu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fu&&(Fu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ju||!Ju.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(E){t=E,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ts(){var e=Au.current;return Au.current=Po,null===e?Po:e}function Is(e,t){var n=Pu;Pu|=16;var r=Ts();for(Ru===e&&Lu===t||_s(e,t);;)try{Cs();break}catch(i){Ss(e,i)}if(na(),Pu=n,Au.current=r,null!==Du)throw Error(o(261));return Ru=null,Lu=0,Fu}function Cs(){for(;null!==Du;)As(Du)}function Ns(){for(;null!==Du&&!Ci();)As(Du)}function As(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Du=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Fu&&(Fu=5)}function Ps(e){var t=Wi();return Ki(99,Rs.bind(null,e,t)),null}function Rs(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ru&&(Du=Ru=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ou.current=null,Br=$t,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(T){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;zr={focusedElem:u,selectionRange:s},$t=!1,ls=null,fs=!1,$u=r;do{try{Ds()}catch(T){if(null===$u)throw Error(o(330));Vs($u,T),$u=$u.nextEffect}}while(null!==$u);ls=null,$u=r;do{try{for(u=e;null!==$u;){var k=$u.flags;if(16&k&&ge($u.stateNode,""),128&k){var b=$u.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu($u),$u.flags&=-3;break;case 6:xu($u),$u.flags&=-3,Tu($u.alternate,$u);break;case 1024:$u.flags&=-1025;break;case 1028:$u.flags&=-1025,Tu($u.alternate,$u);break;case 4:Tu($u.alternate,$u);break;case 8:Su(u,s=$u);var x=s.alternate;bu(s),null!==x&&bu(x)}$u=$u.nextEffect}}catch(T){if(null===$u)throw Error(o(330));Vs($u,T),$u=$u.nextEffect}}while(null!==$u);if(w=zr,b=yr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!Br,zr=Br=null,e.current=n,$u=r;do{try{for(k=e;null!==$u;){var E=$u.flags;if(36&E&&mu(k,$u.alternate,$u),128&E){b=void 0;var _=$u.ref;if(null!==_){var S=$u.stateNode;$u.tag,b=S,"function"===typeof _?_(b):_.current=b}}$u=$u.nextEffect}}catch(T){if(null===$u)throw Error(o(330));Vs($u,T),$u=$u.nextEffect}}while(null!==$u);$u=null,Fi(),Pu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for($u=r;null!==$u;)t=$u.nextEffect,$u.nextEffect=null,8&$u.flags&&((E=$u).sibling=null,E.stateNode=null),$u=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(T){}if(ys(e,qi()),Yu)throw Yu=!1,e=Xu,Xu=null,e;return 0!==(8&Pu)||Qi(),null}function Ds(){for(;null!==$u;){var e=$u.alternate;fs||null===ls||(0!==(8&$u.flags)?et($u,ls)&&(fs=!0):13===$u.tag&&Cu(e,$u)&&et($u,ls)&&(fs=!0));var t=$u.flags;0!==(256&t)&&yu(e,$u),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),$u=$u.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,Fs)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function js(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Qi(),!0}function Us(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ys(e,t))}function Vs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Lu&n)===n&&(4===Fu||3===Fu&&(62914560&Lu)===Lu&&500>qi()-Hu?_s(e,0):qu|=n),ys(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=Vu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ys(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new qs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case S:u=8,i|=1;break;case T:return(e=Ws(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case A:return(e=Ws(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case O:return(e=Ws(19,n,t,i)).elementType=O,e.lanes=a,e;case j:return $s(n,i,a,t);case F:return(e=Ws(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case C:u=9;break e;case N:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function $s(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=j,e.lanes=n,e}function Ys(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(ja,1&ja.current),null!==(t=au(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return au(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Jo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=bs,De=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Gu(),Qi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,qi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Oe,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),_i=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Pu=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),y=k("react.fundamental"),m=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}},441:function(e,t,n){"use strict";n(372)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+T(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),I(o,t,n,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(u=e[c],c);s+=I(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=I(u=u.value,t,n,l=r+T(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function O(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=y.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=g,s(x,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],I=[],C=1,N=null,A=3,O=!1,P=!1,R=!1;function D(e){for(var t=E(I);null!==t;){if(null===t.callback)_(I);else{if(!(t.startTime<=e))break;_(I),t.sortIndex=t.expirationTime,x(T,t)}t=E(I)}}function L(e){if(R=!1,D(e),!P)if(null!==E(T))P=!0,n(M);else{var t=E(I);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,R&&(R=!1,i()),O=!0;var a=A;try{for(D(n),N=E(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===E(T)&&_(T),D(n)}else _(T);N=E(T)}if(null!==N)var s=!0;else{var c=E(I);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{N=null,A=a,O=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return E(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(I,e),null===E(T)&&e===E(I)&&(R?i():R=!0,r(L,o-u))):(e.sortIndex=s,x(T,e),P||O||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=n(791),t=n(164);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var u,s=u||(u={});s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE";var c=function(e){return e};function l(e){e.preventDefault(),e.returnValue=""}function f(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function p(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function v(e,t){if(!e)throw new Error(t)}var y=(0,e.createContext)(null);var m=(0,e.createContext)(null);var g=(0,e.createContext)({outlet:null,matches:[]});function k(t){var n=t.to,r=t.replace,i=t.state;S()||v(!1);var a=I();return(0,e.useEffect)((function(){a(n,{replace:r,state:i})})),null}function b(t){return function(t){var n=(0,e.useContext)(g).outlet;if(n)return(0,e.createElement)(C.Provider,{value:t},n);return n}(t.context)}function w(e){v(!1)}function x(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,c=void 0===s?u.Pop:s,l=t.navigator,f=t.static,h=void 0!==f&&f;S()&&v(!1);var d=B(r),g=(0,e.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof o&&(o=p(o));var k=o,b=k.pathname,w=void 0===b?"/":b,x=k.search,E=void 0===x?"":x,_=k.hash,T=void 0===_?"":_,I=k.state,C=void 0===I?null:I,N=k.key,A=void 0===N?"default":N,O=(0,e.useMemo)((function(){var e=U(w,d);return null==e?null:{pathname:e,search:E,hash:T,state:C,key:A}}),[d,w,E,T,C,A]);return null==O?null:(0,e.createElement)(y.Provider,{value:g},(0,e.createElement)(m.Provider,{children:a,value:{location:O,navigationType:c}}))}function E(t){var n=t.children,r=t.location;return function(t,n){S()||v(!1);var r=(0,e.useContext)(g).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var u,s=T();if(n){var c,l="string"===typeof n?p(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||v(!1),u=l}else u=s;var f=u.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=U(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;var i=O(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=L(i[o],r);return a}(t,{pathname:h});0;return M(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:V([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:V([o,e.pathnameBase])})})),r)}(A(n),r)}function _(t){S()||v(!1);var n=(0,e.useContext)(y),r=n.basename,i=n.navigator,a=N(t),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?p(e).pathname:e.pathname}(t),f=null!=l&&l.endsWith("/");c="/"===u?r+(f?"/":""):V([r,u])}return i.createHref({pathname:c,search:s,hash:o})}function S(){return null!=(0,e.useContext)(m)}function T(){return S()||v(!1),(0,e.useContext)(m).location}function I(){S()||v(!1);var t=(0,e.useContext)(y),n=t.basename,r=t.navigator,i=(0,e.useContext)(g).matches,a=T().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,e.useRef)(!1);(0,e.useEffect)((function(){u.current=!0}));var s=(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=F(e,JSON.parse(o),a);"/"!==n&&(i.pathname=V([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}var C=(0,e.createContext)(null);function N(t){var n=(0,e.useContext)(g).matches,r=T().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return F(t,JSON.parse(i),r)}),[t,i,r])}function A(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==w&&v(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=A(t.props.children)),n.push(r)}else n.push.apply(n,A(t.props.children))})),n}function O(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||v(!1),a.relativePath=a.relativePath.slice(r.length));var o=V([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&v(!1),O(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:D(o,e.index),routesMeta:u})})),t}var P=/^:\w+$/,R=function(e){return"*"===e};function D(e,t){var n=e.split("/"),r=n.length;return n.some(R)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!R(e)})).reduce((function(e,t){return e+(P.test(t)?3:""===t?1:10)}),r)}function L(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=j({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:V([i,l.pathname]),pathnameBase:V([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=V([i,l.pathnameBase]))}return a}function M(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,a){return(0,e.createElement)(g.Provider,{children:void 0!==i.route.element?i.route.element:(0,e.createElement)(b,null),value:{outlet:r,matches:n.concat(t.slice(0,a+1))}})}),null)}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=a(n,2),i=r[0],o=r[1],u=t.match(i);if(!u)return null;var s=u[0],c=s.replace(/(.)\/+$/,"$1"),l=u.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function F(e,t,n){var r,i="string"===typeof e?p(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?p(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:z(a),hash:q(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var V=function(e){return e.join("/").replace(/\/\/+/g,"/")},B=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},z=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},q=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var K=["onClick","reloadDocument","replace","state","target","to"],G=["aria-current","caseSensitive","className","end","style","to","children"];function Q(t){var n=t.basename,r=t.children,i=t.window,s=(0,e.useRef)();null==s.current&&(s.current=function(e){function t(){var e=s.location,t=v.state||{};return[t.idx,c({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:d(e)}function r(e,t){return void 0===t&&(t=null),c(o({pathname:k.pathname,hash:"",search:""},"string"===typeof e?p(e):e,{state:t,key:h()}))}function i(e){m=e,e=t(),g=e[0],k=e[1],b.call({action:m,location:k})}function a(e){v.go(e)}void 0===e&&(e={});var s=void 0===(e=e.window)?document.defaultView:e,v=s.history,y=null;s.addEventListener("popstate",(function(){if(y)w.call(y),y=null;else{var e=u.Pop,n=t(),r=n[0];if(n=n[1],w.length){if(null!=r){var o=g-r;o&&(y={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var m=u.Pop,g=(e=t())[0],k=e[1],b=f(),w=f();return null==g&&(g=0,v.replaceState(o({},v.state,{idx:g}),"")),{get action(){return m},get location(){return k},createHref:n,push:function e(t,a){var o=u.Push,c=r(t,a);if(!w.length||(w.call({action:o,location:c,retry:function(){e(t,a)}}),0)){var l=[{usr:c.state,key:c.key,idx:g+1},n(c)];c=l[0],l=l[1];try{v.pushState(c,"",l)}catch(nt){s.location.assign(l)}i(o)}},replace:function e(t,a){var o=u.Replace,s=r(t,a);w.length&&(w.call({action:o,location:s,retry:function(){e(t,a)}}),1)||(s=[{usr:s.state,key:s.key,idx:g},n(s)],v.replaceState(s[0],"",s[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&s.addEventListener("beforeunload",l),function(){t(),w.length||s.removeEventListener("beforeunload",l)}}}}({window:i}));var v=s.current,y=a((0,e.useState)({action:v.action,location:v.location}),2),m=y[0],g=y[1];return(0,e.useLayoutEffect)((function(){return v.listen(g)}),[v]),(0,e.createElement)(x,{basename:n,children:r,location:m.location,navigationType:m.action,navigator:v})}var $=(0,e.forwardRef)((function(t,n){var r=t.onClick,i=t.reloadDocument,a=t.replace,o=void 0!==a&&a,u=t.state,s=t.target,c=t.to,l=H(t,K),f=_(c),h=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=I(),s=T(),c=N(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var n=!!a||d(s)===d(c);u(t,{replace:n,state:o})}}),[s,u,c,a,o,i,t])}(c,{replace:o,state:u,target:s});return(0,e.createElement)("a",W({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:s}))}));var Y=(0,e.forwardRef)((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,a=t.caseSensitive,o=void 0!==a&&a,u=t.className,s=void 0===u?"":u,c=t.end,l=void 0!==c&&c,f=t.style,h=t.to,d=t.children,p=H(t,G),v=T(),y=N(h),m=v.pathname,g=y.pathname;o||(m=m.toLowerCase(),g=g.toLowerCase());var k,b=m===g||!l&&m.startsWith(g)&&"/"===m.charAt(g.length),w=b?i:void 0;k="function"===typeof s?s({isActive:b}):[s,b?"active":null].filter(Boolean).join(" ");var x="function"===typeof f?f({isActive:b}):f;return(0,e.createElement)($,W({},p,{"aria-current":w,className:k,ref:n,style:x,to:h}),"function"===typeof d?d({isActive:b}):d)}));var X=e.createContext(null);var J=function(e){e()},Z=function(){return J};var ee={notify:function(){},get:function(){return[]}};function te(e,t){var n,r=ee;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Z(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=ee)},getListeners:function(){return r}};return o}var ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect;var re=function(t){var n=t.store,r=t.context,i=t.children,a=(0,e.useMemo)((function(){var e=te(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),o=(0,e.useMemo)((function(){return n.getState()}),[n]);ne((function(){var e=a.subscription;return e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var u=r||X;return e.createElement(u.Provider,{value:a},i)};n(110),n(441);function ie(){return(0,e.useContext)(X)}function ae(t){void 0===t&&(t=X);var n=t===X?ie:function(){return(0,e.useContext)(t)};return function(){return n().store}}var oe=ae();function ue(e){void 0===e&&(e=X);var t=e===X?oe:ae(e);return function(){return t().dispatch}}var se=ue(),ce=function(e,t){return e===t};function le(t){void 0===t&&(t=X);var n=t===X?ie:function(){return(0,e.useContext)(t)};return function(t,r){void 0===r&&(r=ce);var i=n(),a=function(t,n,r,i){var a,o=(0,e.useReducer)((function(e){return e+1}),0),u=o[1],s=(0,e.useMemo)((function(){return te(r,i)}),[r,i]),c=(0,e.useRef)(),l=(0,e.useRef)(),f=(0,e.useRef)(),h=(0,e.useRef)(),d=r.getState();try{if(t!==l.current||d!==f.current||c.current){var p=t(d);a=void 0!==h.current&&n(p,h.current)?h.current:p}else a=h.current}catch(v){throw c.current&&(v.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),v}return ne((function(){l.current=t,f.current=d,h.current=a,c.current=void 0})),ne((function(){function e(){try{var e=r.getState();if(e===f.current)return;var t=l.current(e);if(n(t,h.current))return;h.current=t,f.current=e}catch(v){c.current=v}u()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[r,s]),a}(t,r,i.store,i.subscription);return(0,e.useDebugValue)(a),a}}var fe,he=le();fe=t.unstable_batchedUpdates,J=fe;var de="Layout_LayoutContainer__mZdBu",pe="Layout_LayoutMain__Er0D+";function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function me(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ye(a,r,i,o,u,"next",e)}function u(e){ye(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ge=n(757),ke=n.n(ge);function be(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function we(e){return!!e&&!!e[lt]}function xe(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ft}(e)||Array.isArray(e)||!!e[ct]||!!e.constructor[ct]||Ne(e)||Ae(e))}function Ee(e,t,n){void 0===n&&(n=!1),0===_e(e)?(n?Object.keys:ht)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function _e(e){var t=e[lt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Ne(e)?2:Ae(e)?3:0}function Se(e,t){return 2===_e(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Te(e,t){return 2===_e(e)?e.get(t):e[t]}function Ie(e,t,n){var r=_e(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Ce(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Ne(e){return at&&e instanceof Map}function Ae(e){return ot&&e instanceof Set}function Oe(e){return e.o||e.t}function Pe(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=dt(e);delete t[lt];for(var n=ht(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Re(e,t){return void 0===t&&(t=!1),Le(e)||we(e)||!xe(e)||(_e(e)>1&&(e.set=e.add=e.clear=e.delete=De),Object.freeze(e),t&&Ee(e,(function(e,t){return Re(t,!0)}),!0)),e}function De(){be(2)}function Le(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Me(e){var t=pt[e];return t||be(18,e),t}function je(e,t){pt[e]||(pt[e]=t)}function Fe(){return rt}function Ue(e,t){t&&(Me("Patches"),e.u=[],e.s=[],e.v=t)}function Ve(e){Be(e),e.p.forEach(qe),e.p=null}function Be(e){e===rt&&(rt=e.l)}function ze(e){return rt={p:[],l:rt,h:e,m:!0,_:0}}function qe(e){var t=e[lt];0===t.i||1===t.i?t.j():t.O=!0}function We(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Me("ES5").S(t,e,r),r?(n[lt].P&&(Ve(t),be(4)),xe(e)&&(e=He(t,e),t.l||Ge(t,e)),t.u&&Me("Patches").M(n[lt],e,t.u,t.s)):e=He(t,n,[]),Ve(t),t.u&&t.v(t.u,t.s),e!==st?e:void 0}function He(e,t,n){if(Le(t))return t;var r=t[lt];if(!r)return Ee(t,(function(i,a){return Ke(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Ge(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Pe(r.k):r.o;Ee(3===r.i?new Set(i):i,(function(t,a){return Ke(e,r,i,t,a,n)})),Ge(e,i,!1),n&&e.u&&Me("Patches").R(r,n,e.u,e.s)}return r.o}function Ke(e,t,n,r,i,a){if(we(i)){var o=He(e,i,a&&t&&3!==t.i&&!Se(t.D,r)?a.concat(r):void 0);if(Ie(n,r,o),!we(o))return;e.m=!1}if(xe(i)&&!Le(i)){if(!e.h.F&&e._<1)return;He(e,i),t&&t.A.l||Ge(e,i)}}function Ge(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Re(t,n)}function Qe(e,t){var n=e[lt];return(n?Oe(n):e)[t]}function $e(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ye(e){e.P||(e.P=!0,e.l&&Ye(e.l))}function Xe(e){e.o||(e.o=Pe(e.t))}function Je(e,t,n){var r=Ne(t)?Me("MapSet").N(t,n):Ae(t)?Me("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Fe(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=vt;n&&(i=[r],a=yt);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):Me("ES5").J(t,n);return(n?n.A:Fe()).p.push(r),r}function Ze(e){return we(e)||be(22,e),function e(t){if(!xe(t))return t;var n,r=t[lt],i=_e(t);if(r){if(!r.P&&(r.i<4||!Me("ES5").K(r)))return r.t;r.I=!0,n=et(t,i),r.I=!1}else n=et(t,i);return Ee(n,(function(t,i){r&&Te(r.t,t)===i||Ie(n,t,e(i))})),3===i?new Set(n):n}(e)}function et(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Pe(e)}function tt(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[lt];return vt.get(t,e)},set:function(t){var n=this[lt];vt.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][lt];if(!i.P)switch(i.i){case 5:r(i)&&Ye(i);break;case 4:n(i)&&Ye(i)}}}function n(e){for(var t=e.t,n=e.k,r=ht(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==lt){var o=t[a];if(void 0===o&&!Se(t,a))return!0;var u=n[a],s=u&&u[lt];if(s?s.t!==o:!Ce(u,o))return!0}}var c=!!t[lt];return r.length!==ht(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var i={};je("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=dt(n);delete a[lt];for(var o=ht(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:Fe(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,lt,{value:a,writable:!0}),i},S:function(e,n,i){i?we(n)&&n[lt].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[lt];if(n){var i=n.t,a=n.k,o=n.D,u=n.i;if(4===u)Ee(a,(function(t){t!==lt&&(void 0!==i[t]||Se(i,t)?o[t]||e(a[t]):(o[t]=!0,Ye(n)))})),Ee(i,(function(e){void 0!==a[e]||Se(a,e)||(o[e]=!1,Ye(n))}));else if(5===u){if(r(n)&&(Ye(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var nt,rt,it="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),at="undefined"!=typeof Map,ot="undefined"!=typeof Set,ut="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,st=it?Symbol.for("immer-nothing"):((nt={})["immer-nothing"]=!0,nt),ct=it?Symbol.for("immer-draftable"):"__$immer_draftable",lt=it?Symbol.for("immer-state"):"__$immer_state",ft=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ht="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,dt=Object.getOwnPropertyDescriptors||function(e){var t={};return ht(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},pt={},vt={get:function(e,t){if(t===lt)return e;var n=Oe(e);if(!Se(n,t))return function(e,t,n){var r,i=$e(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!xe(r)?r:r===Qe(e.t,t)?(Xe(e),e.o[t]=Je(e.A.h,r,e)):r},has:function(e,t){return t in Oe(e)},ownKeys:function(e){return Reflect.ownKeys(Oe(e))},set:function(e,t,n){var r=$e(Oe(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Qe(Oe(e),t),a=null==i?void 0:i[lt];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Ce(n,i)&&(void 0!==n||Se(e.t,t)))return!0;Xe(e),Ye(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Qe(e.t,t)||t in e.t?(e.D[t]=!1,Xe(e),Ye(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Oe(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){be(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){be(12)}},yt={};Ee(vt,(function(e,t){yt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),yt.deleteProperty=function(e,t){return vt.deleteProperty.call(this,e[0],t)},yt.set=function(e,t,n){return vt.set.call(this,e[0],t,n,e[0])};var mt=function(){function e(e){var t=this;this.g=ut,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&be(6),void 0!==r&&"function"!=typeof r&&be(7),xe(e)){var u=ze(t),s=Je(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?Ve(u):Be(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return Ue(u,r),We(e,u)}),(function(e){throw Ve(u),e})):(Ue(u,r),We(o,u))}if(!e||"object"!=typeof e){if((o=n(e))===st)return;return void 0===o&&(o=e),t.F&&Re(o,!0),o}be(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){xe(e)||be(8),we(e)&&(e=Ze(e));var t=ze(this),n=Je(this,e,void 0);return n[lt].C=!0,Be(t),n},t.finishDraft=function(e,t){var n=(e&&e[lt]).A;return Ue(n,t),We(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ut&&be(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Me("Patches").$;return we(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),gt=new mt,kt=gt.produce,bt=(gt.produceWithPatches.bind(gt),gt.setAutoFreeze.bind(gt),gt.setUseProxies.bind(gt),gt.applyPatches.bind(gt),gt.createDraft.bind(gt),gt.finishDraft.bind(gt),kt);function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _t="function"===typeof Symbol&&Symbol.observable||"@@observable",St=function(){return Math.random().toString(36).substring(7).split("").join(".")},Tt={INIT:"@@redux/INIT"+St(),REPLACE:"@@redux/REPLACE"+St(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+St()}};function It(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ct(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Et(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Et(1));return n(Ct)(e,t)}if("function"!==typeof e)throw new Error(Et(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(Et(3));return a}function f(e){if("function"!==typeof e)throw new Error(Et(4));if(s)throw new Error(Et(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(Et(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!It(e))throw new Error(Et(7));if("undefined"===typeof e.type)throw new Error(Et(8));if(s)throw new Error(Et(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(Et(10));i=e,h({type:Tt.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Et(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[_t]=function(){return this},e}return h({type:Tt.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[_t]=p,r}function Nt(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Tt.INIT}))throw new Error(Et(12));if("undefined"===typeof n(void 0,{type:Tt.PROBE_UNKNOWN_ACTION()}))throw new Error(Et(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Et(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function At(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Et(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=At.apply(void 0,a)(n.dispatch),xt(xt({},n),{},{dispatch:r})}}}function Pt(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Rt=Pt();Rt.withExtraArgument=Pt;var Dt=Rt,Lt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mt=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},jt=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Ft=Object.defineProperty,Ut=Object.defineProperties,Vt=Object.getOwnPropertyDescriptors,Bt=Object.getOwnPropertySymbols,zt=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable,Wt=function(e,t,n){return t in e?Ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ht=function(e,t){for(var n in t||(t={}))zt.call(t,n)&&Wt(e,n,t[n]);if(Bt)for(var r=0,i=Bt(t);r<i.length;r++){n=i[r];qt.call(t,n)&&Wt(e,n,t[n])}return e},Kt=function(e,t){return Ut(e,Vt(t))},Gt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?At:At.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Qt(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var $t=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Lt(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,jt([void 0],e[0].concat(this)))):new(t.bind.apply(t,jt([void 0],e.concat(this))))},t}(Array);function Yt(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new $t);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Dt.withExtraArgument(n.extraArgument)):r.push(Dt));0;return r}(e)}}function Xt(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ht(Ht({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Jt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Zt(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:bt(e.initialState,(function(){})),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?Jt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=Ht(Ht({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?Jt(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return bt(e(),(function(){}))};else{var c=bt(e,(function(){}));i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=jt([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(we(e))return"undefined"===typeof(r=n(e,t))?e:r;if(xe(e))return bt(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?Xt(c,r):Xt(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var en=["name","message","stack","code"],tn=function(e,t){this.payload=e,this.meta=t},nn=function(e,t){this.payload=e,this.meta=t},rn=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=en;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function an(e,t,n){var r=Xt(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Kt(Ht({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Xt(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Kt(Ht({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=Xt(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||rn)(e||"Rejected"),meta:Kt(Ht({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t}(),h=new o,d=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),p=!1;var v=function(){return o=this,l=null,v=function(){var o,l,v,y,m;return Mt(this,(function(g){switch(g.label){case 0:return g.trys.push([0,4,,5]),y=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}),null===(k=y)||"object"!==typeof k||"function"!==typeof k.then?[3,2]:[4,y];case 1:y=g.sent(),g.label=2;case 2:if(!1===y)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return p=!0,u(i(f,e,null==(l=null==n?void 0:n.getPendingMeta)?void 0:l.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([d,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,rejectWithValue:function(e,t){return new tn(e,t)},fulfillWithValue:function(e,t){return new nn(e,t)}})).then((function(t){if(t instanceof tn)throw t;return t instanceof nn?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=g.sent(),[3,5];case 4:return m=g.sent(),v=m instanceof tn?a(null,f,e,m.payload,m.meta):a(m,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||u(v),[2,v]}var k}))},new Promise((function(e,t){var n=function(e){try{i(v.next(e))}catch(n){t(n)}},r=function(e){try{i(v.throw(e))}catch(n){t(n)}},i=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(n,r)};i((v=v.apply(o,l)).next())}));var o,l,v}();return Object.assign(v,{abort:function(e){p&&(l=e,h.abort())},requestId:f,arg:e,unwrap:function(){return v.then(on)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}function on(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function un(e,t){return un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},un(e,t)}function sn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function cn(e,t,n){return cn=sn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&un(i,n.prototype),i},cn.apply(null,arguments)}function ln(e){return ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ln(e)}function fn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ln(e)););return e}function hn(){return hn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=fn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},hn.apply(this,arguments)}function dn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function pn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&un(e,t)}function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mn(e,t){if(t&&("object"===vn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yn(e)}function gn(e){var t=sn();return function(){var n,r=ln(e);if(t){var i=ln(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mn(this,n)}}function kn(e){var t="function"===typeof Map?new Map:void 0;return kn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return cn(e,arguments,ln(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),un(n,e)},kn(e)}function bn(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t,n){return t&&xn(e.prototype,t),n&&xn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}tt();var _n=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Sn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_n(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Tn=function(e){try{return Sn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var In=function(){function e(){var t=this;wn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return En(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Cn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Nn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function An(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function On(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Pn(){var e=Cn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}var Rn=function(e){pn(n,e);var t=gn(n);function n(e,r,i){var a;return wn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(yn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(yn(a),Dn.prototype.create),a}return En(n)}(kn(Error)),Dn=function(){function e(t,n,r){wn(this,e),this.service=t,this.serviceName=n,this.errors=r}return En(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ln(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Rn(n,a,t);return o}}]),e}();function Ln(e,t){return e.replace(Mn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Mn=/\{\$([^}]+)}/g;function jn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Fn(u)&&Fn(s)){if(!jn(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Fn(e){return null!==e&&"object"===typeof e}function Un(e){for(var t=[],n=function(){var e=a(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Vn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=a(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Bn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var zn=function(){function e(t,n){var r=this;wn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return En(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=dn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=qn),void 0===r.error&&(r.error=qn),void 0===r.complete&&(r.complete=qn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function qn(){}function Wn(e){return e&&e._delegate?e._delegate:e}var Hn=function(){function e(t,n,r){wn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return En(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Kn="[DEFAULT]",Gn=function(){function e(t,n){wn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return En(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new In;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Kn})}catch(c){}var t,n=dn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=a(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=me(ge.mark((function e(){var t;return ge.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(bn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),bn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=dn(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=a(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(o)}}catch(h){u.e(h)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=dn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(ap){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Kn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(ap){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn;return this.component?this.component.multipleInstances?e:Kn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Qn,$n,Yn=function(){function e(t){wn(this,e),this.name=t,this.providers=new Map}return En(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Gn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Xn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}($n||($n={}));var Jn,Zn,er={debug:$n.DEBUG,verbose:$n.VERBOSE,info:$n.INFO,warn:$n.WARN,error:$n.ERROR,silent:$n.SILENT},tr=$n.INFO,nr=(ve(Qn={},$n.DEBUG,"log"),ve(Qn,$n.VERBOSE,"log"),ve(Qn,$n.INFO,"info"),ve(Qn,$n.WARN,"warn"),ve(Qn,$n.ERROR,"error"),Qn),rr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=nr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ir=function(){function e(t){wn(this,e),this.name=t,this._logLevel=tr,this._logHandler=rr,this._userLogHandler=null,Xn.push(this)}return En(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in $n))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?er[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$n.DEBUG].concat(t)),this._logHandler.apply(this,[this,$n.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$n.VERBOSE].concat(t)),this._logHandler.apply(this,[this,$n.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$n.INFO].concat(t)),this._logHandler.apply(this,[this,$n.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$n.WARN].concat(t)),this._logHandler.apply(this,[this,$n.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$n.ERROR].concat(t)),this._logHandler.apply(this,[this,$n.ERROR].concat(t))}}]),e}();var ar=function(){function e(t){wn(this,e),this.container=t}return En(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var or="@firebase/app",ur="0.7.11",sr=new ir("@firebase/app"),cr="[DEFAULT]",lr=(ve(Jn={},or,"fire-core"),ve(Jn,"@firebase/app-compat","fire-core-compat"),ve(Jn,"@firebase/analytics","fire-analytics"),ve(Jn,"@firebase/analytics-compat","fire-analytics-compat"),ve(Jn,"@firebase/app-check","fire-app-check"),ve(Jn,"@firebase/app-check-compat","fire-app-check-compat"),ve(Jn,"@firebase/auth","fire-auth"),ve(Jn,"@firebase/auth-compat","fire-auth-compat"),ve(Jn,"@firebase/database","fire-rtdb"),ve(Jn,"@firebase/database-compat","fire-rtdb-compat"),ve(Jn,"@firebase/functions","fire-fn"),ve(Jn,"@firebase/functions-compat","fire-fn-compat"),ve(Jn,"@firebase/installations","fire-iid"),ve(Jn,"@firebase/installations-compat","fire-iid-compat"),ve(Jn,"@firebase/messaging","fire-fcm"),ve(Jn,"@firebase/messaging-compat","fire-fcm-compat"),ve(Jn,"@firebase/performance","fire-perf"),ve(Jn,"@firebase/performance-compat","fire-perf-compat"),ve(Jn,"@firebase/remote-config","fire-rc"),ve(Jn,"@firebase/remote-config-compat","fire-rc-compat"),ve(Jn,"@firebase/storage","fire-gcs"),ve(Jn,"@firebase/storage-compat","fire-gcs-compat"),ve(Jn,"@firebase/firestore","fire-fst"),ve(Jn,"@firebase/firestore-compat","fire-fst-compat"),ve(Jn,"fire-js","fire-js"),ve(Jn,"firebase","fire-js-all"),Jn),fr=new Map,hr=new Map;function dr(e,t){try{e.container.addComponent(t)}catch(n){sr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function pr(e){var t=e.name;if(hr.has(t))return sr.debug("There were multiple attempts to register component ".concat(t,".")),!1;hr.set(t,e);var n,r=dn(fr.values());try{for(r.s();!(n=r.n()).done;){dr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function vr(e,t){return e.container.getProvider(t)}var yr,mr=(ve(Zn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ve(Zn,"bad-app-name","Illegal App name: '{$appName}"),ve(Zn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ve(Zn,"app-deleted","Firebase App named '{$appName}' already deleted"),ve(Zn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ve(Zn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Zn),gr=new Dn("app","Firebase",mr),kr=function(){function e(t,n,r){var i=this;wn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hn("app",(function(){return i}),"PUBLIC"))}return En(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}]),e}(),br="9.6.1";function wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr,t=fr.get(e);if(!t)throw gr.create("no-app",{appName:e});return t}function xr(e,t,n){var r,i=null!==(r=lr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void sr.warn(u.join(" "))}pr(new Hn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}yr="",pr(new Hn("platform-logger",(function(e){return new ar(e)}),"PRIVATE")),xr(or,ur,yr),xr(or,ur,"esm2017"),xr("fire-js","");var Er,_r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Sr={},Tr=Tr||{},Ir=_r||self;function Cr(){}function Nr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ar(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Or="closure_uid_"+(1e9*Math.random()>>>0),Pr=0;function Rr(e,t,n){return e.call.apply(e.bind,arguments)}function Dr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Lr(e,t,n){return(Lr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rr:Dr).apply(null,arguments)}function Mr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function jr(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Fr(){this.s=this.s,this.o=this.o}var Ur={};Fr.prototype.s=!1,Fr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Or)&&e[Or]||(e[Or]=++Pr)}(this);delete Ur[e]}},Fr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Vr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Br=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function zr(e){return Array.prototype.concat.apply([],arguments)}function qr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Wr(e){return/^[\s\xa0]*$/.test(e)}var Hr,Kr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Gr(e,t){return-1!=e.indexOf(t)}function Qr(e,t){return e<t?-1:e>t?1:0}e:{var $r=Ir.navigator;if($r){var Yr=$r.userAgent;if(Yr){Hr=Yr;break e}}Hr=""}function Xr(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Jr(e){var t={};for(var n in e)t[n]=e[n];return t}var Zr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ei(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Zr.length;a++)n=Zr[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ti(e){return ti[" "](e),e}ti[" "]=Cr;var ni,ri=Gr(Hr,"Opera"),ii=Gr(Hr,"Trident")||Gr(Hr,"MSIE"),ai=Gr(Hr,"Edge"),oi=ai||ii,ui=Gr(Hr,"Gecko")&&!(Gr(Hr.toLowerCase(),"webkit")&&!Gr(Hr,"Edge"))&&!(Gr(Hr,"Trident")||Gr(Hr,"MSIE"))&&!Gr(Hr,"Edge"),si=Gr(Hr.toLowerCase(),"webkit")&&!Gr(Hr,"Edge");function ci(){var e=Ir.document;return e?e.documentMode:void 0}e:{var li="",fi=function(){var e=Hr;return ui?/rv:([^\);]+)(\)|;)/.exec(e):ai?/Edge\/([\d\.]+)/.exec(e):ii?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):si?/WebKit\/(\S+)/.exec(e):ri?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(fi&&(li=fi?fi[1]:""),ii){var hi=ci();if(null!=hi&&hi>parseFloat(li)){ni=String(hi);break e}}ni=li}var di,pi={};function vi(){return function(e){var t=pi;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Kr(String(ni)).split("."),n=Kr("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Qr(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Qr(0==a[2].length,0==o[2].length)||Qr(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ir.document&&ii){var yi=ci();di=yi||(parseInt(ni,10)||void 0)}else di=void 0;var mi=di,gi=function(){if(!Ir.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ir.addEventListener("test",Cr,t),Ir.removeEventListener("test",Cr,t)}catch(Ce){}return e}();function ki(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function bi(e,t){if(ki.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ui){e:{try{ti(t.nodeName);var i=!0;break e}catch(Ie){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:wi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&bi.Z.h.call(this)}}ki.prototype.h=function(){this.defaultPrevented=!0},jr(bi,ki);var wi={2:"touch",3:"pen",4:"mouse"};bi.prototype.h=function(){bi.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var xi="closure_listenable_"+(1e6*Math.random()|0),Ei=0;function _i(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ei,this.ca=this.fa=!1}function Si(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ti(e){this.src=e,this.g={},this.h=0}function Ii(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Vr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Si(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ci(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Ti.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ci(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new _i(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ni="closure_lm_"+(1e6*Math.random()|0),Ai={};function Oi(e,t,n,r,i){if(r&&r.once)return Ri(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Oi(e,t[a],n,r,i);return null}return n=Vi(n),e&&e[xi]?e.N(t,n,Ar(r)?!!r.capture:!!r,i):Pi(e,t,n,!1,r,i)}function Pi(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ar(i)?!!i.capture:!!i,u=Fi(e);if(u||(e[Ni]=u=new Ti(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ji;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)gi||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Mi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ri(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ri(e,t[a],n,r,i);return null}return n=Vi(n),e&&e[xi]?e.O(t,n,Ar(r)?!!r.capture:!!r,i):Pi(e,t,n,!0,r,i)}function Di(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Di(e,t[a],n,r,i);else r=Ar(r)?!!r.capture:!!r,n=Vi(n),e&&e[xi]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ci(a=e.g[t],n,r,i))&&(Si(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Fi(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ci(t,n,r,i)),(n=-1<e?t[e]:null)&&Li(n))}function Li(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[xi])Ii(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Mi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Fi(t))?(Ii(n,e),0==n.h&&(n.src=null,t[Ni]=null)):Si(e)}}}function Mi(e){return e in Ai?Ai[e]:Ai[e]="on"+e}function ji(e,t){if(e.ca)e=!0;else{t=new bi(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Li(e),e=n.call(r,t)}return e}function Fi(e){return(e=e[Ni])instanceof Ti?e:null}var Ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vi(e){return"function"===typeof e?e:(e[Ui]||(e[Ui]=function(t){return e.handleEvent(t)}),e[Ui])}function Bi(){Fr.call(this),this.i=new Ti(this),this.P=this,this.I=null}function zi(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ki(t,e);else if(t instanceof ki)t.target=t.target||e;else{var i=t;ei(t=new ki(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=qi(o,r,!0,t)&&i}if(i=qi(o=t.g=e,r,!0,t)&&i,i=qi(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=qi(o=t.g=n[a],r,!1,t)&&i}function qi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Ii(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}jr(Bi,Fr),Bi.prototype[xi]=!0,Bi.prototype.removeEventListener=function(e,t,n,r){Di(this,e,t,n,r)},Bi.prototype.M=function(){if(Bi.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Si(n[r]);delete t.g[e],t.h--}}this.I=null},Bi.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Bi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Wi=Ir.JSON.stringify;function Hi(){var e=Zi,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ki,Gi=function(){function e(){wn(this,e),this.h=this.g=null}return En(e,[{key:"add",value:function(e,t){var n=Qi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Qi=new(function(){function e(t,n){wn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return En(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new $i}),(function(e){return e.reset()})),$i=function(){function e(){wn(this,e),this.next=this.g=this.h=null}return En(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Yi(e){Ir.setTimeout((function(){throw e}),0)}function Xi(e,t){Ki||function(){var e=Ir.Promise.resolve(void 0);Ki=function(){e.then(ea)}}(),Ji||(Ki(),Ji=!0),Zi.add(e,t)}var Ji=!1,Zi=new Gi;function ea(){for(var e;e=Hi();){try{e.h.call(e.g)}catch(Ce){Yi(Ce)}var t=Qi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ji=!1}function ta(e,t){Bi.call(this),this.h=e||1,this.g=t||Ir,this.j=Lr(this.kb,this),this.l=Date.now()}function na(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ra(e,t,n){if("function"===typeof e)n&&(e=Lr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Lr(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ir.setTimeout(e,t||0)}function ia(e){e.g=ra((function(){e.g=null,e.i&&(e.i=!1,ia(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}jr(ta,Bi),(Er=ta.prototype).da=!1,Er.S=null,Er.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zi(this,"tick"),this.da&&(na(this),this.start()))}},Er.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Er.M=function(){ta.Z.M.call(this),na(this),delete this.g};var aa=function(e){pn(n,e);var t=gn(n);function n(e,r){var i;return wn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return En(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ia(this)}},{key:"M",value:function(){hn(ln(n.prototype),"M",this).call(this),this.g&&(Ir.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Fr);function oa(e){Fr.call(this),this.h=e,this.g={}}jr(oa,Fr);var ua=[];function sa(e,t,n,r){Array.isArray(n)||(n&&(ua[0]=n.toString()),n=ua);for(var i=0;i<n.length;i++){var a=Oi(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ca(e){Xr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Li(e)}),e),e.g={}}function la(){this.g=!0}function fa(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Wi(n)}catch(be){return t}}(e,n)+(r?" "+r:"")}))}oa.prototype.M=function(){oa.Z.M.call(this),ca(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},la.prototype.Aa=function(){this.g=!1},la.prototype.info=function(){};var ha={},da=null;function pa(){return da=da||new Bi}function va(e){ki.call(this,ha.Ma,e)}function ya(e){var t=pa();zi(t,new va(t,e))}function ma(e,t){ki.call(this,ha.STAT_EVENT,e),this.stat=t}function ga(e){var t=pa();zi(t,new ma(t,e))}function ka(e,t){ki.call(this,ha.Na,e),this.size=t}function ba(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ir.setTimeout((function(){e()}),t)}ha.Ma="serverreachability",jr(va,ki),ha.STAT_EVENT="statevent",jr(ma,ki),ha.Na="timingevent",jr(ka,ki);var wa={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xa={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ea(){}function _a(e){return e.h||(e.h=e.i())}function Sa(){}Ea.prototype.h=null;var Ta,Ia={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ca(){ki.call(this,"d")}function Na(){ki.call(this,"c")}function Aa(){}function Oa(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new oa(this),this.P=Ra,e=oi?125:void 0,this.W=new ta(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Pa}function Pa(){this.i=null,this.g="",this.h=!1}jr(Ca,ki),jr(Na,ki),jr(Aa,Ea),Aa.prototype.g=function(){return new XMLHttpRequest},Aa.prototype.i=function(){return{}},Ta=new Aa;var Ra=45e3,Da={},La={};function Ma(e,t,n){e.K=1,e.v=ao(Za(t)),e.s=n,e.U=!0,ja(e,null)}function ja(e,t){e.F=Date.now(),Ba(e),e.A=Za(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ko(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Pa,e.g=bu(e.l,n?t:null,!e.s),0<e.O&&(e.L=new aa(Lr(e.Ia,e,e.g),e.O)),sa(e.V,e.g,"readystatechange",e.gb),t=e.H?Jr(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ya(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Fa(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ua(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Va(e,n))==La){4==t&&(e.o=4,ga(14),i=!1),fa(e.j,e.m,null,"[Incomplete Response]");break}if(r==Da){e.o=4,ga(15),fa(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}fa(e.j,e.m,r,null),Ka(e,r)}Fa(e)&&r!=La&&r!=Da&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ga(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),hu(t),t.L=!0,ga(11))):(fa(e.j,e.m,n,"[Invalid Chunked Response]"),Ha(e),Wa(e))}function Va(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?La:(n=Number(t.substring(n,r)),isNaN(n)?Da:(r+=1)+n>t.length?La:(t=t.substr(r,n),e.C=r+n,t))}function Ba(e){e.Y=Date.now()+e.P,za(e,e.P)}function za(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ba(Lr(e.eb,e),t)}function qa(e){e.B&&(Ir.clearTimeout(e.B),e.B=null)}function Wa(e){0==e.l.G||e.I||vu(e.l,e)}function Ha(e){qa(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,na(e.W),ca(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ka(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||To(n.i,e)))if(n.I=e.N,!e.J&&To(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;pu(n),ru(n)}fu(n),ga(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ba(Lr(n.ab,n),6e3));if(1>=So(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else mu(n,11)}else if((e.J||n.g==e)&&pu(n),!Wr(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Gr(l,"spdy")||Gr(l,"quic")||Gr(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Io(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,io(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ku(r,r.H?r.la:null,r.W),d.J){Co(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(qa(p),Ba(p)),r.g=d}else lu(r);0<n.l.length&&ou(n)}else"stop"!=a[0]&&"close"!=a[0]||mu(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?mu(n,7):nu(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ya(4)}catch(a){}}function Ga(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Nr(e)||"string"===typeof e)Br(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Nr(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Nr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Qa(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Qa)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function $a(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ya(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ya(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ya(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Er=Oa.prototype).setTimeout=function(e){this.P=e},Er.gb=function(e){e=e.target;var t=this.L;t&&3==Xo(e)?t.l():this.Ia(e)},Er.Ia=function(e){try{if(e==this.g)e:{var t=Xo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||oi||this.g&&(this.h.h||this.g.ga()||Jo(this.g)))){this.I||4!=t||7==n||ya(8==n||0>=r?3:2),qa(this);var i=this.g.ba();this.N=i;t:if(Fa(this)){var a=Jo(this.g);e="";var o=a.length,u=4==Xo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ha(this),Wa(this);var s="";break t}this.h.i=new Ir.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wr(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ga(12),Ha(this),Wa(this);break e}fa(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ka(this,i)}this.U?(Ua(this,t,s),oi&&this.i&&3==t&&(sa(this.V,this.W,"tick",this.fb),this.W.start())):(fa(this.j,this.m,s,null),Ka(this,s)),4==t&&Ha(this),this.i&&!this.I&&(4==t?vu(this.l,this):(this.i=!1,Ba(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ga(12)):(this.o=0,ga(13)),Ha(this),Wa(this)}}}catch(t){}},Er.fb=function(){if(this.g){var e=Xo(this.g),t=this.g.ga();this.C<t.length&&(qa(this),Ua(this,e,t),this.i&&4!=e&&Ba(this))}},Er.cancel=function(){this.I=!0,Ha(this)},Er.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ya(3),ga(17)),Ha(this),this.o=2,Wa(this)):za(this,this.Y-e)},(Er=Qa.prototype).R=function(){$a(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Er.T=function(){return $a(this),this.g.concat()},Er.get=function(e,t){return Ya(this.h,e)?this.h[e]:t},Er.set=function(e,t){Ya(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Er.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Xa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ja(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ja){this.g=void 0!==t?t:e.g,eo(this,e.j),this.s=e.s,to(this,e.i),no(this,e.m),this.l=e.l,t=e.h;var n=new vo;n.i=t.i,t.g&&(n.g=new Qa(t.g),n.h=t.h),ro(this,n),this.o=e.o}else e&&(n=String(e).match(Xa))?(this.g=!!t,eo(this,n[1]||"",!0),this.s=oo(n[2]||""),to(this,n[3]||"",!0),no(this,n[4]),this.l=oo(n[5]||"",!0),ro(this,n[6]||"",!0),this.o=oo(n[7]||"")):(this.g=!!t,this.h=new vo(null,this.g))}function Za(e){return new Ja(e)}function eo(e,t,n){e.j=n?oo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function to(e,t,n){e.i=n?oo(t,!0):t}function no(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ro(e,t,n){t instanceof vo?(e.h=t,function(e,t){t&&!e.j&&(yo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(mo(this,t),ko(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=uo(t,ho)),e.h=new vo(t,e.g))}function io(e,t,n){e.h.set(t,n)}function ao(e){return io(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function oo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function uo(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,so),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function so(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ja.prototype.toString=function(){var e=[],t=this.j;t&&e.push(uo(t,co,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(uo(t,co,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(uo(n,"/"==n.charAt(0)?fo:lo,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",uo(n,po)),e.join("")};var co=/[#\/\?@]/g,lo=/[#\?:]/g,fo=/[#\?]/g,ho=/[#\?@]/g,po=/#/g;function vo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function yo(e){e.g||(e.g=new Qa,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function mo(e,t){yo(e),t=bo(e,t),Ya(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ya((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&$a(e)))}function go(e,t){return yo(e),t=bo(e,t),Ya(e.g.h,t)}function ko(e,t,n){mo(e,t),0<n.length&&(e.i=null,e.g.set(bo(e,t),qr(n)),e.h+=n.length)}function bo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Er=vo.prototype).add=function(e,t){yo(this),this.i=null,e=bo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Er.forEach=function(e,t){yo(this),this.g.forEach((function(n,r){Br(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Er.T=function(){yo(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Er.R=function(e){yo(this);var t=[];if("string"===typeof e)go(this,e)&&(t=zr(t,this.g.get(bo(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=zr(t,e[n])}return t},Er.set=function(e,t){return yo(this),this.i=null,go(this,e=bo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Er.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Er.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var wo=En((function e(t,n){wn(this,e),this.h=t,this.g=n}));function xo(e){this.l=e||Eo,Ir.PerformanceNavigationTiming?e=0<(e=Ir.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ir.g&&Ir.g.Ea&&Ir.g.Ea()&&Ir.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Eo=10;function _o(e){return!!e.h||!!e.g&&e.g.size>=e.j}function So(e){return e.h?1:e.g?e.g.size:0}function To(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Io(e,t){e.g?e.g.add(t):e.h=t}function Co(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function No(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=dn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return qr(e.i)}function Ao(){}function Oo(){this.g=new Ao}function Po(e,t,n){var r=n||"";try{Ga(e,(function(e,n){var i=e;Ar(e)&&(i=Wi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ro(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Ie){}}function Do(e){this.l=e.$b||null,this.j=e.ib||!1}function Lo(e,t){Bi.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Mo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xo.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=dn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ao.prototype.stringify=function(e){return Ir.JSON.stringify(e,void 0)},Ao.prototype.parse=function(e){return Ir.JSON.parse(e,void 0)},jr(Do,Ea),Do.prototype.g=function(){return new Lo(this.l,this.j)},Do.prototype.i=function(e){return function(){return e}}({}),jr(Lo,Bi);var Mo=0;function jo(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Fo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Uo(e)}function Uo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Er=Lo.prototype).open=function(e,t){if(this.readyState!=Mo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Uo(this)},Er.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ir).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Er.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fo(this)),this.readyState=Mo},Er.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Uo(this)),this.g&&(this.readyState=3,Uo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ir.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jo(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Er.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Fo(this):Uo(this),3==this.readyState&&jo(this)}},Er.Ua=function(e){this.g&&(this.response=this.responseText=e,Fo(this))},Er.Ta=function(e){this.g&&(this.response=e,Fo(this))},Er.ha=function(){this.g&&Fo(this)},Er.setRequestHeader=function(e,t){this.v.append(e,t)},Er.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Er.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Vo=Ir.JSON.parse;function Bo(e){Bi.call(this),this.headers=new Qa,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zo,this.K=this.L=!1}jr(Bo,Bi);var zo="",qo=/^https?$/i,Wo=["POST","PUT"];function Ho(e){return"content-type"==e.toLowerCase()}function Ko(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Go(e),$o(e)}function Go(e){e.D||(e.D=!0,zi(e,"complete"),zi(e,"error"))}function Qo(e){if(e.h&&"undefined"!=typeof Tr&&(!e.C[1]||4!=Xo(e)||2!=e.ba()))if(e.v&&4==Xo(e))ra(e.Fa,0,e);else if(zi(e,"readystatechange"),4==Xo(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Xa)[1]||null;if(!a&&Ir.self&&Ir.self.location){var o=Ir.self.location.protocol;a=o.substr(0,o.length-1)}i=!qo.test(a?a.toLowerCase():"")}t=i}if(t)zi(e,"complete"),zi(e,"success");else{e.m=6;try{var u=2<Xo(e)?e.g.statusText:""}catch(Se){u=""}e.j=u+" ["+e.ba()+"]",Go(e)}}finally{$o(e)}}}function $o(e,t){if(e.g){Yo(e);var n=e.g,r=e.C[0]?Cr:null;e.g=null,e.C=null,t||zi(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Yo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ir.clearTimeout(e.A),e.A=null)}function Xo(e){return e.g?e.g.readyState:0}function Jo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case zo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Me){return null}}function Zo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Xr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):io(e,t,n))}function eu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tu(e){this.za=0,this.l=[],this.h=new la,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=eu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=eu("baseRetryDelayMs",5e3,e),this.$a=eu("retryDelaySeedMs",1e4,e),this.Ya=eu("forwardChannelMaxRetries",2,e),this.ra=eu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new xo(e&&e.concurrentRequestLimit),this.Ca=new Oo,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function nu(e){if(iu(e),3==e.G){var t=e.V++,n=Za(e.F);io(n,"SID",e.J),io(n,"RID",t),io(n,"TYPE","terminate"),su(e,n),(t=new Oa(e,e.h,t,void 0)).K=2,t.v=ao(Za(n)),n=!1,Ir.navigator&&Ir.navigator.sendBeacon&&(n=Ir.navigator.sendBeacon(t.v.toString(),"")),!n&&Ir.Image&&((new Image).src=t.v,n=!0),n||(t.g=bu(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ba(t)}gu(e)}function ru(e){e.g&&(hu(e),e.g.cancel(),e.g=null)}function iu(e){ru(e),e.u&&(Ir.clearTimeout(e.u),e.u=null),pu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ir.clearTimeout(e.m),e.m=null)}function au(e,t){e.l.push(new wo(e.Za++,t)),3==e.G&&ou(e)}function ou(e){_o(e.i)||e.m||(e.m=!0,Xi(e.Ha,e),e.C=0)}function uu(e,t){var n;n=t?t.m:e.V++;var r=Za(e.F);io(r,"SID",e.J),io(r,"RID",n),io(r,"AID",e.U),su(e,r),e.o&&e.s&&Zo(r,e.o,e.s),n=new Oa(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=cu(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Io(e.i,n),Ma(n,r,t)}function su(e,t){e.j&&Ga({},(function(e,n){io(t,n,e)}))}function cu(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Lr(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Po(l,o,"req"+c+"_")}catch(nt){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function lu(e){e.g||e.u||(e.Y=1,Xi(e.Ga,e),e.A=0)}function fu(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ba(Lr(e.Ga,e),yu(e,e.A)),e.A++,!0)}function hu(e){null!=e.B&&(Ir.clearTimeout(e.B),e.B=null)}function du(e){e.g=new Oa(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Za(e.oa);io(t,"RID","rpc"),io(t,"SID",e.J),io(t,"CI",e.N?"0":"1"),io(t,"AID",e.U),su(e,t),io(t,"TYPE","xmlhttp"),e.o&&e.s&&Zo(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ao(Za(t)),n.s=null,n.U=!0,ja(n,e)}function pu(e){null!=e.v&&(Ir.clearTimeout(e.v),e.v=null)}function vu(e,t){var n=null;if(e.g==t){pu(e),hu(e),e.g=null;var r=2}else{if(!To(e.i,t))return;n=t.D,Co(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;zi(r=pa(),new ka(r,n,t,i)),ou(e)}else lu(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(So(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ba(Lr(e.Ha,e,t),yu(e,e.C)),e.C++,!0))}(e,t)||2==r&&fu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:mu(e,5);break;case 4:mu(e,10);break;case 3:mu(e,6);break;default:mu(e,2)}}function yu(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function mu(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Lr(e.jb,e);n||(n=new Ja("//www.google.com/images/cleardot.gif"),Ir.location&&"http"==Ir.location.protocol||eo(n,"https"),ao(n)),function(e,t){var n=new la;if(Ir.Image){var r=new Image;r.onload=Mr(Ro,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Mr(Ro,n,r,"TestLoadImage: error",!1,t),r.onabort=Mr(Ro,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Mr(Ro,n,r,"TestLoadImage: timeout",!1,t),Ir.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ga(2);e.G=0,e.j&&e.j.va(t),gu(e),iu(e)}function gu(e){e.G=0,e.I=-1,e.j&&(0==No(e.i).length&&0==e.l.length||(e.i.i.length=0,qr(e.l),e.l.length=0),e.j.ua())}function ku(e,t,n){var r=function(e){return e instanceof Ja?Za(e):new Ja(e,void 0)}(n);if(""!=r.i)t&&to(r,t+"."+r.i),no(r,r.m);else{var i=Ir.location;r=function(e,t,n,r){var i=new Ja(null,void 0);return e&&eo(i,e),t&&to(i,t),n&&no(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Xr(e.aa,(function(e,t){io(r,t,e)})),t=e.D,n=e.sa,t&&n&&io(r,t,n),io(r,"VER",e.ma),su(e,r),r}function bu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Bo(new Do({ib:!0})):new Bo(e.qa)).L=e.H,t}function wu(){}function xu(){if(ii&&!(10<=Number(mi)))throw Error("Environmental error: no available transport.")}function Eu(e,t){Bi.call(this),this.g=new tu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Wr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Wr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Tu(this)}function _u(e){Ca.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Su(){Na.call(this),this.status=1}function Tu(e){this.g=e}(Er=Bo.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ta.g(),this.C=this.u?_a(this.u):_a(Ta),this.g.onreadystatechange=Lr(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(Ie){return void Ko(this,Ie)}e=n||"";var i=new Qa(this.headers);r&&Ga(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ho,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ir.FormData&&e instanceof Ir.FormData,!(0<=Vr(Wo,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yo(this),0<this.B&&((this.K=function(e){return ii&&vi()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lr(this.pa,this)):this.A=ra(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Ie){Ko(this,Ie)}},Er.pa=function(){"undefined"!=typeof Tr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zi(this,"timeout"),this.abort(8))},Er.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,zi(this,"complete"),zi(this,"abort"),$o(this))},Er.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$o(this,!0)),Bo.Z.M.call(this)},Er.Fa=function(){this.s||(this.F||this.v||this.l?Qo(this):this.cb())},Er.cb=function(){Qo(this)},Er.ba=function(){try{return 2<Xo(this)?this.g.status:-1}catch(Te){return-1}},Er.ga=function(){try{return this.g?this.g.responseText:""}catch(Te){return""}},Er.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Vo(t)}},Er.Da=function(){return this.m},Er.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Er=tu.prototype).ma=8,Er.G=1,Er.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(Me){}},Er.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Oa(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ei(n=Jr(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=cu(this,t,r),io(i=Za(this.F),"RID",e),io(i,"CVER",22),this.D&&io(i,"X-HTTP-Session-Id",this.D),su(this,i),this.o&&n&&Zo(i,this.o,n),Io(this.i,t),this.Ra&&io(i,"TYPE","init"),this.ja?(io(i,"$req",r),io(i,"SID","null"),t.$=!0,Ma(t,i,null)):Ma(t,i,r),this.G=2}}else 3==this.G&&(e?uu(this,e):0==this.l.length||_o(this.i)||uu(this))},Er.Ga=function(){if(this.u=null,du(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ba(Lr(this.bb,this),e)}},Er.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ga(10),ru(this),du(this))},Er.ab=function(){null!=this.v&&(this.v=null,ru(this),fu(this),ga(19))},Er.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ga(2)):(this.h.info("Failed to ping google.com"),ga(1))},(Er=wu.prototype).xa=function(){},Er.wa=function(){},Er.va=function(){},Er.ua=function(){},Er.Oa=function(){},xu.prototype.g=function(e,t){return new Eu(e,t)},jr(Eu,Bi),Eu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Xi(Lr(e.hb,e,t))),ga(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ku(e,null,e.W),ou(e)},Eu.prototype.close=function(){nu(this.g)},Eu.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,au(this.g,t)}else this.v?((t={}).__data__=Wi(e),au(this.g,t)):au(this.g,e)},Eu.prototype.M=function(){this.g.j=null,delete this.j,nu(this.g),delete this.g,Eu.Z.M.call(this)},jr(_u,Ca),jr(Su,Na),jr(Tu,wu),Tu.prototype.xa=function(){zi(this.g,"a")},Tu.prototype.wa=function(e){zi(this.g,new _u(e))},Tu.prototype.va=function(e){zi(this.g,new Su(e))},Tu.prototype.ua=function(){zi(this.g,"b")},xu.prototype.createWebChannel=xu.prototype.g,Eu.prototype.send=Eu.prototype.u,Eu.prototype.open=Eu.prototype.m,Eu.prototype.close=Eu.prototype.close,wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,xa.COMPLETE="complete",Sa.EventType=Ia,Ia.OPEN="a",Ia.CLOSE="b",Ia.ERROR="c",Ia.MESSAGE="d",Bi.prototype.listen=Bi.prototype.N,Bo.prototype.listenOnce=Bo.prototype.O,Bo.prototype.getLastError=Bo.prototype.La,Bo.prototype.getLastErrorCode=Bo.prototype.Da,Bo.prototype.getStatus=Bo.prototype.ba,Bo.prototype.getResponseJson=Bo.prototype.Qa,Bo.prototype.getResponseText=Bo.prototype.ga,Bo.prototype.send=Bo.prototype.ea;var Iu=Sr.createWebChannelTransport=function(){return new xu},Cu=Sr.getStatEventTarget=function(){return pa()},Nu=Sr.ErrorCode=wa,Au=Sr.EventType=xa,Ou=Sr.Event=ha,Pu=Sr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ru=Sr.FetchXmlHttpFactory=Do,Du=Sr.WebChannel=Sa,Lu=Sr.XhrIo=Bo,Mu="@firebase/firestore",ju=function(){function e(t){wn(this,e),this.uid=t}return En(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ju.UNAUTHENTICATED=new ju(null),ju.GOOGLE_CREDENTIALS=new ju("google-credentials-uid"),ju.FIRST_PARTY=new ju("first-party-uid"),ju.MOCK_USER=new ju("mock-user");var Fu="9.6.1",Uu=new ir("@firebase/firestore");function Vu(){return Uu.logLevel}function Bu(e){if(Uu.logLevel<=$n.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Wu);Uu.debug.apply(Uu,["Firestore (".concat(Fu,"): ").concat(e)].concat(bn(i)))}}function zu(e){if(Uu.logLevel<=$n.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Wu);Uu.error.apply(Uu,["Firestore (".concat(Fu,"): ").concat(e)].concat(bn(i)))}}function qu(e){if(Uu.logLevel<=$n.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Wu);Uu.warn.apply(Uu,["Firestore (".concat(Fu,"): ").concat(e)].concat(bn(i)))}}function Wu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Hu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Fu,") INTERNAL ASSERTION FAILED: ")+e;throw zu(t),new Error(t)}function Ku(e,t){e||Hu()}function Gu(e,t){return e}var Qu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$u=function(e){pn(n,e);var t=gn(n);function n(e,r){var i;return wn(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return En(n)}(kn(Error)),Yu=En((function e(){var t=this;wn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Xu=En((function e(t,n){wn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ju=function(){function e(){wn(this,e)}return En(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ju.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Zu=function(){function e(t){wn(this,e),this.t=t,this.currentUser=ju.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return En(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Yu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Yu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Bu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Bu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Bu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ku("string"==typeof n.accessToken),new Xu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ku(null===e||"string"==typeof e),new ju(e)}}]),e}(),es=En((function e(t,n,r){wn(this,e),this.type="FirstParty",this.user=ju.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),ts=function(){function e(t,n,r){wn(this,e),this.h=t,this.l=n,this.m=r}return En(e,[{key:"getToken",value:function(){return Promise.resolve(new es(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ju.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ns=En((function e(t){wn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),rs=function(){function e(t){wn(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return En(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Bu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Bu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Bu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Ku("string"==typeof e.token),new ns(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),is=function(){function e(t,n){var r=this;wn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return En(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function as(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}is.I=-1;var os=function(){function e(){wn(this,e)}return En(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=as(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function us(e,t){return e<t?-1:e>t?1:0}function ss(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var cs=function(){function e(t,n){if(wn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new $u(Qu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $u(Qu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new $u(Qu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $u(Qu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return En(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?us(this.nanoseconds,e.nanoseconds):us(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ls=function(){function e(t){wn(this,e),this.timestamp=t}return En(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new cs(0,0))}}]),e}();function fs(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hs(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ds(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ps=function(){function e(t,n,r){wn(this,e),void 0===n?n=0:n>t.length&&Hu(),void 0===r?r=t.length-n:r>t.length-n&&Hu(),this.segments=t,this.offset=n,this.len=r}return En(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),vs=function(e){pn(n,e);var t=gn(n);function n(){return wn(this,n),t.apply(this,arguments)}return En(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new $u(Qu.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,bn(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ps),ys=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ms=function(e){pn(n,e);var t=gn(n);function n(){return wn(this,n),t.apply(this,arguments)}return En(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ys.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new $u(Qu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new $u(Qu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new $u(Qu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new $u(Qu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ps),gs=function(){function e(t){wn(this,e),this.fields=t,t.sort(ms.comparator)}return En(e,[{key:"covers",value:function(e){var t,n=dn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ss(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var ks=function(){function e(t){wn(this,e),this.binaryString=t}return En(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return us(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();ks.EMPTY_BYTE_STRING=new ks("");var bs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(e){if(Ku(!!e),"string"==typeof e){var t=0,n=bs.exec(e);if(Ku(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xs(e.seconds),nanos:xs(e.nanos)}}function xs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Es(e){return"string"==typeof e?ks.fromBase64String(e):ks.fromUint8Array(e)}function _s(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ss(e){var t=e.mapValue.fields.__previous_value__;return _s(t)?Ss(t):t}function Ts(e){var t=ws(e.mapValue.fields.__local_write_time__.timestampValue);return new cs(t.seconds,t.nanos)}function Is(e){return null==e}function Cs(e){return 0===e&&1/e==-1/0}function Ns(e){return"number"==typeof e&&Number.isInteger(e)&&!Cs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var As=function(){function e(t){wn(this,e),this.path=t}return En(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===vs.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(vs.fromString(t))}},{key:"fromName",value:function(t){return new e(vs.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return vs.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new vs(t.slice()))}}]),e}();function Os(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_s(e)?4:10:Hu()}function Ps(e,t){var n=Os(e);if(n!==Os(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ts(e).isEqual(Ts(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ws(e.timestampValue),r=ws(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Es(e.bytesValue).isEqual(Es(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xs(e.geoPointValue.latitude)===xs(t.geoPointValue.latitude)&&xs(e.geoPointValue.longitude)===xs(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xs(e.integerValue)===xs(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=xs(e.doubleValue),r=xs(t.doubleValue);return n===r?Cs(n)===Cs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ss(e.arrayValue.values||[],t.arrayValue.values||[],Ps);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(fs(n)!==fs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ps(n[i],r[i])))return!1;return!0}(e,t);default:return Hu()}}function Rs(e,t){return void 0!==(e.values||[]).find((function(e){return Ps(e,t)}))}function Ds(e,t){var n=Os(e),r=Os(t);if(n!==r)return us(n,r);switch(n){case 0:return 0;case 1:return us(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=xs(e.integerValue||e.doubleValue),r=xs(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ls(e.timestampValue,t.timestampValue);case 4:return Ls(Ts(e),Ts(t));case 5:return us(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Es(e),r=Es(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=us(n[i],r[i]);if(0!==a)return a}return us(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=us(xs(e.latitude),xs(t.latitude));return 0!==n?n:us(xs(e.longitude),xs(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ds(n[i],r[i]);if(a)return a}return us(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=us(r[o],a[o]);if(0!==u)return u;var s=Ds(n[r[o]],i[a[o]]);if(0!==s)return s}return us(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Hu()}}function Ls(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return us(e,t);var n=ws(e),r=ws(t),i=us(n.seconds,r.seconds);return 0!==i?i:us(n.nanos,r.nanos)}function Ms(e){return js(e)}function js(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ws(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Es(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,As.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=dn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=js(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=dn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(js(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Hu();var t,n}function Fs(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Us(e){return!!e&&"integerValue"in e}function Vs(e){return!!e&&"arrayValue"in e}function Bs(e){return!!e&&"nullValue"in e}function zs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qs(e){return!!e&&"mapValue"in e}function Ws(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return hs(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ws(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ws(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Hs=function(){function e(t){wn(this,e),this.value=t}return En(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!qs(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ws(t)}},{key:"setAll",value:function(e){var t=this,n=ms.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ws(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());qs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ps(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];qs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){hs(t,(function(t,n){return e[t]=n}));var r,i=dn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ws(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ks(e){var t=[];return hs(e.fields,(function(e,n){var r=new ms([e]);if(qs(n)){var i=Ks(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=dn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new gs(t)}var Gs=function(){function e(t,n,r,i,a){wn(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return En(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Hs.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Hs.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ls.min(),Hs.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Hs.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Hs.empty(),2)}}]),e}(),Qs=En((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;wn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.R=null}));function $s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Qs(e,t,n,r,i,a,o)}function Ys(e){var t=Gu(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Ms(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Is(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=cc(t.startAt)),t.endAt&&(n+="|ub:",n+=cc(t.endAt)),t.R=n}return t.R}function Xs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!fc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ps(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!dc(e.startAt,t.startAt)&&dc(e.endAt,t.endAt)}function Js(e){return As.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Zs=function(e){pn(n,e);var t=gn(n);function n(e,r,i){var a;return wn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return En(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ds(t,this.value)):null!==t&&Os(this.value)===Os(t)&&this.v(Ds(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Hu()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new ec(e,t,r):"array-contains"===t?new ic(e,r):"in"===t?new ac(e,r):"not-in"===t?new oc(e,r):"array-contains-any"===t?new uc(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new tc(e,n):new nc(e,n)}}]),n}(function(){return En((function e(){wn(this,e)}))}());var ec=function(e){pn(n,e);var t=gn(n);function n(e,r,i){var a;return wn(this,n),(a=t.call(this,e,r,i)).key=As.fromName(i.referenceValue),a}return En(n,[{key:"matches",value:function(e){var t=As.comparator(e.key,this.key);return this.v(t)}}]),n}(Zs),tc=function(e){pn(n,e);var t=gn(n);function n(e,r){var i;return wn(this,n),(i=t.call(this,e,"in",r)).keys=rc("in",r),i}return En(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Zs),nc=function(e){pn(n,e);var t=gn(n);function n(e,r){var i;return wn(this,n),(i=t.call(this,e,"not-in",r)).keys=rc("not-in",r),i}return En(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Zs);function rc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return As.fromName(e.referenceValue)}))}var ic=function(e){pn(n,e);var t=gn(n);function n(e,r){return wn(this,n),t.call(this,e,"array-contains",r)}return En(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Vs(t)&&Rs(t.arrayValue,this.value)}}]),n}(Zs),ac=function(e){pn(n,e);var t=gn(n);function n(e,r){return wn(this,n),t.call(this,e,"in",r)}return En(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Rs(this.value.arrayValue,t)}}]),n}(Zs),oc=function(e){pn(n,e);var t=gn(n);function n(e,r){return wn(this,n),t.call(this,e,"not-in",r)}return En(n,[{key:"matches",value:function(e){if(Rs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Rs(this.value.arrayValue,t)}}]),n}(Zs),uc=function(e){pn(n,e);var t=gn(n);function n(e,r){return wn(this,n),t.call(this,e,"array-contains-any",r)}return En(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Vs(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Rs(t.value.arrayValue,e)}))}}]),n}(Zs),sc=En((function e(t,n){wn(this,e),this.position=t,this.before=n}));function cc(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Ms(e)})).join(","))}var lc=En((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";wn(this,e),this.field=t,this.dir=n}));function fc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function hc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?As.comparator(As.fromName(o.referenceValue),n.key):Ds(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function dc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ps(e.position[n],t.position[n]))return!1;return!0}var pc=En((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;wn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}));function vc(e,t,n,r,i,a,o,u){return new pc(e,t,n,r,i,a,o,u)}function yc(e){return new pc(e)}function mc(e){return!Is(e.limit)&&"F"===e.limitType}function gc(e){return!Is(e.limit)&&"L"===e.limitType}function kc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function bc(e){var t,n=dn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function wc(e){return null!==e.collectionGroup}function xc(e){var t=Gu(e);if(null===t.S){t.S=[];var n=bc(t),r=kc(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new lc(n)),t.S.push(new lc(ms.keyField(),"asc"));else{var i,a=!1,o=dn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new lc(ms.keyField(),s))}}}return t.S}function Ec(e){var t=Gu(e);if(!t.D)if("F"===t.limitType)t.D=$s(t.path,t.collectionGroup,xc(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=dn(xc(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new lc(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new sc(t.endAt.position,!t.endAt.before):null,s=t.startAt?new sc(t.startAt.position,!t.startAt.before):null;t.D=$s(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.D}function _c(e,t,n){return new pc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sc(e,t){return Xs(Ec(e),Ec(t))&&e.limitType===t.limitType}function Tc(e){return"".concat(Ys(Ec(e)),"|lt:").concat(e.limitType)}function Ic(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ms(t.value));var t})).join(", "),"]")),Is(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+cc(e.startAt)),e.endAt&&(t+=", endAt: "+cc(e.endAt)),"Target(".concat(t,")")}(Ec(e)),"; limitType=").concat(e.limitType,")")}function Cc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):As.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=dn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=dn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!hc(e.startAt,xc(e),t))&&(!e.endAt||!hc(e.endAt,xc(e),t))}(e,t)}function Nc(e){return function(t,n){var r,i=!1,a=dn(xc(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Ac(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Ac(e,t,n){var r=e.field.isKeyField()?As.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ds(r,i):Hu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Hu()}}function Oc(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cs(t)?"-0":t}}function Pc(e){return{integerValue:""+e}}function Rc(e,t){return Ns(t)?Pc(t):Oc(e,t)}var Dc=En((function e(){wn(this,e),this._=void 0}));function Lc(e,t,n){return e instanceof Fc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Uc?Vc(e,t):e instanceof Bc?zc(e,t):function(e,t){var n=jc(e,t),r=Wc(n)+Wc(e.N);return Us(n)&&Us(e.N)?Pc(r):Oc(e.k,r)}(e,t)}function Mc(e,t,n){return e instanceof Uc?Vc(e,t):e instanceof Bc?zc(e,t):n}function jc(e,t){return e instanceof qc?Us(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Fc=function(e){pn(n,e);var t=gn(n);function n(){return wn(this,n),t.apply(this,arguments)}return En(n)}(Dc),Uc=function(e){pn(n,e);var t=gn(n);function n(e){var r;return wn(this,n),(r=t.call(this)).elements=e,r}return En(n)}(Dc);function Vc(e,t){var n,r=Hc(t),i=dn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ps(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Bc=function(e){pn(n,e);var t=gn(n);function n(e){var r;return wn(this,n),(r=t.call(this)).elements=e,r}return En(n)}(Dc);function zc(e,t){var n,r=Hc(t),i=dn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ps(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var qc=function(e){pn(n,e);var t=gn(n);function n(e,r){var i;return wn(this,n),(i=t.call(this)).k=e,i.N=r,i}return En(n)}(Dc);function Wc(e){return xs(e.integerValue||e.doubleValue)}function Hc(e){return Vs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Kc=En((function e(t,n){wn(this,e),this.version=t,this.transformResults=n})),Gc=function(){function e(t,n){wn(this,e),this.updateTime=t,this.exists=n}return En(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Qc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var $c=En((function e(){wn(this,e)}));function Yc(e,t,n){e instanceof tl?function(e,t,n){var r=e.value.clone(),i=il(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof nl?function(e,t,n){if(Qc(e.precondition,t)){var r=il(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(rl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Xc(e,t,n){e instanceof tl?function(e,t,n){if(Qc(e.precondition,t)){var r=e.value.clone(),i=al(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(el(t),r).setHasLocalMutations()}}(e,t,n):e instanceof nl?function(e,t,n){if(Qc(e.precondition,t)){var r=al(e.fieldTransforms,n,t),i=t.data;i.setAll(rl(e)),i.setAll(r),t.convertToFoundDocument(el(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Qc(e.precondition,t)&&t.convertToNoDocument(ls.min())}(e,t)}function Jc(e,t){var n,r=null,i=dn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=jc(a.transform,o||null);null!=u&&(null==r&&(r=Hs.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Zc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ss(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Uc&&t instanceof Uc||e instanceof Bc&&t instanceof Bc?ss(e.elements,t.elements,Ps):e instanceof qc&&t instanceof qc?Ps(e.N,t.N):e instanceof Fc&&t instanceof Fc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function el(e){return e.isFoundDocument()?e.version:ls.min()}var tl=function(e){pn(n,e);var t=gn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return wn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return En(n)}($c),nl=function(e){pn(n,e);var t=gn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return wn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return En(n)}($c);function rl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function il(e,t,n){var r=new Map;Ku(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Mc(o,u,n[i]))}return r}function al(e,t,n){var r,i=new Map,a=dn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Lc(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ol,ul,sl=function(e){pn(n,e);var t=gn(n);function n(e,r){var i;return wn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return En(n)}($c),cl=function(e){pn(n,e);var t=gn(n);function n(e,r){var i;return wn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return En(n)}($c),ll=En((function e(t){wn(this,e),this.count=t}));function fl(e){switch(e){default:return Hu();case Qu.CANCELLED:case Qu.UNKNOWN:case Qu.DEADLINE_EXCEEDED:case Qu.RESOURCE_EXHAUSTED:case Qu.INTERNAL:case Qu.UNAVAILABLE:case Qu.UNAUTHENTICATED:return!1;case Qu.INVALID_ARGUMENT:case Qu.NOT_FOUND:case Qu.ALREADY_EXISTS:case Qu.PERMISSION_DENIED:case Qu.FAILED_PRECONDITION:case Qu.ABORTED:case Qu.OUT_OF_RANGE:case Qu.UNIMPLEMENTED:case Qu.DATA_LOSS:return!0}}function hl(e){if(void 0===e)return zu("GRPC error has no .code"),Qu.UNKNOWN;switch(e){case ol.OK:return Qu.OK;case ol.CANCELLED:return Qu.CANCELLED;case ol.UNKNOWN:return Qu.UNKNOWN;case ol.DEADLINE_EXCEEDED:return Qu.DEADLINE_EXCEEDED;case ol.RESOURCE_EXHAUSTED:return Qu.RESOURCE_EXHAUSTED;case ol.INTERNAL:return Qu.INTERNAL;case ol.UNAVAILABLE:return Qu.UNAVAILABLE;case ol.UNAUTHENTICATED:return Qu.UNAUTHENTICATED;case ol.INVALID_ARGUMENT:return Qu.INVALID_ARGUMENT;case ol.NOT_FOUND:return Qu.NOT_FOUND;case ol.ALREADY_EXISTS:return Qu.ALREADY_EXISTS;case ol.PERMISSION_DENIED:return Qu.PERMISSION_DENIED;case ol.FAILED_PRECONDITION:return Qu.FAILED_PRECONDITION;case ol.ABORTED:return Qu.ABORTED;case ol.OUT_OF_RANGE:return Qu.OUT_OF_RANGE;case ol.UNIMPLEMENTED:return Qu.UNIMPLEMENTED;case ol.DATA_LOSS:return Qu.DATA_LOSS;default:return Hu()}}(ul=ol||(ol={}))[ul.OK=0]="OK",ul[ul.CANCELLED=1]="CANCELLED",ul[ul.UNKNOWN=2]="UNKNOWN",ul[ul.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ul[ul.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ul[ul.NOT_FOUND=5]="NOT_FOUND",ul[ul.ALREADY_EXISTS=6]="ALREADY_EXISTS",ul[ul.PERMISSION_DENIED=7]="PERMISSION_DENIED",ul[ul.UNAUTHENTICATED=16]="UNAUTHENTICATED",ul[ul.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ul[ul.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ul[ul.ABORTED=10]="ABORTED",ul[ul.OUT_OF_RANGE=11]="OUT_OF_RANGE",ul[ul.UNIMPLEMENTED=12]="UNIMPLEMENTED",ul[ul.INTERNAL=13]="INTERNAL",ul[ul.UNAVAILABLE=14]="UNAVAILABLE",ul[ul.DATA_LOSS=15]="DATA_LOSS";var dl=function(){function e(t,n){wn(this,e),this.comparator=t,this.root=n||vl.EMPTY}return En(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,vl.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vl.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new pl(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new pl(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new pl(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new pl(this.root,e,this.comparator,!0)}}]),e}(),pl=function(){function e(t,n,r,i){wn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return En(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),vl=function(){function e(t,n,r,i,a){wn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return En(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Hu();if(this.right.isRed())throw Hu();var e=this.left.check();if(e!==this.right.check())throw Hu();return e+(this.isRed()?0:1)}}]),e}();vl.EMPTY=null,vl.RED=!0,vl.BLACK=!1,vl.EMPTY=new(function(){function e(){wn(this,e),this.size=0}return En(e,[{key:"key",get:function(){throw Hu()}},{key:"value",get:function(){throw Hu()}},{key:"color",get:function(){throw Hu()}},{key:"left",get:function(){throw Hu()}},{key:"right",get:function(){throw Hu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new vl(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var yl=function(){function e(t){wn(this,e),this.comparator=t,this.data=new dl(this.comparator)}return En(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ml(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ml(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ml=function(){function e(t){wn(this,e),this.iter=t}return En(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),gl=new dl(As.comparator);function kl(){return gl}var bl=new dl(As.comparator);function wl(){return bl}var xl=new dl(As.comparator);function El(){return xl}var _l=new yl(As.comparator);function Sl(){for(var e=_l,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Tl=new yl(us);function Il(){return Tl}var Cl=function(){function e(t,n,r,i,a){wn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return En(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Nl.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ls.min(),r,Il(),kl(),Sl())}}]),e}(),Nl=function(){function e(t,n,r,i,a){wn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return En(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ks.EMPTY_BYTE_STRING,n,Sl(),Sl(),Sl())}}]),e}(),Al=En((function e(t,n,r,i){wn(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),Ol=En((function e(t,n){wn(this,e),this.targetId=t,this.O=n})),Pl=En((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ks.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;wn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Rl=function(){function e(){wn(this,e),this.M=0,this.L=Ml(),this.B=ks.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return En(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Sl(),t=Sl(),n=Sl();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Hu()}})),new Nl(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Ml()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Dl=function(){function e(t){wn(this,e),this.et=t,this.nt=new Map,this.st=kl(),this.it=Ll(),this.rt=new yl(us)}return En(e,[{key:"ot",value:function(e){var t,n=dn(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=dn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Hu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(Js(i))if(0===n){var a=new As(i.path);this.ct(t,a,Gs.newNoDocument(a,ls.min()))}else Ku(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Js(a.target)){var o=new As(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,Gs.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Sl();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Cl(e,n,this.rt,this.st,r);return this.st=kl(),this.it=Ll(),this.rt=new yl(us),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Rl,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new yl(us),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Bu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Rl),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ll(){return new dl(As.comparator)}function Ml(){return new dl(As.comparator)}var jl={asc:"ASCENDING",desc:"DESCENDING"},Fl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ul=En((function e(t,n){wn(this,e),this.databaseId=t,this.C=n}));function Vl(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bl(e,t){return e.C?t.toBase64():t.toUint8Array()}function zl(e,t){return Vl(e,t.toTimestamp())}function ql(e){return Ku(!!e),ls.fromTimestamp(function(e){var t=ws(e);return new cs(t.seconds,t.nanos)}(e))}function Wl(e,t){return function(e){return new vs(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Hl(e){var t=vs.fromString(e);return Ku(pf(t)),t}function Kl(e,t){return Wl(e.databaseId,t.path)}function Gl(e,t){var n=Hl(t);if(n.get(1)!==e.databaseId.projectId)throw new $u(Qu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $u(Qu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new As(Xl(n))}function Ql(e,t){return Wl(e.databaseId,t)}function $l(e){var t=Hl(e);return 4===t.length?vs.emptyPath():Xl(t)}function Yl(e){return new vs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Xl(e){return Ku(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Jl(e,t,n){return{name:Kl(e,t),fields:n.value.mapValue.fields}}function Zl(e,t){var n;if(t instanceof tl)n={update:Jl(e,t.key,t.value)};else if(t instanceof sl)n={delete:Kl(e,t.key)};else if(t instanceof nl)n={update:Jl(e,t.key,t.data),updateMask:df(t.fieldMask)};else{if(!(t instanceof cl))return Hu();n={verify:Kl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Fc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Uc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qc)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Hu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:zl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Hu()}(e,t.precondition)),n}function ef(e,t){return{documents:[Ql(e,t.path)]}}function tf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ql(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ql(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(zs(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NAN"}};if(Bs(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zs(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NOT_NAN"}};if(Bs(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cf(e.field),op:sf(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:cf(e.field),direction:uf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Is(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=af(t.startAt)),t.endAt&&(n.structuredQuery.endAt=af(t.endAt)),n}function nf(e){var t=$l(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ku(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=rf(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new lc(lf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Is(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=of(n.startAt));var l=null;return n.endAt&&(l=of(n.endAt)),vc(t,i,u,o,s,"F",c,l)}function rf(e){return e?void 0!==e.unaryFilter?[hf(e)]:void 0!==e.fieldFilter?[ff(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return rf(e)})).reduce((function(e,t){return e.concat(t)})):Hu():[]}function af(e){return{before:e.before,values:e.position}}function of(e){var t=!!e.before,n=e.values||[];return new sc(n,t)}function uf(e){return jl[e]}function sf(e){return Fl[e]}function cf(e){return{fieldPath:e.canonicalString()}}function lf(e){return ms.fromServerFormat(e.fieldPath)}function ff(e){return Zs.create(lf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Hu()}}(e.fieldFilter.op),e.fieldFilter.value)}function hf(e){switch(e.unaryFilter.op){case"IS_NAN":var t=lf(e.unaryFilter.field);return Zs.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=lf(e.unaryFilter.field);return Zs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=lf(e.unaryFilter.field);return Zs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=lf(e.unaryFilter.field);return Zs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Hu()}}function df(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function pf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function vf(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=mf(t)),t=yf(e.get(n),t);return mf(t)}function yf(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function mf(e){return e+"\x01\x01"}var gf=En((function e(t,n,r){wn(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));gf.store="owner",gf.key="owner";var kf=En((function e(t,n,r){wn(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));kf.store="mutationQueues",kf.keyPath="userId";var bf=En((function e(t,n,r,i,a){wn(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));bf.store="mutations",bf.keyPath="batchId",bf.userMutationsIndex="userMutationsIndex",bf.userMutationsKeyPath=["userId","batchId"];var wf=function(){function e(){wn(this,e)}return En(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,vf(t)]}},{key:"key",value:function(e,t,n){return[e,vf(t),n]}}]),e}();wf.store="documentMutations",wf.PLACEHOLDER=new wf;var xf=En((function e(t,n,r,i,a,o){wn(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));xf.store="remoteDocuments",xf.readTimeIndex="readTimeIndex",xf.readTimeIndexPath="readTime",xf.collectionReadTimeIndex="collectionReadTimeIndex",xf.collectionReadTimeIndexPath=["parentPath","readTime"];var Ef=En((function e(t){wn(this,e),this.byteSize=t}));Ef.store="remoteDocumentGlobal",Ef.key="remoteDocumentGlobalKey";var _f=En((function e(t,n,r,i,a,o,u){wn(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));_f.store="targets",_f.keyPath="targetId",_f.queryTargetsIndexName="queryTargetsIndex",_f.queryTargetsKeyPath=["canonicalId","targetId"];var Sf=En((function e(t,n,r){wn(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Sf.store="targetDocuments",Sf.keyPath=["targetId","path"],Sf.documentTargetsIndex="documentTargetsIndex",Sf.documentTargetsKeyPath=["path","targetId"];var Tf=En((function e(t,n,r,i){wn(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Tf.key="targetGlobalKey",Tf.store="targetGlobal";var If=En((function e(t,n){wn(this,e),this.collectionId=t,this.parent=n}));If.store="collectionParents",If.keyPath=["collectionId","parent"];var Cf=En((function e(t,n,r,i){wn(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Cf.store="clientMetadata",Cf.keyPath="clientId";var Nf=En((function e(t,n,r){wn(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Nf.store="bundles",Nf.keyPath="bundleId";var Af=En((function e(t,n,r){wn(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Af.store="namedQueries",Af.keyPath="name";[kf.store,bf.store,wf.store,xf.store,_f.store,gf.store,Tf.store,Sf.store].concat([Cf.store]).concat([Ef.store]).concat([If.store]).concat([Nf.store,Af.store]);var Of="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Pf=function(){function e(){wn(this,e),this.onCommittedListeners=[]}return En(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Rf=function(){function e(t){var n=this;wn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return En(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Hu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=dn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function Df(e){return"IndexedDbTransactionError"===e.name}var Lf=function(){function e(t,n,r,i){wn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return En(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Yc(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=dn(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Xc(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=dn(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Xc(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ls.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Sl())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ss(this.mutations,e.mutations,(function(e,t){return Zc(e,t)}))&&ss(this.baseMutations,e.baseMutations,(function(e,t){return Zc(e,t)}))}}]),e}(),Mf=function(){function e(t,n,r,i){wn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return En(e,null,[{key:"from",value:function(t,n,r){Ku(t.mutations.length===r.length);for(var i=El(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),jf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ls.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ls.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ks.EMPTY_BYTE_STRING;wn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return En(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Ff=En((function e(t){wn(this,e),this.Gt=t}));function Uf(e){var t=nf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_c(t,t.limit,"L"):t}var Vf=function(){function e(){wn(this,e),this.zt=new Bf}return En(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Rf.resolve()}},{key:"getCollectionParents",value:function(e,t){return Rf.resolve(this.zt.getEntries(t))}}]),e}(),Bf=function(){function e(){wn(this,e),this.index={}}return En(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new yl(vs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new yl(vs.comparator)).toArray()}}]),e}();var zf=function(){function e(t,n,r){wn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return En(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();zf.DEFAULT_COLLECTION_PERCENTILE=10,zf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zf.DEFAULT=new zf(41943040,zf.DEFAULT_COLLECTION_PERCENTILE,zf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zf.DISABLED=new zf(-1,0,0);var qf=function(){function e(t){wn(this,e),this.se=t}return En(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}();function Wf(e){return Hf.apply(this,arguments)}function Hf(){return Hf=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Qu.FAILED_PRECONDITION&&t.message===Of){e.next=2;break}throw t;case 2:Bu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}var Kf=function(){function e(t,n){wn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return En(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=dn(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){hs(this.inner,(function(t,n){var r,i=dn(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ds(this.inner)}}]),e}(),Gf=function(){function e(){wn(this,e),this.changes=new Kf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return En(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:ls.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Gs.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Rf.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Qf=function(){function e(t,n,r){wn(this,e),this.Je=t,this.An=n,this.Jt=r}return En(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=dn(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=dn(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return As.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):wc(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new As(t)).next((function(e){var t=wl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=wl();return this.Jt.getCollectionParents(e,i).next((function(o){return Rf.forEach(o,(function(o){var u=function(e,t){return new pc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=dn(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=dn(o.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s.key,l=r.get(c);null==l&&(l=Gs.newInvalidDocument(c),r=r.insert(c,l)),Xc(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Cc(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Sl(),a=dn(t);try{for(a.s();!(r=a.n()).done;){var o,u=dn(r.value.mutations);try{for(u.s();!(o=u.n()).done;){var s=o.value;s instanceof nl&&null===n.get(s.key)&&(i=i.add(s.key))}}catch(l){u.e(l)}finally{u.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),$f=function(){function e(t,n,r,i){wn(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return En(e,null,[{key:"$n",value:function(t,n){var r,i=Sl(),a=Sl(),o=dn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Yf=function(){function e(){wn(this,e)}return En(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ls.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(mc(t)||gc(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(Vu()<=$n.DEBUG&&Bu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ic(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new yl(Nc(e));return t.forEach((function(t,r){Cc(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return Vu()<=$n.DEBUG&&Bu("QueryEngine","Using full collection scan to execute query:",Ic(t)),this.On.getDocumentsMatchingQuery(e,t,ls.min())}}]),e}(),Xf=function(){function e(t,n,r,i){wn(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new dl(us),this.Kn=new Kf((function(e){return Ys(e)}),Xs),this.jn=ls.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Qf(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return En(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function Jf(e,t,n,r){return new Xf(e,t,n,r)}function Zf(e,t){return eh.apply(this,arguments)}function eh(){return eh=me(ke().mark((function e(t,n){var r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gu(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Qf(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=Sl(),s=dn(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;i.push(c.batchId);var l,f=dn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=dn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=dn(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,u).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}function th(e,t){var n=Gu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Rf.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ku(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function nh(e){var t=Gu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function rh(e,t){var n=Gu(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var u=i.get(a);if(u){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return Ku(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var u=kl();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ih(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(ls.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Rf.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function ih(e,t,n,r,i){var a=Sl();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=kl();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(ls.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):Bu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function ah(e,t){var n=Gu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function oh(e,t){var n=Gu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,Rf.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new jf(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function uh(e,t,n){return sh.apply(this,arguments)}function sh(){return sh=me(ke().mark((function e(t,n,r){var i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Gu(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Df(e.t1)){e.next=12;break}throw e.t1;case 12:Bu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),sh.apply(this,arguments)}function ch(e,t,n){var r=Gu(e),i=ls.min(),a=Sl();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Gu(e),i=r.Kn.get(n);return void 0!==i?Rf.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Ec(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:ls.min(),n?a:Sl())})).next((function(e){return{documents:e,zn:a}}))}))}var lh=function(){function e(t){wn(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return En(e,[{key:"getBundleMetadata",value:function(e,t){return Rf.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:ql(n.createTime)}),Rf.resolve()}},{key:"getNamedQuery",value:function(e,t){return Rf.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Uf(e.bundledQuery),readTime:ql(e.readTime)}}(t)),Rf.resolve()}}]),e}(),fh=function(){function e(){wn(this,e),this.ts=new yl(hh.es),this.ns=new yl(hh.ss)}return En(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new hh(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new hh(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new As(new vs([])),r=new hh(n,e),i=new hh(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new As(new vs([])),n=new hh(t,e),r=new hh(t,e+1),i=Sl();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new hh(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),hh=function(){function e(t,n){wn(this,e),this.key=t,this.fs=n}return En(e,null,[{key:"es",value:function(e,t){return As.comparator(e.key,t.key)||us(e.fs,t.fs)}},{key:"ss",value:function(e,t){return us(e.fs,t.fs)||As.comparator(e.key,t.key)}}]),e}(),dh=function(){function e(t,n){wn(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new yl(hh.es)}return En(e,[{key:"checkEmpty",value:function(e){return Rf.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Lf(i,t,n,r);this.An.push(a);var o,u=dn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ws=this.ws.add(new hh(s.key,i)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Rf.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Rf.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Rf.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Rf.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Rf.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new hh(t,0),i=new hh(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Rf.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new yl(us);return t.forEach((function(e){var t=new hh(e,0),i=new hh(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Rf.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;As.isDocumentKey(i)||(i=i.child(""));var a=new hh(new As(i),0),o=new yl(us);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Rf.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ku(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Rf.forEach(t.mutations,(function(i){var a=new hh(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new hh(t,0),r=this.ws.firstAfterOrEqual(n);return Rf.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Rf.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),ph=function(){function e(t,n){wn(this,e),this.Jt=t,this.Ts=n,this.docs=new dl(As.comparator),this.size=0}return En(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Rf.resolve(n?n.document.clone():Gs.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=kl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Gs.newInvalidDocument(e))})),Rf.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=kl(),i=new As(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||Cc(t,c)&&(r=r.insert(c.key,c.clone()))}return Rf.resolve(r)}},{key:"Es",value:function(e,t){return Rf.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new vh(this)}},{key:"getSize",value:function(e){return Rf.resolve(this.size)}}]),e}(),vh=function(e){pn(n,e);var t=gn(n);function n(e){var r;return wn(this,n),(r=t.call(this)).De=e,r}return En(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Rf.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(Gf),yh=function(){function e(t){wn(this,e),this.persistence=t,this.Is=new Kf((function(e){return Ys(e)}),Xs),this.lastRemoteSnapshotVersion=ls.min(),this.highestTargetId=0,this.As=0,this.Rs=new fh,this.targetCount=0,this.Ps=qf.ie()}return En(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Rf.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Rf.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Rf.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),Rf.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Rf.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new qf(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,Rf.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),Rf.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Rf.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Rf.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Rf.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Rf.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Rf.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Rf.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Rf.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Rf.resolve(n)}},{key:"containsKey",value:function(e,t){return Rf.resolve(this.Rs.containsKey(t))}}]),e}(),mh=function(){function e(t,n){var r=this;wn(this,e),this.bs={},this.Be=new is(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new yh(this),this.Jt=new Vf,this.Je=function(e,t){return new ph(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Ff(n),this.Ye=new lh(this.k)}return En(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new dh(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Bu("MemoryPersistence","Starting transaction:",e);var i=new gh(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Rf.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),gh=function(e){pn(n,e);var t=gn(n);function n(e){var r;return wn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return En(n)}(Pf),kh=function(){function e(t){wn(this,e),this.persistence=t,this.Cs=new fh,this.Ns=null}return En(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Hu()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Rf.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Rf.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Rf.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rf.forEach(this.xs,(function(r){var i=As.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Rf.or([function(){return Rf.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();var bh=function(){function e(){wn(this,e),this.activeTargetIds=Il()}return En(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),wh=function(){function e(){wn(this,e),this.pi=new bh,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return En(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new bh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),xh=function(){function e(){wn(this,e)}return En(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Eh=function(){function e(){var t=this;wn(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return En(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Bu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=dn(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){Bu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=dn(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),_h={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Sh=function(){function e(t){wn(this,e),this.Vi=t.Vi,this.Si=t.Si}return En(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Th=function(e){pn(n,e);var t=gn(n);function n(e){var r;return wn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return En(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Lu;o.listenOnce(Au.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Nu.NO_ERROR:var t=o.getResponseJson();Bu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Nu.TIMEOUT:Bu("Connection",'RPC "'+e+'" timed out'),a(new $u(Qu.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:var n=o.getStatus();if(Bu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Qu).indexOf(t)>=0?t:Qu.UNKNOWN}(r.status);a(new $u(u,r.message))}else a(new $u(Qu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new $u(Qu.UNAVAILABLE,"Connection failed."));break;default:Hu()}}finally{Bu("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Iu(),a=Cu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ru({})),this.qi(o.initMessageHeaders,t,n),Nn()||On()||Cn().indexOf("Electron/")>=0||Pn()||Cn().indexOf("MSAppHost/")>=0||An()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Bu("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Sh({Vi:function(e){l?Bu("Connection","Not sending because WebChannel is closed:",e):(c||(Bu("Connection","Opening WebChannel transport."),s.open(),c=!0),Bu("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Du.EventType.OPEN,(function(){l||Bu("Connection","WebChannel transport opened.")})),h(s,Du.EventType.CLOSE,(function(){l||(l=!0,Bu("Connection","WebChannel transport closed"),f.Fi())})),h(s,Du.EventType.ERROR,(function(e){l||(l=!0,qu("Connection","WebChannel transport errored:",e),f.Fi(new $u(Qu.UNAVAILABLE,"The operation could not be completed")))})),h(s,Du.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ku(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Bu("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ol[e];if(void 0!==t)return hl(t)}(a),u=i.message;void 0===o&&(o=Qu.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new $u(o,u)),s.close()}else Bu("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,Ou.STAT_EVENT,(function(e){e.stat===Pu.PROXY?Bu("Connection","Detected buffering proxy"):e.stat===Pu.NOPROXY&&Bu("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){wn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return En(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Bu("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Bu("RestConnection","Received: ",e),e}),(function(t){throw qu("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=_h[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function Ih(){return"undefined"!=typeof document?document:null}function Ch(e){return new Ul(e,!0)}var Nh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;wn(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return En(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Bu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Ah=function(){function e(t,n,r,i,a,o,u,s){wn(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Nh(t,n)}return En(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Qu.RESOURCE_EXHAUSTED?(zu(n.toString()),zu("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Qu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=a(t,2),i=r[0],o=r[1];e.rr===n&&e.Ir(i,o)}),(function(n){t((function(){var t=new $u(Qu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(me(ke().mark((function t(){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Bu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(Bu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Oh=function(e){pn(n,e);var t=gn(n);function n(e,r,i,a,o,u){var s;return wn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).k=o,s}return En(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Hu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Ku(void 0===t||"string"==typeof t),ks.fromBase64String(t||"")):(Ku(void 0===t||t instanceof Uint8Array),ks.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Qu.UNKNOWN:hl(e.code);return new $u(t,e.message||"")}(o);n=new Pl(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Gl(e,s.document.name),l=ql(s.document.updateTime),f=new Hs({mapValue:{fields:s.document.fields}}),h=Gs.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Al(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Gl(e,v.document),m=v.readTime?ql(v.readTime):ls.min(),g=Gs.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Al([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Gl(e,b.document),x=b.removedTargetIds||[];n=new Al([],x,w,null)}else{if(!("filter"in t))return Hu();t.filter;var E=t.filter;E.targetId;var _=E.count||0,S=new ll(_),T=E.targetId;n=new Ol(T,S)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return ls.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ls.min():t.readTime?ql(t.readTime):ls.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=Yl(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Js(r)?{documents:ef(e,r)}:{query:tf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Bl(e,t.resumeToken):t.snapshotVersion.compareTo(ls.min())>0&&(n.readTime=Vl(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Hu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Yl(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Ah),Ph=function(e){pn(n,e);var t=gn(n);function n(e,r,i,a,o,u){var s;return wn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).k=o,s.Vr=!1,s}return En(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,hn(ln(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Ku(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Ku(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ql(e.updateTime):ql(t);return n.isEqual(ls.min())&&(n=ql(t)),new Kc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ql(e.commitTime);return this.listener.Cr(n,t)}return Ku(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Yl(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Zl(t.k,e)}))};this.gr(n)}}]),n}(Ah),Rh=function(e){pn(n,e);var t=gn(n);function n(e,r,i,a){var o;return wn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return En(n,[{key:"Fr",value:function(){if(this.$r)throw new $u(Qu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),u=o[0],s=o[1];return r.ir.Bi(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Qu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new $u(Qu.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),u=o[0],s=o[1];return r.ir.ji(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Qu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new $u(Qu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return En((function e(){wn(this,e)}))}()),Dh=function(){function e(t,n){wn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return En(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(zu(t),this.Lr=!1):Bu("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),Lh=En((function e(t,n,r,i,a){var o=this;wn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Kh(o),!e.t0){e.next=5;break}return Bu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Gu(t)).Gr.add(4),e.next=4,Fh(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,Mh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Dh(r,i)}));function Mh(e){return jh.apply(this,arguments)}function jh(){return jh=me(ke().mark((function e(t){var n,r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Kh(t)){e.next=18;break}n=dn(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),jh.apply(this,arguments)}function Fh(e){return Uh.apply(this,arguments)}function Uh(){return Uh=me(ke().mark((function e(t){var n,r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=dn(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Uh.apply(this,arguments)}function Vh(e,t){var n=Gu(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Hh(n)?Wh(n):kd(n).lr()&&zh(n,t))}function Bh(e,t){var n=Gu(e),r=kd(n);n.Wr.delete(t),r.lr()&&qh(n,t),0===n.Wr.size&&(r.lr()?r._r():Kh(n)&&n.Jr.set("Unknown"))}function zh(e,t){e.Yr.X(t.targetId),kd(e).br(t)}function qh(e,t){e.Yr.X(t),kd(e).vr(t)}function Wh(e){e.Yr=new Dl({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),kd(e).start(),e.Jr.Br()}function Hh(e){return Kh(e)&&!kd(e).hr()&&e.Wr.size>0}function Kh(e){return 0===Gu(e).Gr.size}function Gh(e){e.Yr=void 0}function Qh(e){return $h.apply(this,arguments)}function $h(){return $h=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){zh(t,e)}));case 1:case"end":return e.stop()}}),e)}))),$h.apply(this,arguments)}function Yh(e,t){return Xh.apply(this,arguments)}function Xh(){return Xh=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gh(t),Hh(t)?(t.Jr.Kr(n),Wh(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}function Jh(e,t,n){return Zh.apply(this,arguments)}function Zh(){return Zh=me(ke().mark((function e(t,n,r){var i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Pl&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=me(ke().mark((function e(t,n){var r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=dn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Bu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,ed(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Al?t.Yr.ot(n):n instanceof Ol?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(ls.min())){e.next=29;break}return e.prev=14,e.next=17,nh(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(ks.EMPTY_BYTE_STRING,n.snapshotVersion)),qh(e,t);var r=new jf(n.target,t,1,n.sequenceNumber);zh(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Bu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,ed(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Zh.apply(this,arguments)}function ed(e,t,n){return td.apply(this,arguments)}function td(){return td=me(ke().mark((function e(t,n,r){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Df(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Fh(t);case 5:t.Jr.set("Offline"),r||(r=function(){return nh(t.localStore)}),t.asyncQueue.enqueueRetryable(me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,Mh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e,t){return t().catch((function(n){return ed(e,n,t)}))}function rd(e){return id.apply(this,arguments)}function id(){return id=me(ke().mark((function e(t){var n,r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Gu(t),r=bd(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!ad(n)){e.next=19;break}return e.prev=3,e.next=6,ah(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,od(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,ed(n,e.t0);case 17:e.next=2;break;case 19:ud(n)&&sd(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),id.apply(this,arguments)}function ad(e){return Kh(e)&&e.Qr.length<10}function od(e,t){e.Qr.push(t);var n=bd(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function ud(e){return Kh(e)&&!bd(e).hr()&&e.Qr.length>0}function sd(e){bd(e).start()}function cd(e){return ld.apply(this,arguments)}function ld(){return ld=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bd(t).kr();case 1:case"end":return e.stop()}}),e)}))),ld.apply(this,arguments)}function fd(e){return hd.apply(this,arguments)}function hd(){return hd=me(ke().mark((function e(t){var n,r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=bd(t),r=dn(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),hd.apply(this,arguments)}function dd(e,t,n){return pd.apply(this,arguments)}function pd(){return pd=me(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Mf.from(i,n,r),e.next=3,nd(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,rd(t);case 5:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function vd(e,t){return yd.apply(this,arguments)}function yd(){return yd=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&bd(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=me(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fl(i=n.code)||i===Qu.ABORTED){e.next=7;break}return r=t.Qr.shift(),bd(t).wr(),e.next=5,nd(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,rd(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ud(t)&&sd(t);case 5:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function md(e,t){return gd.apply(this,arguments)}function gd(){return gd=me(ke().mark((function e(t,n){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Gu(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,Mh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Fh(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}function kd(e){return e.Xr||(e.Xr=function(e,t,n){var r=Gu(e);return r.Fr(),new Oh(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Qh.bind(null,e),Ni:Yh.bind(null,e),Pr:Jh.bind(null,e)}),e.zr.push(function(){var t=me(ke().mark((function t(n){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Hh(e)?Wh(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:Gh(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function bd(e){return e.Zr||(e.Zr=function(e,t,n){var r=Gu(e);return r.Fr(),new Ph(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:cd.bind(null,e),Ni:vd.bind(null,e),Nr:fd.bind(null,e),Cr:dd.bind(null,e)}),e.zr.push(function(){var t=me(ke().mark((function t(n){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,rd(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Bu("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var wd=function(){function e(t,n,r,i,a){wn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Yu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return En(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $u(Qu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function xd(e,t){if(zu("AsyncQueue","".concat(t,": ").concat(e)),Df(e))return new $u(Qu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Ed=function(){function e(t){wn(this,e),this.comparator=t?function(e,n){return t(e,n)||As.comparator(e.key,n.key)}:function(e,t){return As.comparator(e.key,t.key)},this.keyedMap=wl(),this.sortedSet=new dl(this.comparator)}return En(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),_d=function(){function e(){wn(this,e),this.eo=new dl(As.comparator)}return En(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Hu():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Sd=function(){function e(t,n,r,i,a,o,u,s){wn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return En(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Ed.emptySet(n),a,r,i,!0,!1)}}]),e}(),Td=En((function e(){wn(this,e),this.so=void 0,this.listeners=[]})),Id=En((function e(){wn(this,e),this.queries=new Kf((function(e){return Tc(e)}),Sc),this.onlineState="Unknown",this.io=new Set}));function Cd(e,t){return Nd.apply(this,arguments)}function Nd(){return Nd=me(ke().mark((function e(t,n){var r,i,a,o,u;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Gu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Td),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=xd(e.t0,"Initialization of query '".concat(Ic(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Dd(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Nd.apply(this,arguments)}function Ad(e,t){return Od.apply(this,arguments)}function Od(){return Od=me(ke().mark((function e(t,n){var r,i,a,o,u;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Gu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Od.apply(this,arguments)}function Pd(e,t){var n,r=Gu(e),i=!1,a=dn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=dn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&Dd(r)}function Rd(e,t,n){var r=Gu(e),i=r.queries.get(t);if(i){var a,o=dn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Dd(e){e.io.forEach((function(e){e.next()}))}var Ld=function(){function e(t,n,r){wn(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return En(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=dn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Sd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Sd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}();var Md=En((function e(t){wn(this,e),this.key=t})),jd=En((function e(t){wn(this,e),this.key=t})),Fd=function(){function e(t,n){wn(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Sl(),this.mutatedKeys=Sl(),this.Ao=Nc(t),this.Ro=new Ed(this.Ao)}return En(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new _d,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=mc(this.query)&&i.size===this.query.limit?i.last():null,c=gc(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Cc(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),mc(this.query)||gc(this.query))for(;o.size>this.query.limit;){var l=mc(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hu()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new Sd(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new _d,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Sl(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new jd(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new Md(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Sl();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Sd.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),Ud=En((function e(t,n,r){wn(this,e),this.query=t,this.targetId=n,this.view=r})),Vd=En((function e(t){wn(this,e),this.key=t,this.$o=!1})),Bd=function(){function e(t,n,r,i,a,o){wn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new Kf((function(e){return Tc(e)}),Sc),this.Mo=new Map,this.Lo=new Set,this.Bo=new dl(As.comparator),this.Uo=new Map,this.qo=new fh,this.Ko={},this.jo=new Map,this.Qo=qf.re(),this.onlineState="Unknown",this.Wo=void 0}return En(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function zd(e,t){return qd.apply(this,arguments)}function qd(){return qd=me(ke().mark((function e(t,n){var r,i,a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mp(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,oh(r.localStore,Ec(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,Wd(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&Vh(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),qd.apply(this,arguments)}function Wd(e,t,n,r){return Hd.apply(this,arguments)}function Hd(){return Hd=me(ke().mark((function e(t,n,r,i){var a,o,u,s,c,l;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=me(ke().mark((function e(t,n,r,i){var a,o,u;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,ch(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(cp(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ch(t.localStore,n,!0);case 3:return a=e.sent,o=new Fd(n,a.zn),u=o.bo(a.documents),s=Nl.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),cp(t,r,c.Co),l=new Ud(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Hd.apply(this,arguments)}function Kd(e,t){return Gd.apply(this,arguments)}function Gd(){return Gd=me(ke().mark((function e(t,n){var r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Gu(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!Sc(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,uh(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Bh(r.remoteStore,i.targetId),up(r,i.targetId)})).catch(Wf);case 9:e.next=14;break;case 11:return up(r,i.targetId),e.next=14,uh(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Gd.apply(this,arguments)}function Qd(e,t,n){return $d.apply(this,arguments)}function $d(){return $d=me(ke().mark((function e(t,n,r){var i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gp(t),e.prev=1,e.next=4,function(e,t){var n,r=Gu(e),i=cs.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Sl());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,u=[],s=dn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Jc(c,n.get(c.key));null!=l&&u.push(new nl(c.key,l,Ks(l.value.mapValue),Gc.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.An.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new dl(us)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,hp(i,a.changes);case 9:return e.next=11,rd(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=xd(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),$d.apply(this,arguments)}function Yd(e,t){return Xd.apply(this,arguments)}function Xd(){return Xd=me(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gu(t),e.prev=1,e.next=4,rh(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Ku(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Ku(n.$o):e.removedDocuments.size>0&&(Ku(n.$o),n.$o=!1))})),e.next=8,hp(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Wf(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Xd.apply(this,arguments)}function Jd(e,t,n){var r=Gu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Gu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=dn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Dd(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Zd(e,t,n){return ep.apply(this,arguments)}function ep(){return ep=me(ke().mark((function e(t,n,r){var i,a,o,u,s,c;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Gu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new dl(As.comparator)).insert(o,Gs.newNoDocument(o,ls.min())),s=Sl().add(o),c=new Cl(ls.min(),new Map,new yl(us),u,s),e.next=9,Yd(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),fp(i),e.next=16;break;case 14:return e.next=16,uh(i.localStore,n,!1).then((function(){return up(i,n,r)})).catch(Wf);case 16:case"end":return e.stop()}}),e)}))),ep.apply(this,arguments)}function tp(e,t){return np.apply(this,arguments)}function np(){return np=me(ke().mark((function e(t,n){var r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gu(t),i=n.batch.batchId,e.prev=1,e.next=4,th(r.localStore,n);case 4:return a=e.sent,op(r,i,null),ap(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,hp(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),np.apply(this,arguments)}function rp(e,t,n){return ip.apply(this,arguments)}function ip(){return ip=me(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gu(t),e.prev=1,e.next=4,function(e,t){var n=Gu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Ku(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,op(i,n,r),ap(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,hp(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ip.apply(this,arguments)}function ap(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function op(e,t,n){var r=Gu(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function up(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=dn(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||sp(e,t)}))}function sp(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Bh(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),fp(e))}function cp(e,t,n){var r,i=dn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Md?(e.qo.addReference(a.key,t),lp(e,a)):a instanceof jd?(Bu("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||sp(e,a.key)):Hu()}}catch(o){i.e(o)}finally{i.f()}}function lp(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Bu("SyncEngine","New document in limbo: "+n),e.Lo.add(r),fp(e))}function fp(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new As(vs.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Vd(n)),e.Bo=e.Bo.insert(n,r),Vh(e.remoteStore,new jf(Ec(yc(n.path)),r,2,is.I))}}function hp(e,t,n){return dp.apply(this,arguments)}function dp(){return dp=me(ke().mark((function e(t,n,r){var i,a,o,u;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Gu(t),a=[],o=[],u=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){u.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=$f.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=me(ke().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Rf.forEach(n,(function(t){return Rf.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Rf.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Df(e.t0)){e.next=10;break}throw e.t0;case 10:Bu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=dn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}function pp(e,t){return vp.apply(this,arguments)}function vp(){return vp=me(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Gu(t)).currentUser.isEqual(n)){e.next=11;break}return Bu("SyncEngine","User change. New user:",n.toKey()),e.next=5,Zf(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new $u(Qu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,hp(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),vp.apply(this,arguments)}function yp(e,t){var n=Gu(e),r=n.Uo.get(t);if(r&&r.$o)return Sl().add(r.key);var i=Sl(),a=n.Mo.get(t);if(!a)return i;var o,u=dn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Oo.get(s);i=i.unionWith(c.view.Po)}}catch(l){u.e(l)}finally{u.f()}return i}function mp(e){var t=Gu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zd.bind(null,t),t.Fo.Pr=Pd.bind(null,t.eventManager),t.Fo.zo=Rd.bind(null,t.eventManager),t}function gp(e){var t=Gu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rp.bind(null,t),t}var kp=function(){function e(){wn(this,e),this.synchronizeTabs=!1}return En(e,[{key:"initialize",value:function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Ch(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Jf(this.persistence,new Yf,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new mh(kh.ks,this.k)}},{key:"Jo",value:function(e){return new wh}},{key:"terminate",value:function(){var e=me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),bp=function(){function e(){wn(this,e)}return En(e,[{key:"initialize",value:function(){var e=me(ke().mark((function e(t,n){var r=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Jd(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=pp.bind(null,this.syncEngine),e.next=12,md(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Id}},{key:"createDatastore",value:function(e){var t,n=Ch(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Th(t));return function(e,t,n,r){return new Rh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Jd(o.syncEngine,e,0)},a=Eh.bt()?new Eh:new xh,new Lh(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Bd(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gu(t),Bu("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Fh(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var wp=function(){function e(t){wn(this,e),this.observer=t,this.muted=!1}return En(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),xp=function(){function e(t,n,r,i){var a=this;wn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ju.UNAUTHENTICATED,this.clientId=os.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return En(e,[{key:"getConfiguration",value:function(){var e=me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new $u(Qu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Yu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(me(ke().mark((function n(){var r;return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=xd(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Ep(e,t){return _p.apply(this,arguments)}function _p(){return _p=me(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Bu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Zf(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),_p.apply(this,arguments)}function Sp(e,t){return Tp.apply(this,arguments)}function Tp(){return Tp=me(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Ip(t);case 3:return r=e.sent,Bu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=me(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Gu(t)).asyncQueue.verifyOperationInProgress(),Bu("RemoteStore","RemoteStore received new credentials"),i=Kh(r),r.Gr.add(3),e.next=6,Fh(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,Mh(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),Tp.apply(this,arguments)}function Ip(e){return Cp.apply(this,arguments)}function Cp(){return Cp=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Bu("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Ep(t,new kp);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Cp.apply(this,arguments)}function Np(e){return Ap.apply(this,arguments)}function Ap(){return Ap=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Bu("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Sp(t,new bp);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ap.apply(this,arguments)}function Op(e){return Np(e).then((function(e){return e.syncEngine}))}function Pp(e){return Rp.apply(this,arguments)}function Rp(){return Rp=me(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Np(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=zd.bind(null,n.syncEngine),r.onUnlisten=Kd.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Rp.apply(this,arguments)}function Dp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Yu;return e.asyncQueue.enqueueAndForget(me(ke().mark((function i(){return ke().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new wp({next:function(n){t.enqueueAndForget((function(){return Ad(e,o)})),n.fromCache&&"server"===r.source?i.reject(new $u(Qu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Ld(n,a,{includeMetadataChanges:!0,wo:!0});return Cd(e,o)},i.next=3,Pp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Lp=En((function e(t,n,r,i,a,o,u,s){wn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Mp=function(){function e(t,n){wn(this,e),this.projectId=t,this.database=n||"(default)"}return En(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),jp=new Map;function Fp(e,t,n){if(!n)throw new $u(Qu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Up(e){if(!As.isDocumentKey(e))throw new $u(Qu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Vp(e){if(As.isDocumentKey(e))throw new $u(Qu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Hu()}function zp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $u(Qu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Bp(e);throw new $u(Qu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var qp=function(){function e(t){var n;if(wn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new $u(Qu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $u(Qu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new $u(Qu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return En(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Wp=function(){function e(t,n,r){wn(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qp({}),this._settingsFrozen=!1,t instanceof Mp?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new $u(Qu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mp(e.options.projectId)}(t))}return En(e,[{key:"app",get:function(){if(!this._app)throw new $u(Qu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new $u(Qu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ju;switch(e.type){case"gapi":var t=e.client;return Ku(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ts(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new $u(Qu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=jp.get(e);t&&(Bu("ComponentProvider","Removing Datastore"),jp.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var Hp=function(){function e(t,n,r){wn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return En(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Gp(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Kp=function(){function e(t,n,r){wn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return En(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Gp=function(e){pn(n,e);var t=gn(n);function n(e,r,i){var a;return wn(this,n),(a=t.call(this,e,r,yc(i)))._path=i,a.type="collection",a}return En(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Hp(this.firestore,null,new As(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Kp);function Qp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Wn(e),Fp("collection","path",t),e instanceof Wp){var a=vs.fromString.apply(vs,[t].concat(r));return Vp(a),new Gp(e,null,a)}if(!(e instanceof Hp||e instanceof Gp))throw new $u(Qu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(vs.fromString.apply(vs,[t].concat(r)));return Vp(o),new Gp(e.firestore,null,o)}function $p(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Wn(e),1===arguments.length&&(t=os.A()),Fp("doc","path",t),e instanceof Wp){var a=vs.fromString.apply(vs,[t].concat(r));return Up(a),new Hp(e,null,new As(a))}if(!(e instanceof Hp||e instanceof Gp))throw new $u(Qu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(vs.fromString.apply(vs,[t].concat(r)));return Up(o),new Hp(e.firestore,e instanceof Gp?e.converter:null,new As(o))}var Yp=function(){function e(){var t=this;wn(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Nh(this,"async_queue_retry"),this.Ra=function(){var e=Ih();e&&Bu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Ih();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return En(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=Ih();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new Yu;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=me(ke().mark((function e(){var t=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Df(e.t0)){e.next=12;break}throw e.t0;case 12:Bu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw zu("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=wd.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&Hu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=me(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=dn(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=dn(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();var Xp=function(e){pn(n,e);var t=gn(n);function n(e,r,i){var a;return wn(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Yp,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return En(n,[{key:"_terminate",value:function(){return this._firestoreClient||Zp(this),this._firestoreClient.terminate()}}]),n}(Wp);function Jp(e){return e._firestoreClient||Zp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Zp(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Lp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new xp(e._authCredentials,e._appCheckCredentials,e._queue,r)}var ev=function(){function e(){wn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new $u(Qu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ms(n)}return En(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var tv=function(){function e(t){wn(this,e),this._byteString=t}return En(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ks.fromBase64String(t))}catch(t){throw new $u(Qu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ks.fromUint8Array(t))}}]),e}(),nv=En((function e(t){wn(this,e),this._methodName=t})),rv=function(){function e(t,n){if(wn(this,e),!isFinite(t)||t<-90||t>90)throw new $u(Qu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new $u(Qu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return En(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return us(this._lat,e._lat)||us(this._long,e._long)}}]),e}(),iv=/^__.*__$/,av=function(){function e(t,n,r){wn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return En(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new nl(e,this.data,this.fieldMask,t,this.fieldTransforms):new tl(e,this.data,t,this.fieldTransforms)}}]),e}(),ov=function(){function e(t,n,r){wn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return En(e,[{key:"toMutation",value:function(e,t){return new nl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function uv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hu()}}var sv=function(){function e(t,n,r,i,a,o){wn(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return En(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return Ev(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(uv(this.xa)&&iv.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),cv=function(){function e(t,n,r){wn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Ch(t)}return En(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new sv({xa:e,methodName:t,Ka:n,path:ms.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function lv(e){var t=e._freezeSettings(),n=Ch(e._databaseId);return new cv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fv(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);kv("Data must be an object, but it was:",o,r);var u,s,c=mv(r,o);if(a.merge)u=new gs(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=dn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=bv(t,d,n);if(!o.contains(p))throw new $u(Qu.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));_v(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new gs(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new av(new Hs(c),u,s)}var hv=function(e){pn(n,e);var t=gn(n);function n(){return wn(this,n),t.apply(this,arguments)}return En(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nv);function dv(e,t,n,r){var i=e.ja(1,t,n);kv("Data must be an object, but it was:",i,r);var a=[],o=Hs.empty();hs(r,(function(e,r){var u=xv(t,e,n);r=Wn(r);var s=i.La(u);if(r instanceof hv)a.push(u);else{var c=yv(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new gs(a);return new ov(o,u,i.fieldTransforms)}function pv(e,t,n,r,i,a){var o=e.ja(1,t,n),u=[bv(t,r,n)],s=[i];if(a.length%2!=0)throw new $u(Qu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(bv(t,a[c])),s.push(a[c+1]);for(var l=[],f=Hs.empty(),h=u.length-1;h>=0;--h)if(!_v(l,u[h])){var d=u[h],p=s[h];p=Wn(p);var v=o.La(d);if(p instanceof hv)l.push(d);else{var y=yv(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new gs(l);return new ov(f,m,o.fieldTransforms)}function vv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return yv(n,e.ja(r?4:3,t))}function yv(e,t){if(gv(e=Wn(e)))return kv("Unsupported field value:",t,e),mv(e,t);if(e instanceof nv)return function(e,t){if(!uv(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=dn(e);try{for(a.s();!(n=a.n()).done;){var o=yv(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Wn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Rc(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=cs.fromDate(e);return{timestampValue:Vl(t.k,n)}}if(e instanceof cs){var r=new cs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Vl(t.k,r)}}if(e instanceof rv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tv)return{bytesValue:Bl(t.k,e._byteString)};if(e instanceof Hp){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Wl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(Bp(e)))}(e,t)}function mv(e,t){var n={};return ds(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hs(e,(function(e,r){var i=yv(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function gv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof cs||e instanceof rv||e instanceof tv||e instanceof Hp||e instanceof nv)}function kv(e,t,n){if(!gv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Bp(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function bv(e,t,n){if((t=Wn(t))instanceof ev)return t._internalPath;if("string"==typeof t)return xv(e,t);throw Ev("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var wv=new RegExp("[~\\*/\\[\\]]");function xv(e,t,n){if(t.search(wv)>=0)throw Ev("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return cn(ev,bn(t.split(".")))._internalPath}catch(Ne){throw Ev("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ev(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new $u(Qu.INVALID_ARGUMENT,u+e+s)}function _v(e,t){return e.some((function(e){return e.isEqual(t)}))}var Sv=function(){function e(t,n,r,i,a){wn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return En(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Hp(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Tv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Iv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Tv=function(e){pn(n,e);var t=gn(n);function n(){return wn(this,n),t.apply(this,arguments)}return En(n,[{key:"data",value:function(){return hn(ln(n.prototype),"data",this).call(this)}}]),n}(Sv);function Iv(e,t){return"string"==typeof t?xv(e,t):t instanceof ev?t._internalPath:t._delegate._internalPath}var Cv=function(){function e(t,n){wn(this,e),this.hasPendingWrites=t,this.fromCache=n}return En(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Nv=function(e){pn(n,e);var t=gn(n);function n(e,r,i,a,o,u){var s;return wn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return En(n,[{key:"exists",value:function(){return hn(ln(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Av(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Iv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Sv),Av=function(e){pn(n,e);var t=gn(n);function n(){return wn(this,n),t.apply(this,arguments)}return En(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hn(ln(n.prototype),"data",this).call(this,e)}}]),n}(Nv),Ov=function(){function e(t,n,r,i){wn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cv(i.hasPendingWrites,i.fromCache),this.query=r}return En(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Av(n._firestore,n._userDataWriter,r.key,r,new Cv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $u(Qu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Av(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Cv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Av(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Cv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Pv(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Pv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hu()}}function Rv(e){if(gc(e)&&0===e.explicitOrderBy.length)throw new $u(Qu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Dv=En((function e(){wn(this,e)}));function Lv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Mv=function(e){pn(n,e);var t=gn(n);function n(e,r,i){var a;return wn(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return En(n,[{key:"_apply",value:function(e){var t=lv(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new $u(Qu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){Uv(o,a);var s,c=[],l=dn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Fv(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=Fv(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Uv(o,a),u=vv(n,"where",o,"in"===a||"not-in"===a);var h=Zs.create(i,a,u);return function(e,t){if(t.V()){var n=bc(e);if(null!==n&&!n.isEqual(t.field))throw new $u(Qu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=kc(e);null!==r&&Vv(e,t.field,r)}var i=function(e,t){var n,r=dn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new $u(Qu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new $u(Qu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Kp(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new pc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Dv);function jv(e,t,n){var r=t,i=Iv("where",e);return new Mv(i,r,n)}function Fv(e,t,n){if("string"==typeof(n=Wn(n))){if(""===n)throw new $u(Qu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!wc(t)&&-1!==n.indexOf("/"))throw new $u(Qu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(vs.fromString(n));if(!As.isDocumentKey(r))throw new $u(Qu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Fs(e,new As(r))}if(n instanceof Hp)return Fs(e,n._key);throw new $u(Qu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Bp(n),"."))}function Uv(e,t){if(!Array.isArray(e)||0===e.length)throw new $u(Qu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new $u(Qu.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Vv(e,t,n){if(!n.isEqual(t))throw new $u(Qu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Bv=function(){function e(){wn(this,e)}return En(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Hu()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return hs(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new rv(xs(e.latitude),xs(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ss(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ts(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ws(e);return new cs(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=vs.fromString(e);Ku(pf(n));var r=new Mp(n.get(1),n.get(3)),i=new As(n.popFirst(5));return r.isEqual(t)||zu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function zv(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var qv=function(e){pn(n,e);var t=gn(n);function n(e){var r;return wn(this,n),(r=t.call(this)).firestore=e,r}return En(n,[{key:"convertBytes",value:function(e){return new tv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hp(this.firestore,null,t)}}]),n}(Bv);function Wv(e){e=zp(e,Kp);var t=zp(e.firestore,Xp),n=Jp(t),r=new qv(t);return Rv(e._query),Dp(n,e._query).then((function(n){return new Ov(t,r,e,n)}))}function Hv(e,t,n){e=zp(e,Hp);var r=zp(e.firestore,Xp),i=zv(e.converter,t,n);return $v(r,[fv(lv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Gc.none())])}function Kv(e,t,n){e=zp(e,Hp);for(var r=zp(e.firestore,Xp),i=lv(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return $v(r,[("string"==typeof(t=Wn(t))||t instanceof ev?pv(i,"updateDoc",e._key,t,n,o):dv(i,"updateDoc",e._key,t)).toMutation(e._key,Gc.exists(!0))])}function Gv(e){return $v(zp(e.firestore,Xp),[new sl(e._key,Gc.none())])}function Qv(e,t){var n=zp(e.firestore,Xp),r=$p(e),i=zv(e.converter,t);return $v(n,[fv(lv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Gc.exists(!1))]).then((function(){return r}))}function $v(e,t){return function(e,t){var n=new Yu;return e.asyncQueue.enqueueAndForget(me(ke().mark((function r(){return ke().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Qd,r.next=3,Op(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Jp(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Fu="9.6.1",pr(new Hn("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Xp(i,new Zu(e.getProvider("auth-internal")),new rs(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),xr(Mu,"3.4.1",e),xr(Mu,"3.4.1","esm2017")}();var Yv=Zt({name:"user",initialState:{userId:""},reducers:{setUserId:function(e,t){return{userId:t.payload}}},extraReducers:{}}),Xv=function(e){return e.user.userId},Jv=Yv.actions.setUserId,Zv=Yv.reducer;xr("firebase","9.6.1","app");function ey(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ty;Object.create;function ny(){return ve({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ry=ny,iy=new Dn("auth","Firebase",ny()),ay=new ir("@firebase/auth");function oy(e){if(ay.logLevel<=$n.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ay.error.apply(ay,["Auth (".concat(br,"): ").concat(e)].concat(n))}}function uy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ly.apply(void 0,[e].concat(n))}function sy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ly.apply(void 0,[e].concat(n))}function cy(e,t,n){var r=Object.assign(Object.assign({},ry()),ve({},t,n));return new Dn("auth","Firebase",r).create(t,{appName:e.name})}function ly(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=bn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(bn(o)))}return iy.create.apply(iy,[e].concat(n))}function fy(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ly.apply(void 0,[t].concat(r))}}function hy(e){var t="INTERNAL ASSERTION FAILED: "+e;throw oy(t),new Error(t)}function dy(e,t){e||hy(t)}var py=new Map;function vy(e){dy(e instanceof Function,"Expected a class definition");var t=py.get(e);return t?(dy(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,py.set(e,t),t)}function yy(e,t){var n=vr(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(jn(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;uy(r,"already-initialized")}return n.initialize({options:t})}function my(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function gy(){return"http:"===ky()||"https:"===ky()}function ky(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var by=function(){function e(t,n){wn(this,e),this.shortDelay=t,this.longDelay=n,dy(n>t,"Short delay should be less than long delay!"),this.isMobile=Nn()||On()}return En(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(gy()||An()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function wy(e,t){dy(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var xy=function(){function e(){wn(this,e)}return En(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void hy("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void hy("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void hy("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ey=(ve(ty={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ve(ty,"MISSING_CUSTOM_TOKEN","internal-error"),ve(ty,"INVALID_IDENTIFIER","invalid-email"),ve(ty,"MISSING_CONTINUE_URI","internal-error"),ve(ty,"INVALID_PASSWORD","wrong-password"),ve(ty,"MISSING_PASSWORD","internal-error"),ve(ty,"EMAIL_EXISTS","email-already-in-use"),ve(ty,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ve(ty,"INVALID_IDP_RESPONSE","invalid-credential"),ve(ty,"INVALID_PENDING_TOKEN","invalid-credential"),ve(ty,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ve(ty,"MISSING_REQ_TYPE","internal-error"),ve(ty,"EMAIL_NOT_FOUND","user-not-found"),ve(ty,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ve(ty,"EXPIRED_OOB_CODE","expired-action-code"),ve(ty,"INVALID_OOB_CODE","invalid-action-code"),ve(ty,"MISSING_OOB_CODE","internal-error"),ve(ty,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ve(ty,"INVALID_ID_TOKEN","invalid-user-token"),ve(ty,"TOKEN_EXPIRED","user-token-expired"),ve(ty,"USER_NOT_FOUND","user-token-expired"),ve(ty,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ve(ty,"INVALID_CODE","invalid-verification-code"),ve(ty,"INVALID_SESSION_INFO","invalid-verification-id"),ve(ty,"INVALID_TEMPORARY_PROOF","invalid-credential"),ve(ty,"MISSING_SESSION_INFO","missing-verification-id"),ve(ty,"SESSION_EXPIRED","code-expired"),ve(ty,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ve(ty,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ve(ty,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ve(ty,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ve(ty,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ve(ty,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ve(ty,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ve(ty,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ve(ty,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ve(ty,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ve(ty,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ty),_y=new by(3e4,6e4);function Sy(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ty(e,t,n,r){return Iy.apply(this,arguments)}function Iy(){return Iy=me(ke().mark((function e(t,n,r,i){var a,o=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Cy(t,a,me(ke().mark((function e(){var a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Un(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",xy.fetch()(Py(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Iy.apply(this,arguments)}function Cy(e,t,n){return Ny.apply(this,arguments)}function Ny(){return Ny=me(ke().mark((function e(t,n,r){var i,o,u,s,c,l,f,h,d,p;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ey),n),e.prev=2,o=new Ry(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Dy(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=a(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Dy(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Dy(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw cy(t,p,d);case 30:uy(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Rn)){e.next=37;break}throw e.t0;case 37:uy(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Ny.apply(this,arguments)}function Ay(e,t,n,r){return Oy.apply(this,arguments)}function Oy(){return Oy=me(ke().mark((function e(t,n,r,i){var a,o,u=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ty(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&uy(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}function Py(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?wy(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ry=function(){function e(t){var n=this;wn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(sy(n.auth,"timeout"))}),_y.get())}))}return En(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Dy(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=sy(e,t,r);return i.customData._tokenResponse=n,i}function Ly(e,t){return My.apply(this,arguments)}function My(){return My=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ty(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}function jy(e,t){return Fy.apply(this,arguments)}function Fy(){return Fy=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ty(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Fy.apply(this,arguments)}function Uy(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Vy(){return Vy=me(ke().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Wn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,fy((a=zy(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Uy(By(a.auth_time)),issuedAtTime:Uy(By(a.iat)),expirationTime:Uy(By(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Vy.apply(this,arguments)}function By(e){return 1e3*Number(e)}function zy(e){var t=a(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return oy("JWT malformed, contained fewer than 3 sections"),null;try{var o=Tn(r);return o?JSON.parse(o):(oy("Failed to decode base64 JWT payload"),null)}catch(u){return oy("Caught error parsing JWT payload as JSON",u),null}}function qy(e,t){return Wy.apply(this,arguments)}function Wy(){return Wy=me(ke().mark((function e(t,n){var r=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Rn&&Hy(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Wy.apply(this,arguments)}function Hy(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ky=function(){function e(t){wn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return En(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(me(ke().mark((function t(){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Gy=function(){function e(t,n){wn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return En(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Uy(this.lastLoginAt),this.creationTime=Uy(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Qy(e){return $y.apply(this,arguments)}function $y(){return $y=me(ke().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,qy(t,jy(r,{idToken:i}));case 6:fy(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Jy(o.providerUserInfo):[],s=Xy(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Gy(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),$y.apply(this,arguments)}function Yy(){return(Yy=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wn(t),e.next=3,Qy(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xy(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(bn(n),bn(t))}function Jy(e){return e.map((function(e){var t=e.providerId,n=ey(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Zy(e,t){return em.apply(this,arguments)}function em(){return em=me(ke().mark((function e(t,n){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cy(t,{},me(ke().mark((function e(){var r,i,a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Un({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Py(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",xy.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),em.apply(this,arguments)}var tm=function(){function e(){wn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return En(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){fy(e.idToken,"internal-error"),fy("undefined"!==typeof e.idToken,"internal-error"),fy("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=zy(e);return fy(t,"internal-error"),fy("undefined"!==typeof t.exp,"internal-error"),fy("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=me(ke().mark((function e(t){var n,r=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],fy(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=me(ke().mark((function e(t,n){var r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zy(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return hy("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(fy("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(fy("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(fy("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function nm(e,t){fy("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var rm=function(){function e(t){wn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ey(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ky(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Gy(a.createdAt||void 0,a.lastLoginAt||void 0)}return En(e,[{key:"getIdToken",value:function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qy(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(fy(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Vy.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Yy.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(fy(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){fy(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=me(ke().mark((function e(t){var n,r,i=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Qy(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=me(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,qy(this,Ly(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;fy(k&&E,t,"internal-error");var _=tm.fromJSON(this.name,E);fy("string"===typeof k,t,"internal-error"),nm(f,t.name),nm(h,t.name),fy("boolean"===typeof b,t,"internal-error"),fy("boolean"===typeof w,t,"internal-error"),nm(d,t.name),nm(p,t.name),nm(v,t.name),nm(y,t.name),nm(m,t.name),nm(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(S._redirectEventId=y),S}},{key:"_fromIdTokenResponse",value:function(){var t=me(ke().mark((function t(n,r){var i,a,o,u=arguments;return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new tm).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Qy(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),im=function(){function e(){wn(this,e),this.type="NONE",this.storage={}}return En(e,[{key:"_isAvailable",value:function(){var e=me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();im.type="NONE";var am=im;function om(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var um=function(){function e(t,n,r){wn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=om(this.userKey,a.apiKey,o),this.fullPersistenceKey=om("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return En(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=me(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?rm._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=me(ke().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(vy(am),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||vy(am),u=om(i,n.config.apiKey,n.name),s=null,c=dn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=rm._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function sm(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pm(t))return"Blackberry";if(vm(t))return"Webos";if(lm(t))return"Safari";if((t.includes("chrome/")||fm(t))&&!t.includes("edge/"))return"Chrome";if(dm(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function cm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/firefox\//i.test(e)}function lm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/crios\//i.test(e)}function hm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/iemobile/i.test(e)}function dm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/android/i.test(e)}function pm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/blackberry/i.test(e)}function vm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/webos/i.test(e)}function ym(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/iphone|ipad|ipod/i.test(e)}function mm(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return ym(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function gm(){return Pn()&&10===document.documentMode}function km(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return ym(e)||dm(e)||vm(e)||pm(e)||/windows phone/i.test(e)||hm(e)}function bm(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=sm(Cn());break;case"Worker":t="".concat(sm(Cn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(br,"/").concat(r)}var wm=function(){function e(t,n){wn(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Em(this),this.idTokenSubscription=new Em(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iy,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return En(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=vy(t)),this._initializationPromise=this.queue(me(ke().mark((function r(){var i,a;return ke().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,um.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=me(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=me(ke().mark((function e(t){var n,r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return fy(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qy(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Wn(t):null)&&fy(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=me(ke().mark((function e(t){var n=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&fy(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(me(ke().mark((function n(){return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(vy(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Dn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=me(ke().mark((function e(t,n){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return fy(n=t&&vy(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,um.create(this,[vy(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=me(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=me(ke().mark((function e(t){var n=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return fy(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return fy(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bm(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=me(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ve({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xm(e){return Wn(e)}var Em=function(){function e(t){var n=this;wn(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new zn(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return En(e,[{key:"next",get:function(){return fy(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var _m=function(){function e(t,n){wn(this,e),this.providerId=t,this.signInMethod=n}return En(e,[{key:"toJSON",value:function(){return hy("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return hy("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return hy("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return hy("not implemented")}}]),e}();function Sm(e,t){return Tm.apply(this,arguments)}function Tm(){return Tm=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ty(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Tm.apply(this,arguments)}function Im(e,t){return Cm.apply(this,arguments)}function Cm(){return Cm=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ay(t,"POST","/v1/accounts:signInWithPassword",Sy(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cm.apply(this,arguments)}function Nm(e,t){return Am.apply(this,arguments)}function Am(){return Am=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ay(t,"POST","/v1/accounts:signInWithEmailLink",Sy(t,n)));case 1:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Om(e,t){return Pm.apply(this,arguments)}function Pm(){return Pm=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ay(t,"POST","/v1/accounts:signInWithEmailLink",Sy(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pm.apply(this,arguments)}var Rm=function(e){pn(n,e);var t=gn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return wn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return En(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Im(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Nm(t,{email:this._email,oobCode:this._password}));case 5:uy(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Sm(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Om(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:uy(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(_m);function Dm(e,t){return Lm.apply(this,arguments)}function Lm(){return Lm=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ay(t,"POST","/v1/accounts:signInWithIdp",Sy(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lm.apply(this,arguments)}var Mm=function(e){pn(n,e);var t=gn(n);function n(){var e;return wn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return En(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Dm(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Dm(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Dm(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Un(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):uy("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ey(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(_m);function jm(e,t){return Fm.apply(this,arguments)}function Fm(){return Fm=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ty(t,"POST","/v1/accounts:sendVerificationCode",Sy(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Um(){return Um=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ay(t,"POST","/v1/accounts:signInWithPhoneNumber",Sy(t,n)));case 1:case"end":return e.stop()}}),e)}))),Um.apply(this,arguments)}function Vm(){return Vm=me(ke().mark((function e(t,n){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ay(t,"POST","/v1/accounts:signInWithPhoneNumber",Sy(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Dy(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Vm.apply(this,arguments)}var Bm=ve({},"USER_NOT_FOUND","user-not-found");function zm(){return zm=me(ke().mark((function e(t,n){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ay(t,"POST","/v1/accounts:signInWithPhoneNumber",Sy(t,r),Bm));case 2:case"end":return e.stop()}}),e)}))),zm.apply(this,arguments)}var qm=function(e){pn(n,e);var t=gn(n);function n(e){var r;return wn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return En(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Um.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Vm.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return zm.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(_m);var Wm=function(){function e(t){var n,r,i,a,o,u;wn(this,e);var s=Vn(Bn(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);fy(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return En(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Vn(Bn(e)).link,n=t?Vn(Bn(t)).deep_link_id:null,r=Vn(Bn(e)).deep_link_id;return(r?Vn(Bn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(ap){return null}}}]),e}();var Hm=function(){function e(){wn(this,e),this.providerId=e.PROVIDER_ID}return En(e,null,[{key:"credential",value:function(e,t){return Rm._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Wm.parseLink(t);return fy(n,"argument-error"),Rm._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Hm.PROVIDER_ID="password",Hm.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Hm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Km=function(){function e(t){wn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return En(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Gm=function(e){pn(n,e);var t=gn(n);function n(){var e;return wn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return En(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return bn(this.scopes)}}]),n}(Km),Qm=function(e){pn(n,e);var t=gn(n);function n(){return wn(this,n),t.call(this,"facebook.com")}return En(n,null,[{key:"credential",value:function(e){return Mm._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ap){return null}}}]),n}(Gm);Qm.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qm.PROVIDER_ID="facebook.com";var $m=function(e){pn(n,e);var t=gn(n);function n(){var e;return wn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return En(n,null,[{key:"credential",value:function(e,t){return Mm._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(ap){return null}}}]),n}(Gm);$m.GOOGLE_SIGN_IN_METHOD="google.com",$m.PROVIDER_ID="google.com";var Ym=function(e){pn(n,e);var t=gn(n);function n(){return wn(this,n),t.call(this,"github.com")}return En(n,null,[{key:"credential",value:function(e){return Mm._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ap){return null}}}]),n}(Gm);Ym.GITHUB_SIGN_IN_METHOD="github.com",Ym.PROVIDER_ID="github.com";var Xm=function(e){pn(n,e);var t=gn(n);function n(){return wn(this,n),t.call(this,"twitter.com")}return En(n,null,[{key:"credential",value:function(e,t){return Mm._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(ap){return null}}}]),n}(Gm);function Jm(e,t){return Zm.apply(this,arguments)}function Zm(){return Zm=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ay(t,"POST","/v1/accounts:signUp",Sy(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}Xm.TWITTER_SIGN_IN_METHOD="twitter.com",Xm.PROVIDER_ID="twitter.com";var eg=function(){function e(t){wn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return En(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=me(ke().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,rm._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=tg(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=me(ke().mark((function t(n,r,i){var a;return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=tg(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function tg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var ng=function(e){pn(n,e);var t=gn(n);function n(e,r,i,a){var o,u;return wn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(yn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return En(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Rn);function rg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ng._fromErrorAndOperation(e,n,t,r);throw n}))}function ig(e,t){return ag.apply(this,arguments)}function ag(){return ag=me(ke().mark((function e(t,n){var r,i,a=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=qy,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",eg._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ag.apply(this,arguments)}function og(e,t){return ug.apply(this,arguments)}function ug(){return ug=me(ke().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,qy(t,rg(i,a,n,t),r);case 6:return fy((o=e.sent).idToken,i,"internal-error"),fy(u=zy(o.idToken),i,"internal-error"),s=u.sub,fy(t.uid===s,i,"user-mismatch"),e.abrupt("return",eg._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&uy(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ug.apply(this,arguments)}function sg(e,t){return cg.apply(this,arguments)}function cg(){return cg=me(ke().mark((function e(t,n){var r,i,a,o,u=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,rg(t,i,n);case 4:return a=e.sent,e.next=7,eg._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),cg.apply(this,arguments)}function lg(e,t){return fg.apply(this,arguments)}function fg(){return fg=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sg(xm(t),n));case 1:case"end":return e.stop()}}),e)}))),fg.apply(this,arguments)}function hg(){return hg=me(ke().mark((function e(t,n,r){var i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xm(t),e.next=3,Jm(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,eg._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function dg(e,t){return Ty(e,"POST","/v2/accounts/mfaEnrollment:start",Sy(e,t))}new WeakMap;var pg="__sak",vg=function(){function e(t,n){wn(this,e),this.storageRetriever=t,this.type=n}return En(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(pg,"1"),this.storage.removeItem(pg),Promise.resolve(!0)):Promise.resolve(!1)}catch(ap){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var yg=function(e){pn(n,e);var t=gn(n);function n(){var e;return wn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Cn();return lm(e)||ym(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=km(),e._shouldAllowMigration=!0,e}return En(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);gm()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=me(ke().mark((function e(t,r){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hn(ln(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=me(ke().mark((function e(t){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hn(ln(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hn(ln(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(vg);yg.type="LOCAL";var mg=yg,gg=function(e){pn(n,e);var t=gn(n);function n(){return wn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return En(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(vg);gg.type="SESSION";var kg=gg;function bg(e){return Promise.all(e.map(function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var wg=function(){function e(t){wn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return En(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=me(ke().mark((function e(t){var n,r,i,a,o,u,s,c;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,bg(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function xg(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}wg.receivers=[];var Eg=function(){function e(t){wn(this,e),this.target=t,this.handlers=new Set}return En(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=me(ke().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=xg("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function _g(){return window}function Sg(){return"undefined"!==typeof _g().WorkerGlobalScope&&"function"===typeof _g().importScripts}function Tg(){return Ig.apply(this,arguments)}function Ig(){return(Ig=me(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Cg(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ng="firebaseLocalStorageDb",Ag="firebaseLocalStorage",Og="fbase_key",Pg=function(){function e(t){wn(this,e),this.request=t}return En(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Rg(e,t){return e.transaction([Ag],t?"readwrite":"readonly").objectStore(Ag)}function Dg(){var e=indexedDB.deleteDatabase(Ng);return new Pg(e).toPromise()}function Lg(){var e=indexedDB.open(Ng,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ag,{keyPath:Og})}catch(r){n(r)}})),e.addEventListener("success",me(ke().mark((function n(){var r;return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ag)){n.next=12;break}return r.close(),n.next=5,Dg();case 5:return n.t0=t,n.next=8,Lg();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Mg(e,t,n){return jg.apply(this,arguments)}function jg(){return jg=me(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rg(t,!0).put((ve(i={},Og,n),ve(i,"value",r),i)),e.abrupt("return",new Pg(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}function Fg(e,t){return Ug.apply(this,arguments)}function Ug(){return Ug=me(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rg(t,!1).get(n),e.next=3,new Pg(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ug.apply(this,arguments)}function Vg(e,t){var n=Rg(e,!0).delete(t);return new Pg(n).toPromise()}var Bg=function(){function e(){wn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return En(e,[{key:"_openDb",value:function(){var e=me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Lg();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=me(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sg()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=me(ke().mark((function e(){var t=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=wg._getInstance(Sg()?self:null),this.receiver._subscribe("keyChanged",function(){var e=me(ke().mark((function e(n,r){var i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=me(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=me(ke().mark((function e(){var t,n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tg();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Eg(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Cg()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=me(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Lg();case 5:return t=e.sent,e.next=8,Mg(t,pg,"1");case 8:return e.next=10,Vg(t,pg);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=me(ke().mark((function e(t,n){var r=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Mg(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Fg(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=me(ke().mark((function e(t){var n=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Vg(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=me(ke().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Rg(e,!1).getAll();return new Pg(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=dn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(me(ke().mark((function t(){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Bg.type="LOCAL";var zg=Bg;function qg(e,t){return Ty(e,"POST","/v2/accounts/mfaSignIn:start",Sy(e,t))}function Wg(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=sy("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Hg(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Hg("rcb"),new by(3e4,6e4);var Kg="recaptcha";function Gg(e,t,n){return Qg.apply(this,arguments)}function Qg(){return Qg=me(ke().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,fy("string"===typeof a,t,"argument-error"),fy(r.type===Kg,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return fy("enroll"===u.type,t,"internal-error"),e.next=13,dg(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return fy("signin"===u.type,t,"internal-error"),fy(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,qg(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,jm(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Qg.apply(this,arguments)}var $g=function(){function e(t){wn(this,e),this.providerId=e.PROVIDER_ID,this.auth=xm(t)}return En(e,[{key:"verifyPhoneNumber",value:function(e,t){return Gg(this.auth,e,Wn(t))}}],[{key:"credential",value:function(e,t){return qm._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?qm._fromTokenResponse(n,r):null}}]),e}();function Yg(e,t){return t?vy(t):(fy(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}$g.PROVIDER_ID="phone",$g.PHONE_SIGN_IN_METHOD="phone";var Xg=function(e){pn(n,e);var t=gn(n);function n(e){var r;return wn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return En(n,[{key:"_getIdTokenResponse",value:function(e){return Dm(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Dm(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Dm(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(_m);function Jg(e){return sg(e.auth,new Xg(e),e.bypassAuthState)}function Zg(e){var t=e.auth,n=e.user;return fy(n,t,"internal-error"),og(n,new Xg(e),e.bypassAuthState)}function ek(e){return tk.apply(this,arguments)}function tk(){return tk=me(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,fy(r=t.user,n,"internal-error"),e.abrupt("return",ig(r,new Xg(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),tk.apply(this,arguments)}var nk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];wn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return En(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=me(ke().mark((function t(n,r){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=me(ke().mark((function e(t){var n,r,i,a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jg;case"linkViaPopup":case"linkViaRedirect":return ek;case"reauthViaPopup":case"reauthViaRedirect":return Zg;default:uy(this.auth,"internal-error")}}},{key:"resolve",value:function(e){dy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){dy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),rk=new by(2e3,1e4);var ik=function(e){pn(n,e);var t=gn(n);function n(e,r,i,a,o){var u;return wn(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=yn(u),u}return En(n,[{key:"executeNotNull",value:function(){var e=me(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return fy(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=me(ke().mark((function e(){var t,n=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dy(1===this.filter.length,"Popup operations only handle one event"),t=xg(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(sy(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(sy(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(sy(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,rk.get())}()}}]),n}(nk);ik.currentPopupAction=null;var ak=new Map,ok=function(e){pn(n,e);var t=gn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return wn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return En(n,[{key:"execute",value:function(){var e=me(ke().mark((function e(){var t,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ak.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,uk(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,hn(ln(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ak.set(this.auth._key(),t);case 21:return this.bypassAuthState||ak.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=me(ke().mark((function e(t){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",hn(ln(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",hn(ln(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(nk);function uk(e,t){return sk.apply(this,arguments)}function sk(){return sk=me(ke().mark((function e(t,n){var r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lk(n),i=ck(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),sk.apply(this,arguments)}function ck(e){return vy(e._redirectPersistence)}function lk(e){return om("pendingRedirect",e.config.apiKey,e.name)}function fk(e,t){return hk.apply(this,arguments)}function hk(){return hk=me(ke().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=xm(t),a=Yg(i,n),o=new ok(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),hk.apply(this,arguments)}var dk=function(){function e(t){wn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return En(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vk(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!vk(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(sy(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pk(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(pk(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function pk(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function vk(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function yk(e){return mk.apply(this,arguments)}function mk(){return mk=me(ke().mark((function e(t){var n,r=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ty(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),mk.apply(this,arguments)}var gk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kk=/^https?/;function bk(){return bk=me(ke().mark((function e(t){var n,r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,yk(t);case 4:n=e.sent,r=n.authorizedDomains,i=dn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!wk(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:uy(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),bk.apply(this,arguments)}function wk(e){var t=my(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!kk.test(r))return!1;if(gk.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var xk=new by(3e4,6e4);function Ek(){var e=_g().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=bn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var _k=null;function Sk(e){return _k=_k||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ek(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ek(),n(sy(e,"network-request-failed"))},timeout:xk.get()})}if(null===(i=null===(r=_g().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=_g().gapi)||void 0===a?void 0:a.load)){var u=Hg("iframefcb");return _g()[u]=function(){gapi.load?o():n(sy(e,"network-request-failed"))},Wg("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw _k=null,e}))}(e),_k}var Tk=new by(5e3,15e3),Ik={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ck=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nk(e){var t=e.config;fy(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?wy(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:br},i=Ck.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Un(r).slice(1))}function Ak(e){return Ok.apply(this,arguments)}function Ok(){return Ok=me(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sk(t);case 2:return n=e.sent,fy(r=_g().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Nk(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ik,dontclear:!0},(function(e){return new Promise(function(){var n=me(ke().mark((function n(r,i){var a,o,u;return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){_g().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=sy(t,"network-request-failed"),o=_g().setTimeout((function(){i(a)}),Tk.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ok.apply(this,arguments)}var Pk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rk="_blank",Dk="http://localhost",Lk=function(){function e(t){wn(this,e),this.window=t,this.associatedEvent=null}return En(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Mk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Pk),{width:r.toString(),height:i.toString(),top:o,left:u}),l=Cn().toLowerCase();n&&(s=fm(l)?Rk:n),cm(l)&&(t=t||Dk,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=a(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(mm(l)&&"_self"!==s)return jk(t||"",s),new Lk(null);var h=window.open(t||"",s,f);fy(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Lk(h)}function jk(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Fk="__/auth/handler",Uk="emulator/auth/handler";function Vk(e,t,n,r,i,o){fy(e.config.authDomain,e,"auth-domain-config-required"),fy(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:br,eventId:i};if(t instanceof Km){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(o||{});s<c.length;s++){var l=a(c[s],2),f=l[0],h=l[1];u[f]=h}}if(t instanceof Gm){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Fk);return wy(t,Uk)}(e),"?").concat(Un(p).slice(1))}var Bk="webStorageSupport",zk=function(){function e(){wn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kg,this._completeRedirectFn=fk}return En(e,[{key:"_openPopup",value:function(){var e=me(ke().mark((function e(t,n,r,i){var a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dy(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Vk(t,n,r,my(),i),e.abrupt("return",Mk(t,o,xg()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=me(ke().mark((function e(t,n,r,i){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Vk(t,n,r,my(),i),_g().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(dy(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=me(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ak(t);case 2:return n=e.sent,r=new dk(t),n.register("authEvent",(function(e){return fy(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Bk,{type:Bk},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),uy(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return bk.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return km()||lm()||ym()}}]),e}(),qk=zk,Wk=function(){function e(t){wn(this,e),this.factorId=t}return En(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return hy("unexpected MultiFactorSessionType")}}}]),e}(),Hk=function(e){pn(n,e);var t=gn(n);function n(e){var r;return wn(this,n),(r=t.call(this,"phone")).credential=e,r}return En(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ty(e,"POST","/v2/accounts/mfaEnrollment:finalize",Sy(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ty(e,"POST","/v2/accounts/mfaSignIn:finalize",Sy(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Wk);(function(){function e(){wn(this,e)}return En(e,null,[{key:"assertion",value:function(e){return Hk._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Kk,Gk="@firebase/auth",Qk="0.19.4",$k=function(){function e(t){wn(this,e),this.auth=t,this.internalListeners=new Map}return En(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){fy(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();Kk="Browser",pr(new Hn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){fy(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),fy(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Kk,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bm(Kk)},r=new wm(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vy);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),pr(new Hn("auth-internal",(function(e){return function(e){return new $k(e)}(xm(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),xr(Gk,Qk,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Kk)),xr(Gk,Qk,"esm2017");var Yk=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:cr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw gr.create("bad-app-name",{appName:String(i)});var a=fr.get(i);if(a){if(jn(e,a.options)&&jn(r,a.config))return a;throw gr.create("duplicate-app",{appName:i})}var o,u=new Yn(i),s=dn(hr.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new kr(e,r,u);return fr.set(i,l),l}({apiKey:"AIzaSyA-jcEb53c4muML3hfX3HA7WYvqCSwBNNY",authDomain:"expense-tracker-4e13a.firebaseapp.com",projectId:"expense-tracker-4e13a",storageBucket:"expense-tracker-4e13a.appspot.com",messagingSenderId:"65016479636",appId:"1:65016479636:web:8b455fad8e8c1b1c791981"}),Xk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr();return vr(e,"firestore").getImmediate()}(Yk),Jk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr(),t=vr(e,"auth");return t.isInitialized()?t.getImmediate():yy(e,{popupRedirectResolver:qk,persistence:[zg,mg,kg]})}();function Zk(e,t){(function(e,t,n){return hg.apply(this,arguments)})(Jk,e,t).then(function(){var e=me(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user.uid,r=$p(Xk,"users",n),e.next=4,Hv(r,{userId:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function eb(e,t){return function(e,t,n){return lg(Wn(e),Hm.credential(t,n))}(Jk,e,t)}function tb(){return function(e){return Wn(e).signOut()}(Jk)}function nb(){var t=a((0,e.useState)(),2),n=t[0],r=t[1],i=se();return(0,e.useEffect)((function(){var e=function(e,t,n,r){return Wn(e).onAuthStateChanged(t,n,r)}(Jk,(function(e){if(e){var t=e.uid;i(Jv(t))}else i(Jv(null));r(e)}));return e}),[]),n}var rb,ib,ab=Xk,ob=Qp(ab,"categories"),ub=function(){var e=me(ke().mark((function e(t){var n,r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!t){e.next=7;break}return r=Lv(ob,jv("userId","==",t)),e.next=5,Wv(r);case 5:i=e.sent,n=i.docs.map((function(e){return xt(xt({},e.data()),{},{id:e.id})}));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sb=function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xt({},t),e.next=3,Qv(ob,n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cb=function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$p(ob,t),e.next=3,Gv(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lb=function(){var e=me(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=$p(ab,"categories",t),i=xt({},n),Hv(r,i,{merge:!0});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fb=an("categories/loadData",function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ub(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),hb=an("categories/addData",function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sb(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),db=an("categories/updateData",function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,lb(n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),pb=an("categories/deleteData",function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cb(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),vb=Zt({name:"categories",initialState:{allCategories:[],newCategory:{title:""},popupItem:{},popupPrevItem:{},isLoading:!1,hasError:!1,isPending:!1,isFailedToCreate:!1},reducers:{},extraReducers:(rb={},ve(rb,fb.pending,(function(e){e.isLoading=!0,e.hasError=!1})),ve(rb,fb.fulfilled,(function(e,t){e.allCategories=t.payload,e.isLoading=!1,e.hasError=!1})),ve(rb,fb.rejected,(function(e){e.isLoading=!1,e.hasError=!0})),rb)}),yb=function(e){return e.categories.allCategories},mb=function(e){return e.categories.isLoading},gb=vb.reducer,kb=Qp(ab,"accounts"),bb=function(){var e=me(ke().mark((function e(t){var n,r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!t){e.next=7;break}return r=Lv(kb,jv("userId","==",t)),e.next=5,Wv(r);case 5:i=e.sent,n=i.docs.map((function(e){return xt(xt({},e.data()),{},{id:e.id})}));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wb=function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xt({},t),e.next=3,Qv(kb,n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xb=function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$p(kb,t),e.next=3,Gv(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Eb=function(){var e=me(ke().mark((function e(t,n,r,i){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kv($p(kb,t),{title:n,userId:r,startBalance:i});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),_b=an("accounts/loadData",function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bb(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Sb=an("accounts/addData",function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wb(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Tb=an("accounts/updateData",function(){var e=me(ke().mark((function e(t){var n,r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.title,i=t.userId,a=t.startBalance,e.next=3,Eb(n,r,i,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ib=an("accounts/deleteData",function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xb(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Cb=Zt({name:"accounts",initialState:{allAccounts:[],newAccount:{title:"",balance:0,startBalance:0,archive:!1},isLoading:!1,hasError:!1,isPending:!1,isFailedToCreate:!1},reducers:{},extraReducers:(ib={},ve(ib,_b.pending,(function(e){e.isLoading=!0,e.hasError=!1})),ve(ib,_b.fulfilled,(function(e,t){e.allAccounts=t.payload,e.isLoading=!1,e.hasError=!1})),ve(ib,_b.rejected,(function(e){e.isLoading=!1,e.hasError=!0})),ib)}),Nb=function(e){return e.accounts.allAccounts},Ab=function(e){return e.accounts.isLoading},Ob=function(e){return function(e){return bn(new Set(e.map((function(e){return+e.startBalance})))).reduce((function(e,t){return e+t}),0)}(Nb(e))},Pb=Cb.actions,Rb=(Pb.addAccount,Pb.editAccount,Pb.createAccount,Cb.reducer);function Db(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Lb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,un(e,t)}function Mb(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var jb=!1,Fb=e.createContext(null),Ub="unmounted",Vb="exited",Bb="entering",zb="entered",qb="exiting",Wb=function(n){function r(e,t){var r;r=n.call(this,e,t)||this;var i,a=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=Vb,r.appearStatus=Bb):i=zb:i=e.unmountOnExit||e.mountOnEnter?Ub:Vb,r.state={status:i},r.nextCallback=null,r}Lb(r,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ub?{status:Vb}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Bb&&n!==zb&&(t=Bb):n!==Bb&&n!==zb||(t=qb)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Bb?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Vb&&this.setState({status:Ub})},i.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[t.findDOMNode(this),i],o=a[0],u=a[1],s=this.getTimeouts(),c=i?s.appear:s.enter;!e&&!r||jb?this.safeSetState({status:zb},(function(){n.props.onEntered(o)})):(this.props.onEnter(o,u),this.safeSetState({status:Bb},(function(){n.props.onEntering(o,u),n.onTransitionEnd(c,(function(){n.safeSetState({status:zb},(function(){n.props.onEntered(o,u)}))}))})))},i.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:t.findDOMNode(this);n&&!jb?(this.props.onExit(i),this.safeSetState({status:qb},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:Vb},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Vb},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=a[0],u=a[1];this.props.addEndListener(o,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===Ub)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Db(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Fb.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},r}(e.Component);function Hb(){}Wb.contextType=Fb,Wb.propTypes={},Wb.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Hb,onEntering:Hb,onEntered:Hb,onExit:Hb,onExiting:Hb,onExited:Hb},Wb.UNMOUNTED=Ub,Wb.EXITED=Vb,Wb.ENTERING=Bb,Wb.ENTERED=zb,Wb.EXITING=qb;var Kb=Wb,Gb=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=Mb(n.className,r):n.setAttribute("class",Mb(n.className&&n.className.baseVal||"",r)));var n,r}))},Qb=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(t,n){var r=e.resolveArguments(t,n),i=r[0],a=r[1];e.removeClasses(i,"exit"),e.addClass(i,a?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=e.resolveArguments(t,n),i=r[0],a=r[1]?"appear":"enter";e.addClass(i,a,"active"),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=e.resolveArguments(t,n),i=r[0],a=r[1]?"appear":"enter";e.removeClasses(i,a),e.addClass(i,a,"done"),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"appear"),e.removeClasses(n,"enter"),e.addClass(n,"exit","base"),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.resolveArguments(t)[0];e.addClass(n,"exit","active"),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"exit"),e.addClass(n,"exit","done"),e.props.onExited&&e.props.onExited(t)},e.resolveArguments=function(t,n){return e.props.nodeRef?[e.props.nodeRef.current,t]:[t,n]},e.getClassNames=function(t){var n=e.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+t:n[t];return{baseClassName:i,activeClassName:r?i+"-active":n[t+"Active"],doneClassName:r?i+"-done":n[t+"Done"]}},e}Lb(n,t);var r=n.prototype;return r.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},r.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,a=n.done;this.appliedClasses[t]={},r&&Gb(e,r),i&&Gb(e,i),a&&Gb(e,a)},r.render=function(){var t=this.props,n=(t.classNames,Db(t,["classNames"]));return e.createElement(Kb,o({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(e.Component);Qb.defaultProps={classNames:""},Qb.propTypes={};var $b,Yb=Qb,Xb={menu:"Menu_menu__dQfT5",wrapper:"Menu_wrapper__ViHYe",active:"Menu_active__oo7OP",menuAddBtn:"Menu_menuAddBtn__w6J91",addBtnEnterActive:"Menu_addBtnEnterActive__hHQLV",addBtnEnterDone:"Menu_addBtnEnterDone__4R+5f"},Jb="Form_form__dAvjS",Zb="Form_dialogWrapper__c5FWp",ew="Form_dialog__a-ZyQ",tw="Form_dialogType__4CHuW",nw="Form_addFormEnterActive__1Ytp8",rw="Form_addFormExitActive__T+iET",iw=Qp(ab,"transactions"),aw=Qp(ab,"categories"),ow=Qp(ab,"accounts"),uw=function(){var e=me(ke().mark((function e(t){var n,r,i,a,o,u,s,c,l;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!t){e.next=17;break}return r=Lv(iw,jv("userId","==",t)),i=Lv(aw,jv("userId","==",t)),a=Lv(ow,jv("userId","==",t)),e.next=7,Wv(r);case 7:return o=e.sent,e.next=10,Wv(i);case 10:return u=e.sent,e.next=13,Wv(a);case 13:s=e.sent,c=u.docs.map((function(e){return xt(xt({},e.data()),{},{id:e.id})})),l=s.docs.map((function(e){return xt(xt({},e.data()),{},{id:e.id})})),n=o.docs.map((function(e){return(n=xt({id:e.id},e.data())).category=c.find((function(e){return e.id===n.categoryId})),n.account=l.find((function(e){return e.id===n.accountId})),n}));case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sw=function(){var e=me(ke().mark((function e(t){var n,r,i,a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sum,r=t.expense,i=t.date,a=t.categoryId,o=t.accountId,u=t.userId,s={sum:n,expense:r,date:i,categoryId:a,accountId:o,userId:u},e.next=4,Qv(iw,s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cw=function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$p(iw,t),e.next=3,Gv(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lw=Zt({name:"searchTerm",initialState:"",reducers:{setSearchTerm:function(e,t){return t.payload},clearSearchTerm:function(){return""}}}),fw=function(e){return e.searchTerm},hw=lw.actions,dw=hw.setSearchTerm,pw=hw.clearSearchTerm,vw=lw.reducer;function yw(e){return new Date(e).toLocaleString("en-EN",{weekday:"long"})}function mw(e){return new Date(e).toLocaleString("en-EN",{month:"long",year:"numeric"})}function gw(e){return new Date(e).toLocaleString("en-EN",{month:"long"})}function kw(e){return new Date(e).toLocaleString("en-EN",{year:"numeric"})}var bw=an("transactions/loadData",function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uw(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ww=an("transactions/postData",function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sw(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),xw=an("transactions/deleteData",function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cw(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ew=Zt({name:"transactions",initialState:{allTransactions:[],newTransaction:{sum:"",date:(new Date).toISOString().slice(0,-14),expense:!0},isLoading:!1,hasError:!1,currentMonth:gw(new Date),currentYear:kw(new Date),isButtonClick:!1,isButtonShow:!1},reducers:{setUserInput:function(e,t){var n=t.payload,r=n.name,i=n.value;return"expense"===r&&(i=!e.newTransaction.expense),"sum"===r&&(i=0===+i?"":+i),xt(xt({},e),{},{newTransaction:xt(xt({},e.newTransaction),{},ve({},r,i))})},setCategory:function(e,t){return xt(xt({},e),{},{newTransaction:xt(xt({},e.newTransaction),{},{categoryId:t.payload})})},setAccount:function(e,t){return xt(xt({},e),{},{newTransaction:xt(xt({},e.newTransaction),{},{accountId:t.payload})})},resetState:function(e){return xt(xt({},e),{},{newTransaction:{sum:"",date:(new Date).toISOString().slice(0,-14),expense:!0}})},updateMonth:function(e,t){return xt(xt({},e),{},{currentMonth:t.payload})},updateYear:function(e,t){return xt(xt({},e),{},{currentYear:t.payload})},showButton:function(e){return xt(xt({},e),{},{isButtonShow:!e.isButtonShow})},clickButton:function(e){return xt(xt({},e),{},{isButtonClick:!e.isButtonClick})}},extraReducers:($b={},ve($b,bw.pending,(function(e){e.isLoading=!0,e.hasError=!1})),ve($b,bw.fulfilled,(function(e,t){e.allTransactions=t.payload,e.newTransaction=xt({},e.newTransaction),e.isLoading=!1,e.hasError=!1,e.showDelete=!1})),ve($b,bw.rejected,(function(e){e.isLoading=!1,e.hasError=!0})),$b)}),_w=function(e){return e.transactions.allTransactions},Sw=function(e){return e.transactions.newTransaction},Tw=function(e){return e.transactions.isLoading},Iw=function(e){return e.transactions.currentMonth},Cw=function(e){return e.transactions.currentYear},Nw=function(e){return e.transactions.isButtonClick},Aw=function(e){return e.transactions.isButtonShow},Ow=function(e){var t=_w(e),n=fw(e);return t.filter((function(e){return e.category.title.toLowerCase().includes(n.toLowerCase())})).sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()}))},Pw=function(e){return function(e){var t=e.filter((function(e){return!1===e.expense})).map((function(e){return e.sum})).reduce((function(e,t){return e+t}),0),n=e.filter((function(e){return!0===e.expense})).map((function(e){return e.sum})).reduce((function(e,t){return e+t}),0);return t-n}(_w(e))},Rw=Ew.actions,Dw=Rw.setUserInput,Lw=Rw.setCategory,Mw=Rw.setAccount,jw=(Rw.setTransactionId,Rw.addTransaction,Rw.resetState),Fw=Rw.updateMonth,Uw=Rw.updateYear,Vw=Rw.clickButton,Bw=Rw.showButton,zw=Ew.reducer,qw={Input:"Input_Input__Q-q+a",InputType:"Input_InputType__JfNID",InputTypeCheckbox:"Input_InputTypeCheckbox__rqtbj"},Ww=n(184);function Hw(e){var t=e.valid,n=e.touched,r=e.shouldValidate;return!t&&r&&n}var Kw=function(e){var t=e.type||"text",n=[qw.Input],r="".concat(t,"-").concat(Math.random());return"checkbox"===t?n.push(qw.InputTypeCheckbox):n.push(qw.InputType),Hw(e)&&n.push(qw.invalid),(0,Ww.jsxs)("div",{className:n.join(" "),children:[(0,Ww.jsx)("input",{type:t,name:e.name,placeholder:e.placeholder,id:r,value:e.value,onChange:e.onChange}),(0,Ww.jsx)("label",{htmlFor:r,children:e.label}),Hw(e)?(0,Ww.jsx)("span",{children:e.errorMessage||"Enter correct value"}):null]})},Gw="Select_Select__Ry5zV";function Qw(e){var t=e.valid,n=e.touched,r=e.shouldValidate;return!t&&r&&n}var $w=function(e){var t=[Gw];return(0,Ww.jsx)("div",{className:t,children:(0,Ww.jsxs)("select",{onChange:e.onChange,children:[(0,Ww.jsx)("option",{value:"",hidden:!0,children:e.defaultOption}),e.options.sort((function(e,t){return t.title.toLowerCase()>e.title.toLowerCase()?-1:1})).map((function(e){return(0,Ww.jsx)("option",{value:e.title,children:e.title},e.id)})),Qw(e)?(0,Ww.jsx)("span",{children:e.errorMessage||"Enter correct value"}):null]})})},Yw={Button:"Button_Button__mgUHm"},Xw=function(e){var t=[Yw.Button,Yw[e.type]].join(" ");return(0,Ww.jsx)("button",{onClick:e.onClick,className:t,disabled:e.disabled,children:e.children})};function Jw(e,t){return xt(xt({},e),{},{validation:t,valid:!t,touched:!1,value:""})}function Zw(e){var t=!0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t=e[n].valid&&t);return t}function ex(e,t,n){var r=xt({},n),i=xt({},r[e]);return i.touched=!0,i.value=t,i.valid=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),n}(i.value,i.validation),r[e]=i,r}function tx(){return{sum:Jw({errorMessage:"Please fill out this field"},{required:!0}),date:Jw({errorMessage:"Choose a date please"},{required:!0}),category:Jw({errorMessage:"Choose a category please"},{required:!0}),account:Jw({errorMessage:"Choose an account please"},{required:!0})}}var nx=function(t){var n=t.categories,r=t.accounts,i=t.onClickAddBtn,o=he(Xv),u=he(Sw),s=u.sum,c=u.date,l=se(),f=a((0,e.useState)({isFormValid:!1,formControls:tx()}),2),h=f[0],d=f[1];(0,e.useEffect)((function(){var e=ex("date",c,h.formControls);d(xt(xt({},h),{},{formControls:e}))}),[]);var p=function(e,t){var n=ex(t,e,h.formControls);d({formControls:n,isFormValid:Zw(n)}),l(Dw({name:t,value:e}))},v=function(e){return function(t){var i=function(e,t){var n;return e.map((function(e){return e.title===t&&(n=e.id),n})),n};if("account"===e){var a=ex(e,t.target.value,h.formControls);d({formControls:a,isFormValid:Zw(a)});var o=i(r,t.target.value);l(Mw(o))}if("category"===e){var u=ex(e,t.target.value,h.formControls);d({formControls:u,isFormValid:Zw(u)});var s=i(n,t.target.value);l(Lw(s))}}},y=e.useRef(null);return(0,Ww.jsx)("section",{className:Jb,children:(0,Ww.jsx)("div",{className:Zb,children:(0,Ww.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:(0,Ww.jsx)(Yb,{in:i,timeout:300,classNames:{enterActive:"".concat(nw),exitActive:"".concat(rw)},unmountOnExit:!0,nodeRef:y,children:(0,Ww.jsxs)("div",{className:ew,ref:y,children:[(0,Ww.jsx)(Kw,{type:"number",name:"sum",placeholder:"0.00",value:s,valid:h.formControls.sum.valid,shouldValidate:!!h.formControls.sum.validation,touched:h.formControls.sum.touched,errorMessage:h.formControls.sum.errorMessage,onChange:function(e){return p(e.target.value,e.target.name)}}),(0,Ww.jsx)($w,{options:n,defaultOption:"Choose a category",onChange:v("category"),valid:h.formControls.category.valid,shouldValidate:!!h.formControls.category.validation,touched:h.formControls.category.touched,errorMessage:h.formControls.category.errorMessage}),(0,Ww.jsx)($w,{options:r,defaultOption:"Choose an account",onChange:v("account"),valid:h.formControls.account.valid,shouldValidate:!!h.formControls.account.validation,touched:h.formControls.account.touched,errorMessage:h.formControls.account.errorMessage}),(0,Ww.jsx)(Kw,{type:"date",name:"date",value:c,valid:h.formControls.date.valid,shouldValidate:!!h.formControls.date.validation,touched:h.formControls.date.touched,errorMessage:h.formControls.date.errorMessage,onChange:function(e){return p(e.target.value,e.target.name)}}),(0,Ww.jsx)("div",{className:tw,children:(0,Ww.jsx)(Kw,{label:"Income",type:"checkbox",name:"expense",onChange:function(e){return p(e.target.value,e.target.name)}})}),(0,Ww.jsx)(Xw,{type:"submit",onClick:function(){l(ww(xt(xt({},u),{},{userId:o}))),l(jw()),l(Vw()),l(bw(o));var e=tx();e=ex("date",c,e),d({formControls:e,isFormValid:!1})},disabled:!h.isFormValid,children:"Create"})]})})})})})};var rx=function(){var t=he(yb),n=he(Nb),r=bn(t),i=bn(n),a=se(),o=he(Nw),u=he(Aw),s=[Xb.menuAddBtn,"fa",o?"fa-times":"fa-plus"].join(" "),c=function(e){return e.isActive?"".concat(Xb.active):""},l=e.useRef(null);return(0,Ww.jsxs)(Ww.Fragment,{children:[(0,Ww.jsx)(nx,{categories:r,accounts:i,onClickAddBtn:o}),(0,Ww.jsx)("nav",{className:Xb.menu,children:(0,Ww.jsxs)("div",{className:Xb.wrapper,children:[u&&(0,Ww.jsx)(Yb,{in:o,timeout:300,classNames:{enterActive:"".concat(Xb.addBtnEnterActive),enterDone:"".concat(Xb.addBtnEnterDone)},nodeRef:l,children:(0,Ww.jsx)("i",{className:s,onClick:function(){a(Vw()),o&&a(jw())},ref:l})}),(0,Ww.jsx)(Y,{to:"/",className:c,children:"Transactions"}),(0,Ww.jsx)(Y,{to:"/statistics",className:c,children:"Statistics"}),(0,Ww.jsx)(Y,{to:"/settings",className:c,children:"Settings"})]})})]})},ix="Auth_Main__BDqAo",ax="Auth_Header__+dh2k",ox="Auth_Fields__G5Vvp",ux="Auth_Button__KfO9j";var sx=function(){var t=a((0,e.useState)(!1),2),n=t[0],r=t[1],i=nb(),o=(0,e.useRef)(),u=(0,e.useRef)(),s=function(){var e=me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,Zk(o.current.value,u.current.value);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert("Email already in use!");case 9:r(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,eb(o.current.value,u.current.value);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert("Wrong email or password");case 9:r(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=me(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,tb();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert("Error!");case 9:r(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return(0,Ww.jsxs)("section",{className:ix,children:[i&&(0,Ww.jsx)("p",{className:ax,children:null===i||void 0===i?void 0:i.email}),!i&&(0,Ww.jsxs)("div",{className:ox,children:[(0,Ww.jsx)("input",{ref:o,placeholder:"Email"}),(0,Ww.jsx)("input",{ref:u,type:"password",placeholder:"Password"})]}),!i&&(0,Ww.jsx)("button",{className:ux,disabled:n||i,onClick:s,children:"Sing Up"}),!i&&(0,Ww.jsx)("button",{className:ux,disabled:n||i,onClick:c,children:"Log In"}),i&&(0,Ww.jsx)(Y,{to:"/",className:ux,disabled:n||!i,onClick:l,children:"Log Out"})]})};var cx=function(t){var n=he(Xv),r=se();return(0,e.useEffect)((function(){r(fb(n)),r(_b(n))}),[n]),(0,Ww.jsx)("div",{className:de,children:(0,Ww.jsxs)("main",{className:pe,children:[(0,Ww.jsx)(sx,{}),t.children,n?(0,Ww.jsx)(rx,{}):null]})})};function lx(){var t=T().pathname,n=se(),r=he(Nw);return(0,e.useEffect)((function(){window.scrollTo(0,0),r&&n(Vw())}),[t]),null}var fx="Container_Container__O03dh",hx="CloseButton_CloseBtn__XtoKc",dx=function(e){var t=e.onClick;return(0,Ww.jsx)("span",{className:hx,onClick:t})},px="Search_Search__pecye",vx="Search_CloseBtn__BTAWc";var yx=function(){var e=he(fw),t=se();return(0,Ww.jsxs)("section",{className:px,children:[(0,Ww.jsx)("input",{type:"text",name:"search",placeholder:"Search by category",value:e,onChange:function(e){var n=e.target.value;t(dw(n))}}),e.length>0?(0,Ww.jsx)("div",{className:vx,children:(0,Ww.jsx)(dx,{onClick:function(){t(pw())}})}):null]})},mx="Balance_Balance__eUtaI",gx="Balance_BalanceScroll__w4e8O",kx="Balance_BalanceContainer__QK1oZ",bx="Balance_BalanceContainerScroll__-T5Yz",wx="Balance_BalanceAmount__3HoHD";var xx=function(){var t=he(Pw),n=he(Ob)+t,r=a((0,e.useState)(kx),2),i=r[0],o=r[1],u=a((0,e.useState)(mx),2),s=u[0],c=u[1],l=function(){window.scrollY<60?(o(kx),c(mx)):window.scrollY>60&&(o(bx),c(gx))};return(0,e.useEffect)((function(){return window.addEventListener("scroll",l),function(){return window.removeEventListener("scroll",l)}}),[]),(0,Ww.jsx)("section",{className:s,children:(0,Ww.jsx)("div",{className:"".concat(i),children:(0,Ww.jsxs)("div",{children:[(0,Ww.jsx)("p",{children:"Your balance:"}),(0,Ww.jsxs)("p",{className:wx,children:[n.toFixed(2)," \u20ac"]})]})})})};function Ex(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function _x(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Sx(t,n,r){var i=Ex(t.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,e.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,e.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,e.isValidElement)(l)&&(a[o]=(0,e.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:_x(u,"exit",t),enter:_x(u,"enter",t)})):a[o]=(0,e.cloneElement)(u,{in:!1}):a[o]=(0,e.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:_x(u,"exit",t),enter:_x(u,"enter",t)})}})),a}var Tx=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Ix=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(yn(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Lb(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=t,i=o,Ex(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:_x(t,"appear",r),enter:_x(t,"enter",r),exit:_x(t,"exit",r)})}))):Sx(t,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=Ex(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=o({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=Db(t,["component","childFactory"]),a=this.state.contextValue,o=Tx(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(Fb.Provider,{value:a},o):e.createElement(Fb.Provider,{value:a},e.createElement(n,i,o))},n}(e.Component);Ix.propTypes={},Ix.defaultProps={component:"div",childFactory:function(e){return e}};var Cx=Ix,Nx="Container_TransactionsMonth__dbxh4",Ax="Container_TransactionsHeader__iyZnb",Ox="Container_TransactionsDateContent__BfDet",Px="Container_TransactionsDateWrapper__CSqR8",Rx="Container_TransactionsItem__zQkZ1",Dx="Container_TransactionsItemAccount__ooglp",Lx="Container_TransactionsItemEdit__ly1EH",Mx="Container_TransactionsItemWrapper__IzuuT",jx="Container_TransactionsHidden__wfWTC",Fx="Container_enter__-XXEt",Ux="Container_enterActive__eQgeu",Vx="Container_exit__dHxh9",Bx="Container_exitActive__fa9AK",zx="Container_exitDone__yS2Oh";function qx(e,t){if(null==e)return{};var n,r,i=Db(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Wx=["categoryTitle","accountTitle","expense","sum","id"];var Hx=function(t){var n=t.categoryTitle,r=t.accountTitle,i=t.expense,o=t.sum,u=t.id,s=qx(t,Wx),c=se(),l=he(Xv),f=a((0,e.useState)(!1),2),h=f[0],d=f[1],p=function(){d(!h)},v=e.useRef(null);return(0,Ww.jsx)(Yb,xt(xt({},s),{},{classNames:{enter:"".concat(Fx),enterActive:"".concat(Ux),exit:"".concat(Vx),exitActive:"".concat(Bx),exitDone:"".concat(zx)},timeout:300,nodeRef:v,children:(0,Ww.jsxs)("li",{className:Rx,onMouseOver:p,onMouseOut:p,ref:v,children:[(0,Ww.jsxs)("div",{className:Mx,children:[(0,Ww.jsx)("p",{children:n}),(0,Ww.jsxs)("p",{children:[i?"-":"+",o," \u20ac"]})]}),(0,Ww.jsxs)("div",{className:Mx,children:[(0,Ww.jsx)("p",{className:Dx,children:r}),(0,Ww.jsx)("p",{className:"".concat(Lx," ").concat(h?"":jx),id:u,onClick:function(e){var t=e.target.id;window.confirm("Are you sure?")&&(c(xw(t)),c(bw(l)))},children:"delete"})]})]})}))};var Kx=function(e){var t=e.date,n=e.transactions.filter((function(e){return e.date===t}));return(0,Ww.jsx)(Cx,{component:"ul",children:n.map((function(e){return(0,Ww.jsx)(Hx,{categoryTitle:e.category.title,accountTitle:e.account.title,expense:e.expense,sum:e.sum,id:e.id},e.id)}))})};var Gx=function(e){var t,n=e.date,r=e.transactions.filter((function(e){return e.date===n})),i=r.filter((function(e){return!0===e.expense})).map((function(e){return e.sum})).reduce((function(e,t){return e+t}),0),a=r.filter((function(e){return!1===e.expense})).map((function(e){return e.sum})).reduce((function(e,t){return e+t}),0),o=Math.round(100*(a-i))/100;return(0,Ww.jsxs)("div",{className:Ax,children:[(0,Ww.jsxs)("div",{className:Ox,children:[(0,Ww.jsx)("p",{children:(t=n,new Date(t).toLocaleString("en-EN",{day:"2-digit"}))}),(0,Ww.jsxs)("div",{className:Px,children:[(0,Ww.jsx)("p",{children:yw(n)}),(0,Ww.jsx)("p",{children:mw(n)})]})]}),(0,Ww.jsxs)("p",{children:[o<0?"":"+",o," \u20ac"]})]})},Qx=["date"];var $x=function(t){var n=t.date,r=qx(t,Qx),i=he(Ow),a=e.useRef(null);return(0,e.createElement)(Yb,xt(xt({},r),{},{classNames:{enter:"".concat(Fx),enterActive:"".concat(Ux),exit:"".concat(Vx),exitActive:"".concat(Bx),exitDone:"".concat(zx)},timeout:300,key:n,nodeRef:a}),(0,Ww.jsxs)("li",{ref:a,children:[(0,Ww.jsx)(Gx,{date:n,transactions:i}),(0,Ww.jsx)(Kx,{date:n,transactions:i})]}))};var Yx=function(t){var n=t.month,r=he(Ow).filter((function(e){return gw(e.date)===n})).map((function(e){return e.date})),i=e.useRef(null);return(0,Ww.jsxs)("ul",{className:"transactions__list",children:[(0,Ww.jsx)("p",{className:Nx,ref:i,children:n}),(0,Ww.jsx)(Cx,{children:r.map((function(e){return(0,Ww.jsx)($x,{date:e},e)}))})]})};var Xx=function(){var e=he(Ow),t=bn(new Set(e.map((function(e){return gw(e.date)}))));return(0,Ww.jsx)("section",{className:"transactions",children:t.map((function(e){return(0,Ww.jsx)(Yx,{month:e},e)}))})},Jx="Loader_Loader__foPMS",Zx="Loader_center__aJL2K",eE=function(){return(0,Ww.jsx)("div",{className:Zx,children:(0,Ww.jsxs)("div",{className:Jx,children:[(0,Ww.jsx)("div",{}),(0,Ww.jsx)("div",{}),(0,Ww.jsx)("div",{}),(0,Ww.jsx)("div",{})]})})},tE="Welcome_Welcome__HxBzN";var nE=function(){return(0,Ww.jsx)("section",{className:tE,children:(0,Ww.jsxs)("div",{children:[(0,Ww.jsxs)("p",{children:["Please ",(0,Ww.jsx)("b",{children:"login"})," or ",(0,Ww.jsx)("b",{children:"sing up"})]}),(0,Ww.jsx)("p",{children:"You can try a demo account"}),(0,Ww.jsxs)("p",{children:["Use ",(0,Ww.jsx)("b",{children:"demo@demo.com"})," as email and password for login"]})]})})};var rE,iE=function(){var t=he(Tw),n=he(Xv),r=se(),i=t&&n;return(0,e.useEffect)((function(){return r(Bw()),r(bw(n)),function(){r(Bw())}}),[r,n]),(0,Ww.jsxs)(Ww.Fragment,{children:[i?(0,Ww.jsx)(eE,{}):null,!i&&n?(0,Ww.jsxs)("section",{className:fx,children:[(0,Ww.jsx)(xx,{}),(0,Ww.jsx)(yx,{}),(0,Ww.jsx)(Xx,{})]}):null,n?null:(0,Ww.jsx)(nE,{})]})},aE=Qp(ab,"budgets"),oE=function(){var e=me(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!t){e.next=6;break}return e.next=4,Wv(aE);case 4:r=e.sent,n=r.docs.filter((function(e){return e.id===t})).map((function(e){return e.data()})).find((function(e){return e}));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),uE=function(){var e=me(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=$p(ab,"budgets",t),i=xt({},n),Hv(r,i,{merge:!0});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),sE=function(e,t,n,r){if(0!==Object.keys(e[r][n][t]).length){var i=t[0].toUpperCase()+t.slice(1),a=e[r][n][t][i],o=Object.values(e[r][n][t]).reduce((function(e,t){return+e+ +t}));return Math.abs((a||0)-o)}},cE=an("budgets/loadData",function(){var e=me(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oE(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),lE=an("budgets/addData",function(){var e=me(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.updatedBudget,r=t.userId,e.next=3,uE(r,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),fE=Zt({name:"budget",initialState:{budget:{},budgetUpdated:{},isLoading:!0},reducers:{updateBudget:function(e,t){var n=t.payload.type,r=t.payload.id,i=n[0].toUpperCase()+n.slice(1),a=+t.payload.value,o=t.payload.month,u=t.payload.year,s=t.payload.updatedBudget,c={};if(!s){c[u]=ve({},o,{expenses:{},incomes:{}});var l=xt({},c[u]),f=xt({},l[o]),h=xt({},(f=ve({},n,{}))[n]);h[r]=a,f[n]=h,l[o]=xt(xt({},c[u][o]),f),c[u]=xt({},l);var d=sE(c,n,o,u).toFixed(2);h[i]=d,f[n]=h,l[o]=xt(xt({},c[u][o]),f)}if(s&&(!s[u]||!s[u][o])){c[u]=ve({},o,{expenses:{},incomes:{}});var p=xt({},c[u]),v=xt({},p[o]),y=xt({},(v=ve({},n,{}))[n]);y[r]=a,v[n]=y,p[o]=xt(xt({},c[u][o]),v),c[u]=xt(xt({},s[u]),p),c=xt(xt({},s),c);var m=sE(c,n,o,u).toFixed(2);y[i]=m,v[n]=y,p[o]=xt(xt({},c[u][o]),v),c[u]=xt(xt({},s[u]),p),c=xt(xt({},s),c)}if(s&&s[u]&&s[u][o]){var g=(c=xt({},JSON.parse(JSON.stringify(s))))[u],k=xt({},g[o]),b=xt({},(k=ve({},n,{}))[n]);b[r]=a,k[n]=xt(xt({},s[u][o][n]),b),g[o]=xt(xt({},s[u][o]),k),c[u]=xt(xt({},s[o]),g);var w=sE(c,n,o,u).toFixed(2);b[i]=w,k[n]=xt(xt({},s[u][o][n]),b),g[o]=xt(xt({},s[u][o]),k),c[u]=xt(xt({},s[o]),g)}return xt(xt({},e),{},{budgetUpdated:xt({},c)})}},extraReducers:(rE={},ve(rE,cE.pending,(function(e){e.isLoading=!0})),ve(rE,cE.fulfilled,(function(e,t){e.budget=t.payload,e.budgetUpdated=t.payload,e.isLoading=!1})),ve(rE,cE.rejected,(function(e){e.isLoading=!1})),rE)}),hE=function(e){return e.budget.budget},dE=function(e){return e.budget.budgetUpdated},pE=function(e){return e.budget.isLoading},vE=fE.actions.updateBudget,yE=fE.reducer,mE="Container_Container__FvZDb",gE="MonthBalance_MonthBalance__eowX7",kE="MonthBalance_List__ROgo7",bE="MonthBalance_Wrapper__pT4n0",wE="MonthBalance_Balance__SHeN4";var xE=function(e){var t=e.currentYear,n=e.currentMonth,r=e.transactions.filter((function(e){return kw(e.date)===t})).filter((function(e){return gw(e.date)===n})),i=r.map((function(e){return e=e.expense?+e.sum:null})).reduce((function(e,t){return e+t}),0).toFixed(2),a=r.map((function(e){return e=e.expense?null:+e.sum})).reduce((function(e,t){return e+t}),0).toFixed(2);return(0,Ww.jsxs)("section",{className:gE,children:[(0,Ww.jsx)("h2",{children:n}),(0,Ww.jsxs)("ul",{className:kE,children:[(0,Ww.jsxs)("li",{className:bE,children:[(0,Ww.jsx)("p",{children:"incomes:"}),(0,Ww.jsxs)("p",{className:wE,children:["+",a," \u20ac"]})]}),(0,Ww.jsxs)("li",{className:bE,children:[(0,Ww.jsx)("p",{children:"expenses:"}),(0,Ww.jsxs)("p",{className:wE,children:["-",i," \u20ac"]})]})]})]})},EE="Indicator_IndicatorWrapper__MkAgR",_E="Indicator_IndicatorTotal__X0yqZ",SE="Indicator_IndicatorExpenses__MjD-G",TE="Indicator_IndicatorIncomes__Cc+0b",IE="Indicator_TotalExpenses__M7nf5",CE="Indicator_TotalTitle__b6xss",NE="Indicator_TotalSumWrapper__uUdXz",AE="Indicator_TotalSumAverage__EkLyB",OE="Indicator_TotalSum__QjZaL",PE="Indicator_Balance__RCe5M",RE="Indicator_CategoryTitle__iD9AK";var DE=function(e){var t=e.excessPercent,n=e.balanceOfCurrent,r=e.totalPercent,i=e.transactionsSum,a=e.type,o=e.title;return(0,Ww.jsx)(Ww.Fragment,{children:(0,Ww.jsxs)("div",{className:EE,children:[(0,Ww.jsx)("div",{className:IE,style:{width:"".concat(r,"%")}}),(0,Ww.jsx)("div",{className:_E,style:{width:"".concat(100-r,"%")}}),(0,Ww.jsx)("div",{className:"".concat("incomes"===a?TE:SE),style:{width:"".concat(t,"%")}}),(0,Ww.jsx)("p",{className:"Incomes"===o||"Expenses"===o?CE:RE,children:o}),(0,Ww.jsxs)("div",{className:NE,children:[(0,Ww.jsx)("p",{className:AE,children:n}),(0,Ww.jsxs)("p",{className:"Incomes"===o||"Expenses"===o?OE:PE,children:["incomes"===a?"+":"-",i,"\u20ac"]})]})]})})},LE="Item_MonthExpensesItem__JA6tF",ME="Item_DayIndicatorWrapper__389eG",jE="Item_DayIndicator__ZO1ya",FE="Item_DayIndicatorDate__zGL-f",UE="Item_Right__n5+BT",VE="Item_Left__t9FcF",BE="Item_List__XKmII",zE="Item_Wrapper__dQM9k",qE=function(e,t){return e.map((function(e){return e=("expenses"===t?e.expense:!e.expense)?+e.sum:null})).reduce((function(e,t){return e+t}),0).toFixed(2)},WE=function(e,t,n){return n.filter((function(t){return t.category.title===e})).map((function(e){return e=("incomes"===t?!e.expense:e.expense)?+e.sum:null})).reduce((function(e,t){return e+t}),0).toFixed(2)},HE=function(e){return(e/12).toFixed(2)},KE=function(e,t){return(e/HE(t)*100).toFixed(2)};var GE=function(e){var t=e.categories,n=e.excessPercent,r=e.excessCategoryPercent,i=e.totalPercent,a=e.totalCategoryPercent,o=e.balanceOfCurrent,u=e.balanceCategoryOfCurrent,s=e.categoryPercent,c=e.transactionsSum,l=e.type,f=e.title,h=e.monthTransactions,d=e.month,p=new Date((new Date).getFullYear(),(new Date).getMonth()+1,0).getDate(),v=(new Date).getDate(),y=gw(new Date),m=(v/p*100).toFixed(2),g=d===y;return(0,Ww.jsxs)("section",{className:LE,children:[g&&(0,Ww.jsx)("div",{className:ME,children:(0,Ww.jsx)("div",{className:jE,style:{left:"".concat(m,"%")},children:(0,Ww.jsxs)("p",{className:"".concat(FE," ").concat(v>15?VE:UE),children:["Today is  ",y," ",v,"th"]})})}),(0,Ww.jsx)(DE,{excessPercent:n,balanceOfCurrent:o,totalPercent:i,transactionsSum:c,type:l,title:f}),(0,Ww.jsx)("ul",{className:BE,children:t.map((function(e){return(0,Ww.jsx)("li",{className:zE,children:(0,Ww.jsx)(DE,{excessPercent:r(e,l),balanceOfCurrent:u(e,l),totalPercent:a(e,l),transactionsSum:WE(e,l,h),type:l,title:"".concat(s(WE(e,l,h),c),"%\n                  ").concat(e)})},e)}))})]})},QE="expenses",$E="incomes",YE=function(){function e(t,n,r,i,a,o,u,s){wn(this,e),this.transactions=t,this.allCategories=s,this.type=n,this.budget=r,this.monthTransactions=i,this.currentMonth=a,this.currentYear=o,this.category=this.type[0].toUpperCase()+this.type.slice(1),this.userId=u,this.isBudget=this.budget&&this.budget[o]&&this.budget[o][a],this.excessCategoryPercent=this.excessCategoryPercent.bind(this),this.balanceCategoryOfCurrent=this.balanceCategoryOfCurrent.bind(this),this.totalCategoryPercent=this.totalCategoryPercent.bind(this)}return En(e,[{key:"_getExcessPercent",value:function(e,t){var n=KE(e,t);return n>100?n-100:0}},{key:"_getExcessBudgetPercent",value:function(e,t){var n=e/t*100;return n>100?n-100:0}},{key:"_getTotalPercent",value:function(e,t){var n=KE(e,t),r=n>=100?100:n;return 0===r?1:r}},{key:"_categoryId",value:function(e,t){var n="incomes"===t;return this.allCategories.filter((function(e){return e.incomes===n})).filter((function(t){return t.title===e})).map((function(e){return e.id})).join()}},{key:"categories",value:function(e){var t=this,n=bn(new Set(this.monthTransactions.filter((function(t){return(e===QE?t.expense:!t.expense)?0!==t.sum:t=null})).map((function(e){return e.category.title})))).map((function(n){return t.monthTransactions.map((function(t){return t.category.title===n?t=("expenses"===e?t.expense:!t.expense)?ve({},n,+t.sum):null:null})).filter((function(e){return e||null})).reduce((function(e,t){return ve({},n,e[n]+t[n])}))})).sort((function(e,t){return Object.values(t)-Object.values(e)})).map((function(e){return Object.keys(e)})).flat();return n}},{key:"sum",value:function(){return qE(this.monthTransactions,this.type)}},{key:"averageSum",value:function(){return this.isBudget?this.budget[this.currentYear][this.currentMonth][this.type][this.category]:HE(qE(this.transactions,this.type))}},{key:"excessPercent",value:function(){return this.isBudget&&this.budget[this.currentYear][this.currentMonth][this.type][this.category]?this._getExcessBudgetPercent(qE(this.monthTransactions,this.type),this.averageSum()):this._getExcessPercent(qE(this.monthTransactions,this.type),qE(this.transactions,this.type))}},{key:"balanceOfCurrent",value:function(){var e=(this.averageSum()-qE(this.monthTransactions,this.type)).toFixed(2);if(this.isBudget)return e>0?"".concat(e,"\u20ac below ").concat(this.budget[this.currentYear][this.currentMonth][this.type][this.category]?"budget":"typical"):isNaN(e)?"":"0.00"===e?"equal to budget":"".concat(Math.abs(e),"\u20ac above ").concat(this.budget[this.currentYear][this.currentMonth][this.type][this.category]?"budget":"typical")}},{key:"totalPercent",value:function(){return this.isBudget&&this.budget[this.currentYear][this.currentMonth][this.type][this.category]?qE(this.monthTransactions,this.type)/this.averageSum()*100>=100?100:qE(this.monthTransactions,this.type)/this.averageSum()*100:this._getTotalPercent(qE(this.monthTransactions,this.type),qE(this.transactions,this.type))}},{key:"percentCategory",value:function(e,t){var n=(e/t*100).toFixed(2);return n>99.9?100:n}},{key:"excessCategoryPercent",value:function(e,t){var n=WE(e,t,this.transactions),r=WE(e,t,this.monthTransactions),i=this.isBudget&&this.budget[this.currentYear][this.currentMonth][this.type][this._categoryId(e,t)],a=i?r/i*100:KE(r,n);return a>100?a-100:0}},{key:"balanceCategoryOfCurrent",value:function(e,t){var n=WE(e,t,this.transactions),r=WE(e,t,this.monthTransactions),i=this.isBudget&&this.budget[this.currentYear][this.currentMonth][this.type][this._categoryId(e,t)],a=i?(i-r).toFixed(2):(n/12-r).toFixed(2);return a>0?"".concat(a,"\u20ac below ").concat(i?"budget":"typical"):"0.00"===a?"equal to budget":"".concat(Math.abs(a),"\u20ac above ").concat(i?"budget":"typical")}},{key:"totalCategoryPercent",value:function(e,t){var n=WE(e,t,this.transactions),r=WE(e,t,this.monthTransactions),i=this.isBudget&&this.budget[this.currentYear][this.currentMonth][this.type][this._categoryId(e,t)],a=i?r/i*100:KE(r,n),o=a>=100?100:a;return 0===o?0:o}}]),e}();var XE=function(e){var t=e.currentYear,n=e.currentMonth,r=e.transactions,i=e.budget,a=e.userId,o=e.allCategories,u=r.filter((function(e){return kw(e.date)===t})).filter((function(e){return gw(e.date)===n})),s=new YE(r,QE,i,u,n,t,a,o),c=new YE(r,$E,i,u,n,t,a,o);return(0,Ww.jsxs)(Ww.Fragment,{children:[(0,Ww.jsx)(GE,{categories:s.categories(QE),categoryPercent:s.percentCategory,excessCategoryPercent:s.excessCategoryPercent,balanceCategoryOfCurrent:s.balanceCategoryOfCurrent,totalCategoryPercent:s.totalCategoryPercent,excessPercent:s.excessPercent(),balanceOfCurrent:s.balanceOfCurrent(),totalPercent:s.totalPercent(),transactionsSum:s.sum(),monthTransactions:u,type:QE,title:"Expenses",month:n}),(0,Ww.jsx)(GE,{categories:c.categories($E),categoryPercent:c.percentCategory,excessCategoryPercent:c.excessCategoryPercent,balanceCategoryOfCurrent:c.balanceCategoryOfCurrent,totalCategoryPercent:c.totalCategoryPercent,excessPercent:c.excessPercent(),balanceOfCurrent:c.balanceOfCurrent(),totalPercent:c.totalPercent(),transactionsSum:c.sum(),monthTransactions:u,type:$E,title:"Incomes",month:n})]})},JE="YearExpenses_YearExpenses__6PooL",ZE="YearExpenses_Wrapper__AQ07E",e_="YearExpenses_ListWrapper__VJL11",t_="YearExpenses_List__mruqn",n_="YearExpenses_Active__iYrmI",r_="YearExpenses_LeftBtn__czWwW",i_="YearExpenses_RightBtn__w4G5H",a_="Indicator_Incomes__GIEMG",o_="Indicator_Expenses__03gm5";var u_=function(e){var t=e.year,n=e.month,r=e.getPercent,i=e.type,a=[];return"expenses"===i?a.push(o_):a.push(a_),(0,Ww.jsx)("div",{className:a.join(" "),id:n,style:{height:"".concat(r(t,n,i),"%")}})},s_=["January","February","March","April","May","June","July","August","September","October","November","December"],c_=function(e,t,n){var r=bn(new Set(n.filter((function(t){return kw(t.date)===e})).map((function(e){return gw(e.date)}))));return Math.max.apply(Math,bn(r.map((function(e){return n.map((function(n){return gw(n.date)===e?n=("expenses"===t?n.expense:!n.expense)?+n.sum:null:null})).reduce((function(e,t){return e+t}),0)}))))};var l_=function(e){var t=e.currentYear,n=e.currentMonth,r=e.transactions,i=se(),a=c_(t,"expenses",r),o=c_(t,"income",r),u=Math.max(a,o),s=function(e,t,n){var i=r.filter((function(t){return kw(t.date)===e})).filter((function(e){return gw(e.date)===t})).map((function(e){return e=("expenses"===n?e.expense:!e.expense)?+e.sum:null})).reduce((function(e,t){return e+t}),0)/u*100;return i},c=function(e){var t=e.target;i(Fw(t.id))},l=function(e){var n=e.target.id,r=+t;"prev"===n?--r:++r,i(Uw(String(r)))};return(0,Ww.jsx)(Ww.Fragment,{children:(0,Ww.jsxs)("section",{className:JE,children:[(0,Ww.jsx)("button",{id:"prev",className:r_,onClick:l}),(0,Ww.jsx)("h4",{children:t}),(0,Ww.jsx)("div",{className:ZE,children:s_.map((function(e){return(0,Ww.jsxs)("div",{className:e_,onClick:c,id:e,children:[(0,Ww.jsxs)("div",{className:"".concat(t_," ").concat(e===n?n_:""),id:e,children:[(0,Ww.jsx)(u_,{year:t,month:e,getPercent:s,type:"incomes"}),(0,Ww.jsx)(u_,{year:t,month:e,getPercent:s,type:"expenses"})]}),(0,Ww.jsx)("p",{id:e,children:e.slice(0,3)})]},e)}))}),(0,Ww.jsx)("button",{id:"next",className:i_,onClick:l})]})})},f_="Budget_BudgetWrapper__fsuus",h_="Budget_HeaderWrapper__LJMx-",d_="Budget_Header__sN3HE",p_="Budget_Content__w22u3",v_="Budget_Button__BNsOE",y_="Item_Block__WZ0Jv",m_="Item_Description__SsIHI",g_="Item_Title__SzrmL",k_="Item_SubTitle__o6xdU",b_="Item_Input__Vzuir",w_="Item_InputDisabled__TehVY";var x_=function(e){var t=e.title,n=e.value,r=e.onChange,i=e.id,a=e.dataType,o="Expenses"===t||"Incomes"===t;return(0,Ww.jsxs)("div",{className:y_,children:[(0,Ww.jsx)("p",{className:o?g_:k_,children:t}),o?(0,Ww.jsx)("p",{className:m_,children:"Plan"}):"",(0,Ww.jsx)("input",{className:o?w_:b_,type:"number",id:i,name:t,placeholder:"0.00",value:n,onChange:r,"data-type":a})]})};var E_=function(e){var t=e.currentYear,n=e.currentMonth,r=e.budget,i=e.userId,a=e.updatedBudget,o=se(),u=he(yb),s=JSON.stringify(r)===JSON.stringify(a),c=function(e){var r=e.target,s=r.id,c=r.getAttribute("data-type"),l=r.name,f=r.value;o(vE({id:s,type:c,name:l,value:f,year:t,month:n,userId:i,updatedBudget:a,categories:u}))},l=a&&a[t]&&a[t][n]||"";return(0,Ww.jsxs)("section",{className:f_,children:[(0,Ww.jsxs)("div",{className:h_,children:[(0,Ww.jsx)("p",{className:d_,children:"Budget"}),(0,Ww.jsx)("button",{className:v_,type:"submit",onClick:function(){o(lE({updatedBudget:a,userId:i})),o(cE(i)),o(bw(i))},disabled:s,children:"Update"})]}),(0,Ww.jsxs)("div",{className:p_,children:[(0,Ww.jsx)(x_,{title:"Expenses",dataType:"expenses",value:l&&(a[t][n].expenses.Expenses||""),onChange:c}),u.filter((function(e){return!e.incomes})).map((function(e){return l&&a[t][n].expenses[e.id]?xt(xt({},e),{},{sum:a[t][n].expenses[e.id]}):xt(xt({},e),{},{sum:0})})).sort((function(e,t){return t.sum-e.sum})).map((function(e){return(0,Ww.jsx)(x_,{title:e.title,dataType:"expenses",id:e.id,value:l&&(a[t][n].expenses[e.id]||""),onChange:c},e.id)}))]}),(0,Ww.jsxs)("div",{className:p_,children:[(0,Ww.jsx)(x_,{title:"Incomes",dataType:"incomes",value:l&&(a[t][n].incomes.Incomes||""),onChange:c}),u.filter((function(e){return e.incomes})).map((function(e){return l&&a[t][n].incomes[e.id]?xt(xt({},e),{},{sum:a[t][n].incomes[e.id]}):xt(xt({},e),{},{sum:0})})).sort((function(e,t){return t.sum-e.sum})).map((function(e){return(0,Ww.jsx)(x_,{title:e.title,id:e.id,dataType:"incomes",value:l&&(a[t][n].incomes[e.id]||""),onChange:c},e.id)}))]})]})};var __=function(){var t=he(_w),n=he(yb),r=he(Iw),i=he(Cw),a=he(hE),o=he(dE),u=he(Xv),s=a&&0!==Object.keys(a).length&&a,c=o&&0!==Object.keys(o).length&&o,l=he(pE),f=se(),h=l&&u;return(0,e.useEffect)((function(){f(cE(u)),f(bw(u))}),[u]),(0,Ww.jsxs)("section",{className:mE,children:[h?(0,Ww.jsx)(eE,{}):null,h?null:(0,Ww.jsxs)(Ww.Fragment,{children:[(0,Ww.jsx)(xE,{currentYear:i,currentMonth:r,transactions:t}),(0,Ww.jsx)(l_,{currentYear:i,currentMonth:r,transactions:t}),(0,Ww.jsx)(XE,{currentYear:i,currentMonth:r,transactions:t,budget:s,userId:u,allCategories:n}),(0,Ww.jsx)(E_,{currentYear:i,currentMonth:r,budget:s,updatedBudget:c,userId:u})]})]})},S_="Container_Container__Y6War",T_="List_Wrapper__BVk9a",I_="List_Content__3-fGf",C_="List_Header__Yn7mu",N_="List_Item__ebnJr",A_="List_Button__uDUX3",O_=function(e,t){return e.find((function(e){return e.title===t})).startBalance},P_=function(e,t){var n=e.filter((function(e){return!1===e.expense})).filter((function(e){return e.account.title===t})).map((function(e){return e.sum})).reduce((function(e,t){return e+t}),0),r=e.filter((function(e){return!0===e.expense})).filter((function(e){return e.account.title===t})).map((function(e){return e.sum})).reduce((function(e,t){return e+t}),0);return n-r},R_=function(e,t){return(t+ +e).toFixed(2)},D_="Popup_Container__zJS-h",L_="Popup_EnterActive__XQpPv",M_="Popup_ExitActive__XVGwG",j_="Popup_CloseBtn__7OIo3",F_=e.createContext(),U_=function(){return(0,e.useContext)(F_)};var V_=function(t){var n=a((0,e.useState)(!1),2),r=n[0],i=n[1];return(0,Ww.jsx)(F_.Provider,{value:{visible:r,toggle:function(){return i((function(e){return!e}))}},children:t.children})};var B_=function(t){var n=t.children,r=U_(),i=U_().toggle,a=e.useRef(null);return(0,Ww.jsx)(Yb,{in:r.visible,timeout:300,classNames:{enterActive:"".concat(L_),exitActive:"".concat(M_)},unmountOnExit:!0,nodeRef:a,children:(0,Ww.jsxs)("section",{className:D_,ref:a,children:[(0,Ww.jsx)("div",{className:j_,children:(0,Ww.jsx)(dx,{onClick:i})}),n]})})},z_={Welcome:"Popup_Welcome__45eSJ",Button:"Popup_Button__BWblt",Input:"Popup_Input__iCRmP",Type:"Popup_Type__u5eM4",Wrapper:"Popup_Wrapper__Mt+-y",Label:"Popup_Label__iRXrk",WrapperText:"Popup_WrapperText__uahwt",Text:"Popup_Text__uHCah"},q_=function(e,t,n){return!!e.find((function(e){return e[t].title===n}))},W_=function(e,t,n){return!!e.find((function(e){return e["".concat(t,"Id")]===n}))},H_=function(e,t){return bn(new Set(e.filter((function(e){return e.category.title===t})).map((function(e){return e.expense})))).join()},K_=function(e,t){return e.filter((function(e){return e.category.title===t})).map((function(e){return e.sum})).reduce((function(e,t){return e+t}),0).toFixed(2)},G_=function(e,t){return e.filter((function(e){return e.category.title===t})).map((function(e){return e.sum})).reduce((function(e,t){return e+t}),0).toFixed(2)};var Q_=function(e){var t=e.itemState,n=e.prevItem,r=e.setItem,i=e.transactions,a=se(),o=he(Iw),u=he(Cw),s=U_().toggle,c=t.id,l=t.title,f=t.userId,h=t.incomes,d=t.header,p=t.startBalance,v=t.balance,y=JSON.stringify(t)===JSON.stringify(n),m=i.filter((function(e){return kw(e.date)===u})).filter((function(e){return gw(e.date)===o})),g=function(){var e=me(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target,r({id:c,title:l,userId:f,incomes:n.checked,header:d});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ww.jsxs)("section",{className:z_.Settings,children:[(0,Ww.jsx)(lx,{}),n.id?(0,Ww.jsx)("button",{className:z_.Button,onClick:function(){"Categories"===d&&(a(db(t)),a(fb(f)),a(bw(f))),"Accounts"===d&&(a(Tb(t)),a(_b(f)),a(bw(f))),s()},disabled:y||!l,children:"Update"}):null,n.id?null:(0,Ww.jsx)("button",{className:z_.Button,onClick:function(){if("Categories"===d){if(q_(i,"category",l))return void alert("This category already exists!");a(hb({title:l,userId:f,incomes:h})),a(fb(f))}if("Accounts"===d){if(q_(i,"account",l))return void alert("This account already exists!");a(Sb({title:l,userId:f,startBalance:p,balance:v})),a(_b(f))}s()},disabled:!l,children:"Create"}),n.id?(0,Ww.jsx)("button",{className:z_.Button,onClick:function(){if(window.confirm("Are you sure?")){if("Categories"===d){if(W_(i,"category",c))return void alert("This category is already in use and cannot be deleted!");a(pb(c)),a(fb(f))}if("Accounts"===d){if(W_(i,"account",c))return void alert("This account is already in use and cannot be deleted!");a(Ib(c)),a(_b(f))}s()}},children:"Delete"}):null,(0,Ww.jsxs)("div",{className:z_.Wrapper,children:[(0,Ww.jsxs)("div",{className:z_.Type,children:[(0,Ww.jsx)("p",{className:z_.Label,children:"Name of ".concat("Categories"===d?"category":"account")}),(0,Ww.jsx)("input",{className:z_.Input,type:"text",value:l,onChange:function(e){var t=e.target.value;r({id:c,title:t,userId:f,incomes:h||!1,header:d,startBalance:p,balance:v})},placeholder:"Type the new name for the ".concat("Categories"===d?"category":"account")})]}),"Accounts"!==d?(0,Ww.jsxs)("div",{className:z_.Type,children:[q_(i,"category",n.title)?(0,Ww.jsx)("p",{className:z_.Label,children:"This category is already used in transactions and this setting cannot be changed."}):(0,Ww.jsxs)("p",{className:z_.Label,children:["Select ",(0,Ww.jsx)("b",{children:"incomes"})," if the category is taken into income transactions"]}),(0,Ww.jsx)("input",{type:"checkbox",checked:+h||!1,id:c,onChange:g,disabled:q_(i,"category",n.title)}),(0,Ww.jsx)("label",{htmlFor:c,children:"Incomes"})]}):null,q_(i,"category",n.title)?(0,Ww.jsxs)("div",{className:z_.WrapperText,children:[(0,Ww.jsxs)("p",{className:z_.Text,children:[JSON.parse(H_(i,n.title))?"Expenses":"Incomes"," in this Month - ",(0,Ww.jsxs)("b",{children:[G_(m,n.title),"\u20ac"]})]}),(0,Ww.jsxs)("p",{className:z_.Text,children:[JSON.parse(H_(i,n.title))?"Expenses":"Incomes"," for all time - ",(0,Ww.jsxs)("b",{children:[K_(i,n.title),"\u20ac"]})]})]}):null,"Accounts"==d?(0,Ww.jsxs)(Ww.Fragment,{children:[(0,Ww.jsxs)("div",{className:z_.Type,children:[(0,Ww.jsx)("p",{className:z_.Label,children:"Start balance"}),(0,Ww.jsx)("input",{className:z_.Input,type:"number",value:0===p?"":p,onChange:function(e){var t=e.target.value;r({id:c,title:l,userId:f,incomes:h,header:d,startBalance:t,balance:v}),a(Tb({id:c,title:l,userId:f,incomes:h,header:d,startBalance:t,balance:v})),a(_b())},placeholder:"0.00",disabled:n.startBalance})]}),(0,Ww.jsxs)("div",{className:z_.Type,children:[(0,Ww.jsx)("p",{className:z_.Label,children:"Current balance"}),(0,Ww.jsx)("p",{className:z_.Text,children:(0,Ww.jsxs)("b",{children:[n.id?v:0,"\u20ac"]})})]})]}):null]})]})};var $_=function(e){var t=e.onClickItem,n=e.id,r=e.title,i=e.incomes,a=e.header,o=e.balance;return(0,Ww.jsxs)("div",{className:N_,onClick:t,dataid:n,datavalue:r,datatype:i,dataheader:a,children:[(0,Ww.jsx)("p",{children:r}),"Accounts"===a&&(0,Ww.jsxs)("p",{children:["balance: ",(0,Ww.jsxs)("b",{children:[o,"\u20ac"]})]})]})};var Y_=function(e){var t=e.items,n=e.header,r=e.onClickItem,i=e.onClickToggle,a=e.transactions,o=e.itemState,u=e.setItem,s=e.prevItem;return(0,Ww.jsxs)(Ww.Fragment,{children:[(0,Ww.jsxs)("section",{className:T_,children:[(0,Ww.jsxs)("div",{className:I_,children:[(0,Ww.jsx)("p",{className:C_,children:n}),(0,Ww.jsx)("button",{className:A_,onClick:i,dataheader:n,children:"Create"})]}),t.sort((function(e,t){return t.title.toLowerCase()>e.title.toLowerCase()?-1:1})).map((function(e){var i=O_(t,e.title),o=P_(a,e.title),u=R_(i,o);return(0,Ww.jsx)($_,{onClickItem:r,id:e.id,title:e.title,incomes:+e.incomes?+e.incomes:"",header:n,balance:u},e.id)}))]}),(0,Ww.jsx)(B_,{children:(0,Ww.jsx)(Q_,{itemState:o,prevItem:s,setItem:u,transactions:a})})]})};var X_=function(){var t=he(Xv),n=he(_w),r=he(yb),i=he(Nb),o=bn(r),u=bn(i),s=he(mb),c=he(Ab),l=U_().toggle,f=se(),h=(s||c)&&t;(0,e.useEffect)((function(){f(bw(t))}),[]);var d=a((0,e.useState)({}),2),p=d[0],v=d[1],y=a((0,e.useState)({}),2),m=y[0],g=y[1],k=function(){var e=me(ke().mark((function e(r){var i,a,o,s,c,f,h;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.currentTarget,a=i.getAttribute("dataid"),o=i.getAttribute("datavalue"),s=i.getAttribute("datatype"),"Accounts"===(c=i.getAttribute("dataheader"))?(f=O_(u,o),h=R_(f,P_(n,o)),v({id:a,title:o,userId:t,incomes:!!+s.toString(),header:c,startBalance:f,balance:h}),g({id:a,title:o,userId:t,incomes:!!+s.toString(),header:c,startBalance:f,balance:h}),l()):("","",v({id:a,title:o,userId:t,incomes:!!+s.toString(),header:c,startBalance:"",balance:""}),g({id:a,title:o,userId:t,incomes:!!+s.toString(),header:c,startBalance:"",balance:""}),l());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=me(ke().mark((function e(n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.target,"","","",i=r.getAttribute("dataheader"),0,0,v({id:"",title:"",userId:t,incomes:!!+"".toString(),header:i,startBalance:0,balance:0}),g({id:"",title:"",userId:t,incomes:!!+"".toString(),header:i,startBalance:0,balance:0}),l();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ww.jsxs)("section",{className:S_,children:[h?(0,Ww.jsx)(eE,{}):null,t?(0,Ww.jsxs)(Ww.Fragment,{children:[(0,Ww.jsx)(Y_,{items:u,header:"Accounts",onClickItem:k,onClickToggle:b,transactions:n,itemState:p,prevItem:m,setItem:v}),(0,Ww.jsx)(Y_,{items:o,header:"Categories",onClickItem:k,onClickToggle:b,transactions:n,itemState:p,prevItem:m,setItem:v})]}):null]})};var J_=function(){return(0,Ww.jsxs)(cx,{children:[(0,Ww.jsx)(lx,{}),(0,Ww.jsx)(V_,{children:(0,Ww.jsxs)(E,{children:[(0,Ww.jsx)(w,{path:"/",element:(0,Ww.jsx)(iE,{})}),(0,Ww.jsx)(w,{path:"/statistics",element:(0,Ww.jsx)(__,{})}),(0,Ww.jsx)(w,{path:"/settings",element:(0,Ww.jsx)(X_,{})}),(0,Ww.jsx)(w,{path:"*",element:(0,Ww.jsx)(k,{to:"/"})})]})})]})},Z_=function(e){var t,n=Yt(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!Qt(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Nt(a)}var p=u;"function"===typeof p&&(p=p(n));var v=Ot.apply(void 0,p),y=At;c&&(y=Gt(Ht({trace:!1},"object"===typeof c&&c)));var m=[v];return Array.isArray(d)?m=jt([v],d):"function"===typeof d&&(m=d(m)),Ct(t,f,y.apply(void 0,m))}({reducer:{transactions:zw,categories:gb,accounts:Rb,searchTerm:vw,budget:yE,user:Zv}});t.render((0,Ww.jsx)(e.StrictMode,{children:(0,Ww.jsx)(re,{store:Z_,children:(0,Ww.jsx)(Q,{children:(0,Ww.jsx)(J_,{})})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.cc184d14.js.map