{"version":3,"sources":["components/Transactions/List/ListContainer.module.css","components/Widgets/MonthExpenses/Items/Indicator/Indicator.module.css","components/Widgets/MonthExpenses/Items/Item.module.css","components/Balance/Balance.module.css","components/Widgets/YearExpenses/YearExpenses.module.css","components/Navigation/Menu/Menu.module.css","components/Transactions/CreateForm/Form.module.css","components/Auth/Auth.module.css","components/Widgets/MonthBalance/MonthBalance.module.css","components/Widgets/Budget/Budget.module.css","components/Widgets/Budget/Items/Item.module.css","components/Settings/Items/Item.module.css","components/UI/Input/Input.module.css","components/Settings/Settings.module.css","hoc/Popup/Popup.module.css","hoc/Layout/Layout.module.css","components/UI/Button/Button.module.css","components/Widgets/YearExpenses/Indicator/Indicator.module.css","components/UI/Select/Select.module.css","components/UI/CloseButton/CloseButton.module.css","components/Search/Search.module.css","containers/Statistics/Statistics.module.css","containers/Settings/Settings.module.css","reducers/user/user-slice.js","services/firebase.js","services/category.service.js","reducers/categories/categories-slice.js","services/account.service.js","reducers/accounts/accounts-slice.js","services/transaction.service.js","reducers/search/search-slice.js","utils/utils.js","reducers/transactions/transactions-slice.js","components/UI/Input/Input.js","components/UI/Select/Select.js","components/UI/Button/Button.js","components/Transactions/CreateForm/utils.js","components/Transactions/CreateForm/Form.js","components/Navigation/Menu/Menu.js","components/Auth/Auth.js","hoc/Layout/Layout.js","hoc/ScrollToTop/ScrollToTop.js","components/UI/CloseButton/CloseButton.js","components/Search/Search.js","components/Balance/Balance.js","components/Transactions/List/Items/Item.js","components/Transactions/List/Items/DateGroup.js","components/Transactions/List/Items/DateHeader.js","components/Transactions/List/Items/DateGroupWrapper.js","components/Transactions/List/Items/MonthGroup.js","components/Transactions/List/ListContainer.js","containers/Transactions/Transactions.js","components/Widgets/MonthBalance/MonthBalance.js","components/Widgets/MonthExpenses/Items/Indicator/Indicator.js","components/Widgets/MonthExpenses/utils.js","components/Widgets/MonthExpenses/Items/Item.js","components/Widgets/MonthExpenses/const.js","components/Widgets/MonthExpenses/Statistics.js","components/Widgets/MonthExpenses/MonthExpenses.js","components/Widgets/YearExpenses/constant.js","components/Widgets/YearExpenses/Indicator/Indicator.js","components/Widgets/YearExpenses/YearExpenses.js","services/budget.service.js","reducers/budget/budget-slice.js","components/Widgets/Budget/Items/Item.js","components/Widgets/Budget/Budget.js","containers/Statistics/Statistics.js","components/Settings/Items/Item.js","components/Settings/Blocks/Block.js","hoc/Popup/PopupContext.js","components/Settings/Settings.js","hoc/Popup/Popup.js","containers/Settings/Settings.js","App.js","store/store.js","index.js"],"names":["module","exports","userSlice","createSlice","name","initialState","userId","reducers","setUserId","state","action","payload","extraReducers","selectUserId","user","actions","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","auth","getAuth","categoriesRef","collection","getAll","a","getDocs","snapshot","results","docs","map","doc","data","id","create","category","addDoc","deleteId","docRef","deleteDoc","update","setDoc","merge","loadCategories","createAsyncThunk","postCategory","newCategory","updateCategory","deleteCategory","categoryId","categoriesSlice","allCategories","title","isLoading","hasError","isPending","isFailedToCreate","pending","fulfilled","rejected","selectAllCategoriesState","categories","allCategoriesState","filter","transaction","addCategory","editCategory","createCategory","accountsRef","account","updateDoc","loadAccounts","postAccount","newAccount","updateAccount","deleteAccount","accountId","accountsSlice","allAccounts","balance","startBalance","archive","selectAllAccountsState","accounts","allAccountsState","addAccount","editAccount","createAccount","transactionsRef","snapshotTransactions","snapshotCategories","snapshotAccounts","transactions","find","sum","expense","date","searchTermSlice","setSearchTerm","clearSearchTerm","selectSearchTerm","searchTerm","formatWeekday","dateString","Date","toLocaleString","weekday","formatMonthYear","month","year","formatMonth","formatYear","loadTransactions","postTransaction","deleteTransaction","transactionId","transactionsSlice","allTransactions","newTransaction","toISOString","slice","currentMonth","currentYear","isButtonClick","isButtonShow","setUserInput","value","setCategory","setAccount","resetState","updateMonth","updateYear","showButton","clickButton","showDelete","selectNewTransactionState","selectAllTransactionsState","allTransactionsState","selectFilteredTransactions","toLowerCase","includes","sort","b","getTime","setTransactionId","addTransaction","isInvalid","valid","touched","shouldValidate","Input","props","inputType","type","cls","classes","htmlFor","Math","random","push","InputTypeCheckbox","InputType","invalid","className","join","placeholder","onChange","label","errorMessage","Select","hidden","defaultOption","options","option","Button","onClick","disabled","children","createControl","config","validation","validateForm","formControls","isFormValid","control","hasOwnProperty","updateFormControls","isValid","required","trim","validate","createFormControls","TransactionCreateForm","onClickAddBtn","newTransactionState","useSelector","dispatch","useDispatch","useState","setState","useEffect","onChangeUserInput","onChangeSelectHandler","selector","e","getId","target","idItem","item","nodeRef","React","useRef","form","dialogWrapper","onSubmit","preventDefault","CSSTransition","in","timeout","classNames","enterActive","addFormEnterActive","exitActive","addFormExitActive","unmountOnExit","dialog","ref","event","dialogType","Menu","clickAddButton","showAddButton","classesAddBtn","menuAddBtn","isActiveLink","isActive","active","Form","menu","wrapper","addBtnEnterActive","enterDone","addBtnEnterDone","to","Auth","loading","setLoading","currentUser","setCurrentUser","onAuthStateChanged","uid","useAuth","emailRef","passwordRef","handleSignup","email","current","password","createUserWithEmailAndPassword","then","January","expenses","incomes","February","March","April","May","June","July","August","September","October","November","December","catch","err","alert","handleLogin","signInWithEmailAndPassword","handleLogout","signOut","Main","Header","Fields","Layout","LayoutContainer","LayoutMain","ScrollToTop","pathname","useLocation","window","scrollTo","CloseButton","CloseBtn","Search","userInput","length","Balance","BalanceContainer","balanceContainer","setBalanceContainer","setBalance","listenScrollEvent","scrollY","BalanceContainerScroll","BalanceScroll","addEventListener","removeEventListener","sumExpenses","reduce","sumIncomes","currentBalance","round","BalanceAmount","TransactionsItem","categoryTitle","accountTitle","rest","showDeleteBtn","setShowDeleteBtn","handleDeleteButtonToggle","enter","exit","exitDone","onMouseOver","onMouseOut","TransactionsItemWrapper","TransactionsItemAccount","TransactionsItemEdit","TransactionsHidden","confirm","TransactionsItemsDateGroup","transactionsDay","TransitionGroup","component","TransactionsDateHeader","expenseBalance","acc","incomeBalance","overallBalance","TransactionsHeader","TransactionsDateContent","day","TransactionsDateWrapper","TransactionsItemsDateGroupWrapper","key","TransactionsItemsMonthGroup","transactionsDates","TransactionsMonth","transactionDate","TransactionsListContainer","months","Set","Transactions","WidgetsMonthBalance","filteredTransactions","toFixed","MonthBalance","List","Wrapper","WidgetsMonthExpensesIndicator","excessPercent","balanceOfCurrent","totalPercent","transactionsSum","IndicatorWrapper","TotalExpenses","style","width","IndicatorTotal","IndicatorIncomes","IndicatorExpenses","TotalTitle","CategoryTitle","TotalSumWrapper","TotalSumAverage","TotalSum","getSum","getBalance","getMonthAverageSum","getTotalPercentPerMonth","WidgetsMonthExpensesItem","excessCategoryPercent","totalCategoryPercent","balanceCategoryOfCurrent","categoryPercent","monthTransactions","daysAmount","getFullYear","getMonth","getDate","currentDay","currentDayStep","isShow","MonthExpensesItem","DayIndicatorWrapper","DayIndicator","left","DayIndicatorDate","Left","Right","Indicator","TRANSACTION_TYPE","Statistics","budget","_getExcessPercent","percent","_getExcessBudgetPercent","balancePerCategory","isIncomes","isBudget","transactionsSumPerCategory","averageValue","abs","expensesPercent","this","toUpperCase","Object","values","keys","flat","averageSum","isNaN","_getTotalPercent","WidgetsMonthExpenses","percentCategory","MONTH_EXPENSES","WidgetsYearExpensesIndicator","getPercent","Expenses","Incomes","height","WidgetsYearExpenses","getMaxAmountPerYear","max","maxMonthExpensePerYear","maxMonthIncomePerYear","maxMonthTransaction","monthHandler","handleClick","String","YearExpenses","LeftBtn","ListWrapper","Active","RightBtn","budgetRef","getOverall","upperCase","balanceTotal","balanceBudget","loadBudgets","postBudget","updatedBudget","budgetSlice","budgetUpdated","updateBudget","nameUpperCase","console","log","currentType","overall","JSON","parse","stringify","selectAllBudgetState","selectUpdatedBudgetState","WidgetsBudgetItem","dataType","isHeader","Block","Title","SubTitle","Description","InputDisabled","WidgetsBudget","prevBudget","usePrevious","onInputChange","getAttribute","BudgetWrapper","HeaderWrapper","Content","newBudget","newUpdatedBudget","SettingsItem","onClickSubmitButton","submitTitle","onClickButton","onClickDeleteButton","transactionType","onChangeType","ItemWrapper","Type","checked","ButtonWrapper","SettingsBlock","onClickCreateButton","items","onClickEditButton","PopupContext","createContext","usePopup","useContext","PopupProvider","popup","setPopup","Provider","visible","toggle","prev","Settings","inputCategory","setInputCategory","setInputType","inputAccount","setInputAccount","undefined","Popup","EnterActive","ExitActive","Container","App","path","element","configureStore","reducer","transactionsReducer","categoriesReducer","accountsReducer","searchTermReducer","budgetReducer","userReducer","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.14b28725.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"TransactionsMonth\":\"ListContainer_TransactionsMonth__VTwQk\",\"TransactionsHeader\":\"ListContainer_TransactionsHeader__1Nwh7\",\"TransactionsDateContent\":\"ListContainer_TransactionsDateContent__3_Wg_\",\"TransactionsDateWrapper\":\"ListContainer_TransactionsDateWrapper__3_hm9\",\"TransactionsItem\":\"ListContainer_TransactionsItem__2Ekf6\",\"TransactionsItemAccount\":\"ListContainer_TransactionsItemAccount__2gWdH\",\"TransactionsItemEdit\":\"ListContainer_TransactionsItemEdit__1Uj3y\",\"TransactionsItemClose\":\"ListContainer_TransactionsItemClose__112_0\",\"TransactionsItemOnClick\":\"ListContainer_TransactionsItemOnClick__20z0S\",\"TransactionsItemWrapper\":\"ListContainer_TransactionsItemWrapper__A5w7n\",\"TransactionsHidden\":\"ListContainer_TransactionsHidden__32C68\",\"enter\":\"ListContainer_enter__fpkFx\",\"enterActive\":\"ListContainer_enterActive__16sdh\",\"exit\":\"ListContainer_exit__1PACa\",\"exitActive\":\"ListContainer_exitActive__Mnq44\",\"exitDone\":\"ListContainer_exitDone__32oW3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"IndicatorWrapper\":\"Indicator_IndicatorWrapper__3q_mt\",\"IndicatorTotal\":\"Indicator_IndicatorTotal__1Y7TP\",\"IndicatorExpenses\":\"Indicator_IndicatorExpenses__12-8R\",\"IndicatorIncomes\":\"Indicator_IndicatorIncomes__9rMe6\",\"Expense\":\"Indicator_Expense__22TSw\",\"TotalExpenses\":\"Indicator_TotalExpenses__1Dw4H\",\"TotalTitle\":\"Indicator_TotalTitle__xlfB6\",\"TotalSumWrapper\":\"Indicator_TotalSumWrapper__mgUZc\",\"TotalSumAverage\":\"Indicator_TotalSumAverage__PGk5u\",\"TotalSum\":\"Indicator_TotalSum__16pCE\",\"Balance\":\"Indicator_Balance__3Hw51\",\"CategoryTitle\":\"Indicator_CategoryTitle__1lw9X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MonthExpensesItem\":\"Item_MonthExpensesItem__YjU-v\",\"IndicatorWrapper\":\"Item_IndicatorWrapper__2mppw\",\"Indicator\":\"Item_Indicator__1tgmw\",\"DayIndicatorWrapper\":\"Item_DayIndicatorWrapper__1EIsj\",\"DayIndicator\":\"Item_DayIndicator__13Cg7\",\"DayIndicatorDate\":\"Item_DayIndicatorDate__3kWwy\",\"Right\":\"Item_Right__2f5Fi\",\"Left\":\"Item_Left__2pD6l\",\"List\":\"Item_List__3zSXB\",\"Wrapper\":\"Item_Wrapper__2aB6H\",\"CategoryTitle\":\"Item_CategoryTitle__1JliW\",\"Balance\":\"Item_Balance__1vv4s\",\"IndicatorTotal\":\"Item_IndicatorTotal__26IWg\",\"IndicatorExpenses\":\"Item_IndicatorExpenses__2n_83\",\"IndicatorIncomes\":\"Item_IndicatorIncomes__1nQzk\",\"TotalTitle\":\"Item_TotalTitle__akr9c\",\"TotalSumWrapper\":\"Item_TotalSumWrapper__2_RW5\",\"TotalSumAverage\":\"Item_TotalSumAverage__1WQ-t\",\"TotalSum\":\"Item_TotalSum__37VIa\",\"AverageWrapper\":\"Item_AverageWrapper__T8i9X\",\"TotalExpenses\":\"Item_TotalExpenses__de84n\",\"Expense\":\"Item_Expense__1uT9d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Balance\":\"Balance_Balance__23Avx\",\"BalanceScroll\":\"Balance_BalanceScroll__ah868\",\"BalanceContainer\":\"Balance_BalanceContainer__j86A2\",\"BalanceContainerScroll\":\"Balance_BalanceContainerScroll__2NjjY\",\"BalanceAmount\":\"Balance_BalanceAmount__2Q1J2\",\"BalanceWrapper\":\"Balance_BalanceWrapper__176bo\",\"BalanceIncome\":\"Balance_BalanceIncome__2vRM2\",\"BalanceExpense\":\"Balance_BalanceExpense__2eTJu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"YearExpenses\":\"YearExpenses_YearExpenses__1Jmci\",\"Wrapper\":\"YearExpenses_Wrapper__qpM9Y\",\"ListWrapper\":\"YearExpenses_ListWrapper__1HoYZ\",\"List\":\"YearExpenses_List__2q1Fm\",\"Expenses\":\"YearExpenses_Expenses__3SbWC\",\"Incomes\":\"YearExpenses_Incomes__2hXLw\",\"Active\":\"YearExpenses_Active__2DlKf\",\"LeftBtn\":\"YearExpenses_LeftBtn__bMop3\",\"RightBtn\":\"YearExpenses_RightBtn__1v0s_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Menu_menu__g1b0Y\",\"wrapper\":\"Menu_wrapper__2i6Q0\",\"active\":\"Menu_active__1T3aC\",\"menuAddBtn\":\"Menu_menuAddBtn__1bjf1\",\"addBtnEnterActive\":\"Menu_addBtnEnterActive__2oVJa\",\"addBtnEnterDone\":\"Menu_addBtnEnterDone__1MBUj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__2wVGg\",\"dialogWrapper\":\"Form_dialogWrapper__Asoa1\",\"dialog\":\"Form_dialog__3K11j\",\"dialogTypeWrapper\":\"Form_dialogTypeWrapper__3UED0\",\"dialogType\":\"Form_dialogType___T7YX\",\"addFormEnterActive\":\"Form_addFormEnterActive__3ky2w\",\"showForm\":\"Form_showForm__3Ut7i\",\"addFormExitActive\":\"Form_addFormExitActive__3REkf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"Auth_Main__11kSo\",\"Header\":\"Auth_Header__1VwbD\",\"Fields\":\"Auth_Fields__3NQ_O\",\"Button\":\"Auth_Button__tzrL3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MonthBalance\":\"MonthBalance_MonthBalance__3PLio\",\"List\":\"MonthBalance_List__XbgNn\",\"Wrapper\":\"MonthBalance_Wrapper__3s-LA\",\"Balance\":\"MonthBalance_Balance__KixWi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BudgetWrapper\":\"Budget_BudgetWrapper__2eRq_\",\"HeaderWrapper\":\"Budget_HeaderWrapper__2QyV8\",\"Header\":\"Budget_Header__xvghW\",\"Content\":\"Budget_Content__11etz\",\"Button\":\"Budget_Button__JsHlV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BudgetWrapper\":\"Item_BudgetWrapper__3V_CQ\",\"Header\":\"Item_Header__3N3pa\",\"Block\":\"Item_Block__2m7Qg\",\"Description\":\"Item_Description__2TYyv\",\"Title\":\"Item_Title__3RCdl\",\"SubTitle\":\"Item_SubTitle__3sJSk\",\"Input\":\"Item_Input__2vqP4\",\"InputDisabled\":\"Item_InputDisabled__fpU2l\",\"Button\":\"Item_Button__1Bpmn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ItemWrapper\":\"Item_ItemWrapper__36lCx\",\"Input\":\"Item_Input__2LKUT\",\"ButtonWrapper\":\"Item_ButtonWrapper__275w9\",\"Button\":\"Item_Button__1YbUK\",\"Type\":\"Item_Type__1KQTc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__3r5Ke\",\"InputType\":\"Input_InputType__20xp5\",\"InputTypeCheckbox\":\"Input_InputTypeCheckbox__2WwxI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"Settings_Wrapper__S2_BS\",\"Header\":\"Settings_Header__1GgmN\",\"Content\":\"Settings_Content__2vl7u\",\"ItemWrapper\":\"Settings_ItemWrapper__1JUDg\",\"Input\":\"Settings_Input__nrbt0\",\"ButtonWrapper\":\"Settings_ButtonWrapper__2lcW-\",\"Button\":\"Settings_Button__1aSBO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Popup_Container__3DUOe\",\"EnterActive\":\"Popup_EnterActive__iJHcV\",\"show\":\"Popup_show__3z3FU\",\"ExitActive\":\"Popup_ExitActive__2EFlQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LayoutContainer\":\"Layout_LayoutContainer__19LML\",\"LayoutMain\":\"Layout_LayoutMain__2hglt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3gFiX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Incomes\":\"Indicator_Incomes__3bIeI\",\"Expenses\":\"Indicator_Expenses__1JIA4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Select\":\"Select_Select__2qylT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CloseBtn\":\"CloseButton_CloseBtn__3yyFo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Search\":\"Search_Search__2SQmI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Statistics\":\"Statistics_Statistics__1Ncpx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Settings\":\"Settings_Settings__1zu8U\"};","import {createSlice} from '@reduxjs/toolkit';\n\nexport const userSlice = createSlice({\n  name: \"user\",\n  initialState: {\n    userId: '',\n  },\n  reducers: {\n    setUserId: (state, action) => {\n      return {\n        userId: action.payload,\n      };\n    },\n  },\n  extraReducers: {},\n});\n\nexport const selectUserId = (state) => state.user.userId;\n\nexport const {setUserId} = userSlice.actions;\nexport default userSlice.reducer;\n","import {useEffect, useState} from \"react\";\nimport {useDispatch} from 'react-redux';\nimport {setUserId} from \"../reducers/user/user-slice\";\n\nimport {initializeApp} from \"firebase/app\";\nimport {setDoc, doc, getFirestore} from \"firebase/firestore\";\nimport {getAuth, createUserWithEmailAndPassword, onAuthStateChanged, signInWithEmailAndPassword, signOut} from 'firebase/auth';\n\n// Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA-jcEb53c4muML3hfX3HA7WYvqCSwBNNY\",\n  authDomain: \"expense-tracker-4e13a.firebaseapp.com\",\n  projectId: \"expense-tracker-4e13a\",\n  storageBucket: \"expense-tracker-4e13a.appspot.com\",\n  messagingSenderId: \"65016479636\",\n  appId: \"1:65016479636:web:8b455fad8e8c1b1c791981\"\n};\n\n// Initialize Firebase\n\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nconst auth = getAuth();\n\nexport function singUp(email, password) {\n    createUserWithEmailAndPassword(auth, email, password)\n    .then(data => {\n      const id = data.user.uid;\n      const docRef = doc(getFirestore(), \"budgets\", id);\n      const payload = {\n        January: {\n          expenses: {},\n          incomes: {}\n        },\n        February: {\n          expenses: {},\n          incomes: {}\n        },\n        March: {\n          expenses: {},\n          incomes: {}\n        },\n        April: {\n          expenses: {},\n          incomes: {}\n        },\n        May: {\n          expenses: {},\n          incomes: {}\n        },\n        June: {\n          expenses: {},\n          incomes: {}\n        },\n        July: {\n          expenses: {},\n          incomes: {}\n        },\n        August: {\n          expenses: {},\n          incomes: {}\n        },\n        September: {\n          expenses: {},\n          incomes: {}\n        },\n        October: {\n          expenses: {},\n          incomes: {}\n        },\n        November: {\n          expenses: {},\n          incomes: {}\n        },\n        December: {\n          expenses: {},\n          incomes: {}\n        },\n      };\n\n      setDoc(docRef, payload, {merge:true});\n    })\n    .catch(err => {\n      alert(err);\n    })\n}\n\nexport function login(email, password) {\n  return signInWithEmailAndPassword(auth, email, password);\n}\n\nexport function logout() {\n  return signOut(auth);\n}\n\n//Custom Hook\nexport function useAuth() {\n  const [currentUser, setCurrentUser] = useState();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const unsub = onAuthStateChanged(auth, (user) => {\n      if (user) {\n      dispatch(setUserId(user.uid));\n    } else {\n      dispatch(setUserId(null));\n    }\n      setCurrentUser(user)\n    });\n    return unsub;\n// eslint-disable-next-line\n  }, [])\n\n  return currentUser;\n}\n\nexport default db;\n","import {addDoc, collection, setDoc, doc, deleteDoc, getDocs} from \"@firebase/firestore\";\nimport db from \"./firebase\";\n\nconst categoriesRef = collection(db, \"categories\");\n\nexport const getAll = async () => {\n  const snapshot = await getDocs(categoriesRef);\n  const results = snapshot.docs.map((doc) => ({...doc.data(), id: doc.id}));\n  return results;\n}\n\nexport const create = async (category) => {\n  const payload = {...category};\n  await addDoc(categoriesRef, payload);\n}\n\nexport const deleteId = async (id) => {\n    const docRef = doc(categoriesRef, id);\n    await deleteDoc(docRef);\n}\n\nexport const update = async (id, data) => {\n  // const id = data.id\n  const docRef = doc(db, \"categories\", id);\n  const payload = {...data};\n\n  setDoc(docRef, payload, {merge:true});\n}\n","import {createSlice, createAsyncThunk} from '@reduxjs/toolkit';\n\nimport {getAll, create, deleteId, update} from '../../services/category.service';\nimport {selectUserId} from '../user/user-slice';\n\nexport const loadCategories = createAsyncThunk(\n  'categories/loadData',\n  async () => {\n    return await getAll();\n  }\n)\n\nexport const postCategory = createAsyncThunk(\n  'categories/addData',\n  async (newCategory) => {\n    return await create(newCategory);\n  }\n)\n\nexport const updateCategory = createAsyncThunk(\n  'categories/updateData',\n  async (data) => {\n    const {id} = data;\n    return await update(id, data);\n  }\n)\n\nexport const deleteCategory = createAsyncThunk(\n  'categories/deleteData',\n  async (categoryId) => {\n    return await deleteId(categoryId);\n  }\n)\n\nexport const categoriesSlice = createSlice({\n  name: \"categories\",\n  initialState: {\n    allCategories: [],\n    newCategory: {\n      title: ``,\n    },\n    isLoading: false,\n    hasError: false,\n    isPending: false,\n    isFailedToCreate: false,\n  },\n  reducers: {},\n  extraReducers: {\n    [loadCategories.pending]: (state) => {\n      state.isLoading = true;\n      state.hasError = false;\n    },\n    [loadCategories.fulfilled]: (state, action) => {\n      state.allCategories = action.payload;\n      state.isLoading = false;\n      state.hasError = false;\n    },\n    [loadCategories.rejected]: (state) => {\n      state.isLoading = false;\n      state.hasError = true;\n    },\n  },\n});\n\nexport const allCategoriesState = (state) => state.categories.allCategories;\nexport const selectNewCategoryState = (state) => state.categories.newCategory;\nexport const isLoading = (state) => state.categories.isLoading;\nexport const isPending = (state) => state.categories.isPending;\n\nexport const selectAllCategoriesState = (state) => {\n  const allCategories = allCategoriesState(state);\n  const userId = selectUserId(state);\n\n  return allCategories\n          .filter((transaction) => transaction.userId === userId)\n};\n\nexport const {addCategory, editCategory, createCategory} = categoriesSlice.actions;\nexport default categoriesSlice.reducer;\n","import {addDoc, collection, updateDoc, doc, deleteDoc, getDocs} from \"@firebase/firestore\";\nimport db from \"./firebase\";\n\nconst accountsRef = collection(db, \"accounts\");\n\nexport const getAll = async () => {\n  const snapshot = await getDocs(accountsRef);\n  const results = snapshot.docs.map((doc) => ({...doc.data(), id: doc.id}));\n  return results;\n}\n\nexport const create = async (account) => {\n  const payload = {...account};\n  await addDoc(accountsRef, payload);\n}\n\nexport const deleteId = async (id) => {\n    const docRef = doc(accountsRef, id);\n    await deleteDoc(docRef);\n}\n\nexport const update = async (id, title, userId) => {\n  const docRef = doc(accountsRef, id);\n  const payload = {title, userId};\n\n  updateDoc(docRef, payload);\n}\n","import {createSlice, createAsyncThunk} from '@reduxjs/toolkit';\n\nimport {getAll, create, update, deleteId} from '../../services/account.service';\nimport {selectUserId} from '../user/user-slice';\n\nexport const loadAccounts = createAsyncThunk(\n  'accounts/loadData',\n  async () => {\n    return await getAll();\n  }\n)\n\nexport const postAccount = createAsyncThunk(\n  'accounts/addData',\n  async (newAccount) => {\n    return await create(newAccount);\n  }\n)\n\nexport const updateAccount = createAsyncThunk(\n  'accounts/updateData',\n  async ({id, title, userId}) => {\n    return await update(id, title, userId);\n  }\n)\n\nexport const deleteAccount = createAsyncThunk(\n  'accounts/deleteData',\n  async (accountId) => {\n    return await deleteId(accountId);\n  }\n)\n\nexport const accountsSlice = createSlice({\n  name: \"accounts\",\n  initialState: {\n    allAccounts: [],\n    newAccount: {\n      title: ``,\n      balance: 0,\n      startBalance: 0,\n      archive: false\n    },\n    isLoading: false,\n    hasError: false,\n    isPending: false,\n    isFailedToCreate: false,\n  },\n  reducers: {},\n  extraReducers: {\n    [loadAccounts.pending]: (state) => {\n      state.isLoading = true;\n      state.hasError = false;\n    },\n    [loadAccounts.fulfilled]: (state, action) => {\n      state.allAccounts = action.payload;\n      state.isLoading = false;\n      state.hasError = false;\n    },\n    [loadAccounts.rejected]: (state) => {\n      state.isLoading = false;\n      state.hasError = true;\n    },\n  },\n});\n\nexport const allAccountsState = (state) => state.accounts.allAccounts;\nexport const selectNewAccountsState = (state) => state.accounts.newAccount;\nexport const isLoading = (state) => state.accounts.isLoading;\nexport const isPending = (state) => state.accounts.isPending;\n\nexport const selectAllAccountsState = (state) => {\n  const allAccounts = allAccountsState(state);\n  const userId = selectUserId(state);\n\n  return allAccounts\n          .filter((transaction) => transaction.userId === userId)\n};\n\nexport const {addAccount, editAccount, createAccount} = accountsSlice.actions;\nexport default accountsSlice.reducer;\n","import {addDoc, collection, updateDoc, doc, deleteDoc, getDocs} from \"@firebase/firestore\";\nimport db from \"./firebase\";\n\nconst transactionsRef = collection(db, \"transactions\");\nconst categoriesRef = collection(db, \"categories\");\nconst accountsRef = collection(db, \"accounts\");\n\nexport const getAll = async () => {\n  const snapshotTransactions = await getDocs(transactionsRef);\n  const snapshotCategories = await getDocs(categoriesRef);\n  const snapshotAccounts = await getDocs(accountsRef);\n\n  let transactions = {};\n  const categories = snapshotCategories.docs.map((doc) => ({...doc.data(), id: doc.id}));\n  const accounts = snapshotAccounts.docs.map((doc) => ({...doc.data(), id: doc.id}));\n\n  transactions = snapshotTransactions.docs.map((doc) => {\n    transactions = {id: doc.id, ...doc.data()}\n    transactions.category = categories.find((category) => category.id === transactions.categoryId);\n    transactions.account = accounts.find((account) => account.id === transactions.accountId);\n    return transactions;\n  });\n  return transactions;\n}\n\nexport const create = async (data) => {\n  const {sum, expense, date, categoryId, accountId, userId} = data;\n  const payload = {sum, expense, date, categoryId, accountId, userId};\n  await addDoc(transactionsRef, payload);\n}\n\nexport const deleteId = async (id) => {\n    const docRef = doc(transactionsRef, id);\n    await deleteDoc(docRef);\n}\n\nexport const update = async (id, title) => {\n  const docRef = doc(transactionsRef, id);\n  const payload = {title};\n\n  updateDoc(docRef, payload);\n}\n","import {createSlice} from '@reduxjs/toolkit';\n\nexport const searchTermSlice = createSlice({\n  name: \"searchTerm\",\n  initialState: '',\n  reducers: {\n    setSearchTerm: (state, action) => {\n      return action.payload;\n      },\n    clearSearchTerm: (state, action) => {\n      return '';\n      }\n    },\n});\n\nexport const selectSearchTerm = (state) => state.searchTerm;\n\nexport const {\n  setSearchTerm,\n  clearSearchTerm\n} = searchTermSlice.actions;\nexport default searchTermSlice.reducer;\n","export function formatDay (dateString) {\n  const date = new Date(dateString);\n  const options = {\n    day: `2-digit`,\n  };\n  return date.toLocaleString(`en-EN`, options);\n};\n\nexport function formatWeekday (dateString) {\n  const date = new Date(dateString);\n  const options = {\n    weekday: `long`,\n  };\n  return date.toLocaleString(`en-EN`, options);\n};\n\nexport function formatMonthYear (dateString) {\n  const date = new Date(dateString);\n  const options = {\n    month: `long`,\n    year: `numeric`\n  };\n  return date.toLocaleString(`en-EN`, options);\n};\n\nexport function formatMonth (dateString) {\n  const date = new Date(dateString);\n  const options = {\n    month: `long`\n  };\n  return date.toLocaleString(`en-EN`, options);\n};\n\nexport function formatYear (dateString) {\n  const date = new Date(dateString);\n  const options = {\n    year: `numeric`\n  };\n  return date.toLocaleString(`en-EN`, options);\n};\n\nexport function formatMonthShort (dateString) {\n  const date = new Date(dateString);\n  const options = {\n    month: `short`\n  };\n  return date.toLocaleString(`en-EN`, options);\n};\n","import {createSlice, createAsyncThunk} from '@reduxjs/toolkit';\nimport {getAll, create, deleteId} from '../../services/transaction.service';\nimport {selectSearchTerm} from '../search/search-slice';\nimport {selectUserId} from '../user/user-slice';\nimport {formatMonth, formatYear} from '../../utils/utils'\n\nexport const loadTransactions = createAsyncThunk(\n  'transactions/loadData',\n  async () => {\n    return await getAll();\n  }\n)\n\nexport const postTransaction = createAsyncThunk(\n  'transactions/postData',\n  async (data) => {\n    return await create(data);\n  }\n)\n\nexport const deleteTransaction = createAsyncThunk(\n  'transactions/deleteData',\n  async (transactionId) => {\n    return await deleteId(transactionId);\n  }\n)\n\nexport const transactionsSlice = createSlice({\n  name: \"transactions\",\n  initialState: {\n    allTransactions: [],\n    newTransaction: {\n      sum: '',\n      date: new Date().toISOString().slice(0, -14),\n      // date: '',\n      expense: true,\n    },\n    isLoading: false,\n    hasError: false,\n    currentMonth: formatMonth(new Date()),\n    currentYear: formatYear(new Date()),\n    isButtonClick: false,\n    isButtonShow: false\n  },\n  reducers: {\n    setUserInput: (state, action) => {\n      let {name, value} = action.payload;\n      if (name === `expense`) {\n        value = !state.newTransaction.expense;\n      }\n      if (name === `sum`) {\n        value = +value === 0 ? '' : +value;\n      }\n      return {\n        ...state,\n        newTransaction: {\n          ...state.newTransaction,\n          [name]: value\n        }\n      };\n    },\n    setCategory: (state, action) => {\n      return {\n        ...state,\n        newTransaction: {\n          ...state.newTransaction,\n          categoryId: action.payload,\n        }\n      };\n    },\n    setAccount: (state, action) => {\n      return {\n        ...state,\n        newTransaction: {\n          ...state.newTransaction,\n          accountId: action.payload,\n        }\n      };\n    },\n    resetState: (state, action) => {\n      return {\n        ...state,\n        newTransaction: {\n          // id: nanoid(MAX_ID_LENGTH),\n          sum: '',\n          date: new Date().toISOString().slice(0, -14),\n          expense: true,\n        },\n      };\n    },\n    updateMonth: (state, action) => {\n      return {\n        ...state,\n        currentMonth: action.payload,\n      };\n    },\n    updateYear: (state, action) => {\n      return {\n        ...state,\n        currentYear: action.payload,\n      };\n    },\n    showButton: (state, action) => {\n      return {\n        ...state,\n        isButtonShow: !state.isButtonShow,\n      };\n    },\n    clickButton: (state, action) => {\n      return {\n        ...state,\n        isButtonClick: !state.isButtonClick,\n      };\n    },\n  },\n  extraReducers: {\n    [loadTransactions.pending]: (state) => {\n      state.isLoading = true;\n      state.hasError = false;\n    },\n    [loadTransactions.fulfilled]: (state, action) => {\n      state.allTransactions = action.payload;\n      state.newTransaction = {\n        ...state.newTransaction,\n      }\n      state.isLoading = false;\n      state.hasError = false;\n      state.showDelete = false;\n    },\n    [loadTransactions.rejected]: (state) => {\n      state.isLoading = false;\n      state.hasError = true;\n    },\n  },\n});\n\nconst allTransactionsState = (state) => state.transactions.allTransactions;\nexport const selectNewTransactionState = (state) => state.transactions.newTransaction;\nexport const isLoading = (state) => state.transactions.isLoading;\nexport const hasError = (state) => state.transactions.hasError;\nexport const currentMonth = (state) => state.transactions.currentMonth;\nexport const currentYear = (state) => state.transactions.currentYear;\nexport const isButtonClick = (state) => state.transactions.isButtonClick;\nexport const isButtonShow = (state) => state.transactions.isButtonShow;\n\nexport const selectAllTransactionsState = (state) => {\n  const allTransactions = allTransactionsState(state);\n  const userId = selectUserId(state);\n\n  return allTransactions\n          .filter((transaction) => transaction.userId === userId)\n};\n\nexport const selectFilteredTransactions = (state) => {\n  const allTransactions = selectAllTransactionsState(state);\n  const searchTerm = selectSearchTerm(state);\n  const userId = selectUserId(state);\n\n  return allTransactions\n          .filter((transaction) => transaction.userId === userId)\n          .filter((transaction) => transaction.category.title.toLowerCase().includes(searchTerm.toLowerCase()))\n          .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())\n};\n\nexport const {\n  setUserInput,\n  setCategory,\n  setAccount,\n  setTransactionId,\n  addTransaction,\n  resetState,\n  updateMonth,\n  updateYear,\n  clickButton,\n  showButton,\n} = transactionsSlice.actions;\nexport default transactionsSlice.reducer;\n","import React from 'react';\nimport classes from './Input.module.css';\n\nfunction isInvalid({valid, touched, shouldValidate}) {\n  return !valid && shouldValidate && touched\n}\n\nconst Input = (props) => {\n  const inputType = props.type || 'text';\n  const cls = [classes.Input];\n  const htmlFor = `${inputType}-${Math.random()}`;\n\n  inputType === \"checkbox\" ? cls.push(classes.InputTypeCheckbox) : cls.push(classes.InputType)\n\n  if (isInvalid(props)) {\n    cls.push(classes.invalid)\n  }\n\n  return (\n    <div className={cls.join(' ')}>\n      <input\n        type={inputType}\n        name={props.name}\n        placeholder={props.placeholder}\n        id={htmlFor}\n        value={props.value}\n        onChange={props.onChange}\n      />\n      <label htmlFor={htmlFor}>{props.label}</label>\n\n      {\n        isInvalid(props)\n        ? <span>{props.errorMessage || \"Enter correct value\"}</span>\n        : null\n      }\n    </div>\n  )\n}\n\nexport default Input;\n","import React from 'react';\nimport classes from './Select.module.css'\n\nfunction isInvalid({valid, touched, shouldValidate}) {\n  return !valid && shouldValidate && touched\n}\n\nconst Select = (props) => {\n  // const value = props.options.length !== 0 && props.options[2].title;\n  const cls = [classes.Select];\n\n  return (\n    <div className={cls}>\n      <select\n        // value={value}\n        onChange={props.onChange}\n      >\n        <option value=\"\" hidden>{props.defaultOption}</option>\n        {props.options.map((option) => {\n          return (\n            <option\n              value={option.title}\n              key={option.id}\n            >\n              {option.title}\n            </option>\n          )\n        })}\n        {\n        isInvalid(props)\n        ? <span>{props.errorMessage || \"Enter correct value\"}</span>\n        : null\n      }\n      </select>\n    </div>\n  );\n}\n\nexport default Select;\n","import React from 'react';\nimport classes from './Button.module.css';\n\nconst Button = (props) => {\n  const cls = [\n    classes.Button,\n    classes[props.type]\n  ].join(' ')\n  return (\n    <button\n      onClick={props.onClick}\n      className={cls}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  )\n}\n\nexport default Button;\n","function createControl(config, validation) {\n  return {\n    ...config,\n    validation,\n    valid: !validation,\n    touched: false,\n    value: ''\n  }\n}\n\nfunction validate(value, validation = null) {\n  if (!validation) {\n    return true;\n  }\n\n  let isValid = true;\n\n  if (validation.required) {\n    isValid = value.trim() !== '' && isValid;\n  }\n\n  return isValid;\n}\n\n\nexport function validateForm(formControls) {\n  let isFormValid = true;\n\n  for (let control in formControls) {\n    if (formControls.hasOwnProperty(control)) {\n      isFormValid = formControls[control].valid && isFormValid\n    }\n  }\n\n  return isFormValid\n}\n\nexport function updateFormControls(name, value, state) {\n  const formControls = {...state};\n  const control = {...formControls[name]};\n\n  control.touched = true;\n  control.value = value;\n  control.valid = validate(control.value, control.validation);\n\n  formControls[name] = control;\n\n  return formControls;\n}\n\nexport function createFormControls() {\n  return {\n    sum: createControl({\n      errorMessage: 'Please fill out this field'\n    }, {required: true}),\n    date: createControl({\n      errorMessage: 'Choose a date please',\n    }, {required: true}),\n    category: createControl({\n      errorMessage: 'Choose a category please',\n    }, {required: true}),\n    account: createControl({\n      errorMessage: 'Choose an account please',\n    }, {required: true}),\n  }\n}\n","import React, {useState, useEffect} from \"react\";\nimport {useSelector, useDispatch} from 'react-redux';\nimport {CSSTransition} from 'react-transition-group';\nimport {\n  setUserInput,\n  setCategory,\n  setAccount,\n  selectNewTransactionState,\n  postTransaction,\n  resetState,\n  clickButton,\n  loadTransactions\n} from '../../../reducers/transactions/transactions-slice';\nimport classes from './Form.module.css'\nimport Input from '../../UI/Input/Input';\nimport Select from \"../../UI/Select/Select\";\nimport Button from \"../../UI/Button/Button\";\nimport {validateForm, updateFormControls, createFormControls} from \"./utils\";\n\nfunction TransactionCreateForm({categories, accounts, onClickAddBtn, userId}){\n  // console.log(` ~ file: Form.js ~ line 21 ~ TransactionCreateForm ~ userId`, userId);\n  const newTransactionState = useSelector(selectNewTransactionState);\n  const {sum, date} = newTransactionState;\n  const dispatch = useDispatch();\n\n  const [state, setState] = useState({\n    isFormValid: false,\n    formControls: createFormControls()\n  });\n\n  useEffect(() => {\n    const formControls = updateFormControls(\"date\", date, state.formControls);\n\n    setState({...state, formControls});\n    // eslint-disable-next-line\n  }, [])\n\n  const onChangeUserInput = (value, name) => {\n    const formControls = updateFormControls(name, value, state.formControls);\n\n    setState({\n      formControls,\n      isFormValid: validateForm(formControls)\n    });\n\n    dispatch(setUserInput({name: name, value: value}));\n  };\n\n  const onChangeSelectHandler = (selector) => (e) => {\n    const getId = (data, target) => {\n      let idItem;\n      data.map((item) => {\n        if (item.title === target) {\n          idItem = item.id;\n        }\n        return idItem;\n      });\n      return idItem;\n    }\n\n    if (selector === \"account\") {\n      const formControls = updateFormControls(selector, e.target.value, state.formControls);\n\n      setState({\n        formControls,\n        isFormValid: validateForm(formControls)\n      });\n\n      const accountId = getId(accounts, e.target.value);\n      dispatch(setAccount(accountId));\n    }\n\n    if (selector === \"category\") {\n      const formControls = updateFormControls(selector, e.target.value, state.formControls);\n\n      setState({\n        formControls,\n        isFormValid: validateForm(formControls)\n      });\n\n      const categoryId = getId(categories, e.target.value);\n      dispatch(setCategory(categoryId));\n    }\n  };\n\n  const onClickSubmitButton = (e) => {\n    e.preventDefault();\n  };\n\n  const addTransactionHandler = () => {\n    dispatch(postTransaction({...newTransactionState, userId}));\n    dispatch(resetState());\n    dispatch(clickButton());\n    dispatch(loadTransactions());\n\n    let formControls = createFormControls();\n    formControls = updateFormControls(\"date\", date, formControls);\n\n    setState({\n      formControls: formControls,\n      isFormValid: false\n    });\n  };\n\n  const nodeRef = React.useRef(null);\n\n  return (\n    <section className={classes.form} >\n      <div className={classes.dialogWrapper}>\n        <form onSubmit={onClickSubmitButton}>\n          <CSSTransition\n            in={onClickAddBtn}\n            timeout={300}\n            classNames={{\n              enterActive: `${classes.addFormEnterActive}`,\n              exitActive: `${classes.addFormExitActive}`,\n            }}\n            unmountOnExit\n            nodeRef={nodeRef}\n          >\n            <div className={classes.dialog} ref={nodeRef}>\n              <Input\n                type=\"number\"\n                name=\"sum\"\n                placeholder=\"0.00\"\n                value={sum}\n                valid={state.formControls.sum.valid}\n                shouldValidate={!!state.formControls.sum.validation}\n                touched={state.formControls.sum.touched}\n                errorMessage={state.formControls.sum.errorMessage}\n                onChange={(event) => onChangeUserInput(event.target.value, event.target.name)}\n              />\n\n              <Select\n                options={categories}\n                defaultOption=\"Choose a category\"\n                onChange={onChangeSelectHandler(\"category\")}\n\n                valid={state.formControls.category.valid}\n                shouldValidate={!!state.formControls.category.validation}\n                touched={state.formControls.category.touched}\n                errorMessage={state.formControls.category.errorMessage}\n              />\n\n              <Select\n                options={accounts}\n                defaultOption=\"Choose an account\"\n                onChange={onChangeSelectHandler(\"account\")}\n\n                valid={state.formControls.account.valid}\n                shouldValidate={!!state.formControls.account.validation}\n                touched={state.formControls.account.touched}\n                errorMessage={state.formControls.account.errorMessage}\n              />\n\n              <Input\n                type=\"date\"\n                name=\"date\"\n                value={date}\n                valid={state.formControls.date.valid}\n                shouldValidate={!!state.formControls.date.validation}\n                touched={state.formControls.date.touched}\n                errorMessage={state.formControls.date.errorMessage}\n                onChange={(event) => onChangeUserInput(event.target.value, event.target.name)}\n              />\n\n              <div className={classes.dialogType}>\n                <Input\n                  label={\"Income\"}\n                  type=\"checkbox\"\n                  name=\"expense\"\n                  onChange={(event) => onChangeUserInput(event.target.value, event.target.name)}\n                />\n              </div>\n\n              <Button\n                type=\"submit\"\n                onClick={addTransactionHandler}\n                disabled={!state.isFormValid}\n              >\n                Create\n              </Button>\n            </div>\n          </CSSTransition>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default TransactionCreateForm;\n","import React from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {NavLink} from 'react-router-dom';\nimport {CSSTransition} from 'react-transition-group';\n\nimport classes from './Menu.module.css';\nimport Form from '../../Transactions/CreateForm/Form'\nimport {resetState, isButtonShow, isButtonClick, clickButton} from '../../../reducers/transactions/transactions-slice';\n\nfunction Menu({categories, accounts, userId}) {\n  const dispatch = useDispatch();\n  const clickAddButton = useSelector(isButtonClick);\n  const showAddButton = useSelector(isButtonShow);\n\n  const classesAddBtn = [\n    classes.menuAddBtn,\n    'fa',\n    clickAddButton ? 'fa-times' : 'fa-plus',\n  ].join(' ');\n\n  const onClickAddButton = () => {\n    dispatch(clickButton());\n\n    if (clickAddButton) {\n      dispatch(resetState());\n    }\n  };\n\n  const isActiveLink = ({isActive}) => (isActive ? `${classes.active}` : '');\n  const nodeRef = React.useRef(null);\n\n  return (\n    <>\n      <Form\n        categories={categories}\n        accounts={accounts}\n        userId={userId}\n        onClickAddBtn={clickAddButton}\n      />\n\n      <nav className={classes.menu}>\n        <div className={classes.wrapper}>\n          {showAddButton && <CSSTransition\n              in={clickAddButton}\n              timeout={300}\n              classNames={{\n                enterActive: `${classes.addBtnEnterActive}`,\n                enterDone: `${classes.addBtnEnterDone}`,\n              }}\n              nodeRef={nodeRef}\n            >\n            <i\n              className={classesAddBtn}\n              onClick={onClickAddButton}\n              ref={nodeRef}\n            />\n          </CSSTransition>}\n\n          <NavLink\n              to={'/'}\n              className={isActiveLink}\n          >\n            Transactions\n          </NavLink>\n\n          <NavLink\n              to={'/statistics'}\n              className={isActiveLink}\n          >\n            Statistics\n          </NavLink>\n\n          <NavLink\n              to={'/settings'}\n              className={isActiveLink}\n          >\n            Settings\n          </NavLink>\n        </div>\n      </nav>\n    </>\n  )\n}\n\nexport default Menu;\n","import { useRef, useState } from 'react';\nimport classes from './Auth.module.css';\nimport { singUp, logout, login, useAuth } from '../../services/firebase';\n\nfunction Auth() {\n  const [loading, setLoading] = useState(false);\n  const currentUser = useAuth();\n\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  const handleSignup = async () => {\n    setLoading(true);\n    try {\n      await singUp(emailRef.current.value, passwordRef.current.value);\n    } catch {\n      alert(\"Email already in use!\");\n    }\n    setLoading(false);\n  }\n\n  const handleLogin = async () => {\n    setLoading(true);\n    try {\n      await login(emailRef.current.value, passwordRef.current.value);\n    } catch {\n      alert(\"Wrong email or password\");\n    }\n    setLoading(false);\n  }\n\n  const handleLogout = async () => {\n    setLoading(true);\n    try {\n      await logout();\n    } catch {\n      alert(\"Error!\");\n    }\n    setLoading(false);\n  }\n\n  return (\n    <section className={classes.Main}>\n      {currentUser && <p className={classes.Header}>{currentUser?.email}</p>}\n      {!currentUser && <div className={classes.Fields}>\n        <input ref={emailRef} placeholder=\"Email\" />\n        <input ref={passwordRef} type=\"password\" placeholder=\"Password\" />\n      </div>}\n\n      {!currentUser && <button className={classes.Button} disabled={loading || currentUser} onClick={handleSignup}>Sing Up</button>}\n      {!currentUser && <button className={classes.Button} disabled={loading || currentUser} onClick={handleLogin}>Log In</button>}\n      {currentUser && <button className={classes.Button} disabled={loading || !currentUser} onClick={handleLogout}>Log Out</button>}\n\n    </section>\n  );\n}\n\nexport default Auth;\n","import React, {useEffect} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport classes from './Layout.module.css';\nimport {selectAllCategoriesState, loadCategories} from '../../reducers/categories/categories-slice';\nimport {selectAllAccountsState, loadAccounts} from '../../reducers/accounts/accounts-slice';\nimport { selectUserId } from '../../reducers/user/user-slice';\nimport Menu from '../../components/Navigation/Menu/Menu';\nimport Auth from '../../components/Auth/Auth';\n\nfunction Layout(props) {\n  const allCategories = useSelector(selectAllCategoriesState);\n  const allAccounts = useSelector(selectAllAccountsState);\n  const userId = useSelector(selectUserId);\n  const dispatch = useDispatch();\n\n\n  useEffect(() => {\n    dispatch(loadCategories());\n    dispatch(loadAccounts());\n  }, [dispatch]);\n\n  return (\n    <div className={classes.LayoutContainer}>\n      <main className={classes.LayoutMain}>\n        <Auth />\n        {props.children}\n        <Menu\n          categories={allCategories}\n          accounts={allAccounts}\n          userId={userId}\n        />\n      </main>\n    </div>\n  )\n}\n\nexport default Layout;\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport {useSelector, useDispatch} from 'react-redux';\nimport {clickButton, isButtonClick} from '../../reducers/transactions/transactions-slice'\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n  const dispatch = useDispatch();\n  const clickAddButton = useSelector(isButtonClick);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    if (clickAddButton) {\n      dispatch(clickButton());\n    }\n    // eslint-disable-next-line\n  }, [pathname]);\n\n  return null;\n}\n","import React from 'react';\nimport classes from './CloseButton.module.css';\n\nconst CloseButton = ({onClick}) => {\n  return (\n    <span className={classes.CloseBtn} onClick={onClick}/>\n  )\n}\n\nexport default CloseButton;\n","import {useSelector, useDispatch} from 'react-redux';\nimport {setSearchTerm, selectSearchTerm, clearSearchTerm} from '../../reducers/search/search-slice';\nimport CloseButton from '../UI/CloseButton/CloseButton';\nimport classes from './Search.module.css';\n\nfunction Search() {\n  const searchTerm = useSelector(selectSearchTerm);\n  const dispatch = useDispatch();\n\n  const onSearchTermChangeHandler = (e) => {\n    const userInput = e.target.value;\n    dispatch(setSearchTerm(userInput));\n  };\n\n  const onClearSearchTermHandler = () => {\n    dispatch(clearSearchTerm());\n  };\n\n  return (\n    <section className={classes.Search}>\n      <input\n        type=\"text\"\n        name=\"search\"\n        placeholder=\"Search by category\"\n        value={searchTerm}\n        onChange={onSearchTermChangeHandler}\n      />\n      {searchTerm.length > 0 && (\n        <CloseButton onClick={onClearSearchTermHandler}/>\n      )}\n    </section>\n  );\n};\n\nexport default Search;\n","import React, { useState, useEffect } from 'react';\nimport classes from './Balance.module.css';\n\nfunction Balance({transactions}) {\n\n  const [balanceContainer, setBalanceContainer] = useState(classes.BalanceContainer)\n  const [balance, setBalance] = useState(classes.Balance)\n\n  const listenScrollEvent = () => {\n    if (window.scrollY < 60) {\n      setBalanceContainer(classes.BalanceContainer);\n      setBalance(classes.Balance);\n    } else if (window.scrollY > 60) {\n      setBalanceContainer(classes.BalanceContainerScroll);\n      setBalance(classes.BalanceScroll)\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('scroll', listenScrollEvent);\n\n    return () =>\n      window.removeEventListener('scroll', listenScrollEvent);\n  }, []);\n\n  const sumExpenses = transactions.map((transaction) => {\n      return transaction.expense ? transaction = +transaction.sum : transaction = null;\n    }).reduce((a, b) => a + b, 0);\n\n  const sumIncomes = transactions.map((item) => {\n    return !item.expense ? item = +item.sum : item = null;\n  }).reduce((a, b) => a + b, 0);\n\n  const currentBalance = Math.round((sumIncomes - sumExpenses) * 100) / 100;\n\n  return (\n    <section className={balance}>\n      <div className={`${balanceContainer}`}>\n        <div>\n          <p>Your balance:</p>\n          <p className={classes.BalanceAmount}>{currentBalance} </p>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default Balance;\n","import React from 'react';\nimport {useState} from 'react';\nimport {useDispatch} from 'react-redux';\nimport {deleteTransaction, loadTransactions} from '../../../../reducers/transactions/transactions-slice';\nimport {CSSTransition} from 'react-transition-group';\nimport classes from '../ListContainer.module.css';\n\nfunction TransactionsItem({categoryTitle, accountTitle, expense, sum, id, ...rest}) {\n  const dispatch = useDispatch();\n  const [showDeleteBtn, setShowDeleteBtn] = useState(false);\n\n  const onClickDeleteButton = ({target}) => {\n    const id = target.id;\n\n    const confirm = window.confirm(\"Are you sure?\");\n\n    if (confirm) {\n      dispatch(deleteTransaction(id));\n      dispatch(loadTransactions());\n    }\n  };\n\n  const handleDeleteButtonToggle = () => {\n    setShowDeleteBtn(!showDeleteBtn)\n  };\n\n  const nodeRef = React.useRef(null);\n\n  return (\n    <CSSTransition\n      {...rest}\n      classNames={{\n        enter: `${classes.enter}`,\n        enterActive: `${classes.enterActive}`,\n        exit: `${classes.exit}`,\n        exitActive: `${classes.exitActive}`,\n        exitDone: `${classes.exitDone}`,\n      }}\n      timeout={300}\n      nodeRef={nodeRef}\n    >\n      <li\n        className={classes.TransactionsItem}\n        onMouseOver={handleDeleteButtonToggle}\n        onMouseOut={handleDeleteButtonToggle}\n        ref={nodeRef}\n      >\n        <div className={classes.TransactionsItemWrapper}>\n          <p>{categoryTitle}</p>\n          <p>{expense ? `-` : `+`}{sum} </p>\n        </div>\n        <div className={classes.TransactionsItemWrapper}>\n          <p className={classes.TransactionsItemAccount}>{accountTitle}</p>\n          <p\n            className={`${classes.TransactionsItemEdit} ${showDeleteBtn ? \"\" : classes.TransactionsHidden}`}\n            id={id}\n            onClick={onClickDeleteButton}\n            >\n          delete</p>\n        </div>\n      </li>\n    </CSSTransition>\n  );\n}\n\nexport default TransactionsItem;\n","import React from 'react';\nimport TransactionItem from \"./Item\";\nimport {TransitionGroup} from 'react-transition-group';\n\nfunction TransactionsItemsDateGroup({date, transactions}) {\n  const transactionsDay = transactions.filter((transaction) => transaction.date === date);\n\n  return (\n    <TransitionGroup component={'ul'}>\n      {transactionsDay.map((transaction) => (\n        <TransactionItem\n          categoryTitle={transaction.category.title}\n          accountTitle={transaction.account.title}\n          expense={transaction.expense}\n          sum={transaction.sum}\n          id={transaction.id}\n          key={transaction.id}\n        />\n      ))}\n    </TransitionGroup>\n  );\n}\n\nexport default TransactionsItemsDateGroup;\n","import React from 'react';\nimport {\n  formatDay,\n  formatMonthYear,\n  formatWeekday\n} from \"../../../../utils/utils\";\nimport classes from \"../ListContainer.module.css\";\n\nfunction TransactionsDateHeader({date, transactions}) {\n  const transactionsDay = transactions\n    .filter((transaction) => transaction.date === date);\n  const expenseBalance = transactionsDay\n    .filter((transaction) => transaction.expense === true)\n    .map((transaction) => transaction.sum)\n    .reduce((acc, transaction) => acc + transaction, 0);\n  const incomeBalance = transactionsDay\n    .filter((transaction) => transaction.expense === false)\n    .map((transaction) => transaction.sum)\n    .reduce((acc, transaction) => acc + transaction, 0);\n  const overallBalance = Math.round((incomeBalance - expenseBalance) * 100) / 100;\n\n  return (\n    <div className={classes.TransactionsHeader}>\n      <div className={classes.TransactionsDateContent}>\n          <p>{formatDay(date)}</p>\n          <div className={classes.TransactionsDateWrapper}>\n            <p>{formatWeekday(date)}</p>\n            <p>{formatMonthYear(date)}</p>\n          </div>\n        </div>\n        <p>{overallBalance < 0 ? '' : '+'}{overallBalance} </p>\n    </div>\n  );\n}\n\nexport default TransactionsDateHeader;\n","import React from 'react';\nimport {useSelector} from 'react-redux';\nimport {CSSTransition} from 'react-transition-group';\n\nimport {selectFilteredTransactions} from '../../../../reducers/transactions/transactions-slice'\nimport classes from '../ListContainer.module.css';\n\nimport TransactionItemsDateGroup from './DateGroup';\nimport TransactionsDateHeader from './DateHeader';\n\nfunction TransactionsItemsDateGroupWrapper({date, ...rest}) {\n  const transactions = useSelector(selectFilteredTransactions);\n  const nodeRef = React.useRef(null);\n\n  return (\n    <CSSTransition\n      {...rest}\n      classNames={{\n        enter: `${classes.enter}`,\n        enterActive: `${classes.enterActive}`,\n        exit: `${classes.exit}`,\n        exitActive: `${classes.exitActive}`,\n        exitDone: `${classes.exitDone}`,\n      }}\n      timeout={300}\n      key={date}\n      nodeRef={nodeRef}\n    >\n      <li ref={nodeRef}>\n        <TransactionsDateHeader\n          date={date}\n          transactions={transactions}\n        />\n\n        <TransactionItemsDateGroup\n          date={date}\n          transactions={transactions}\n        />\n      </li>\n    </CSSTransition>\n  );\n}\n\nexport default TransactionsItemsDateGroupWrapper;\n","import React from 'react';\nimport {useSelector} from 'react-redux';\nimport {TransitionGroup} from 'react-transition-group';\n\nimport {selectFilteredTransactions} from '../../../../reducers/transactions/transactions-slice'\nimport TransactionsItemsDateGroupWrapper from './DateGroupWrapper';\nimport {formatMonth} from \"../../../../utils/utils\";\nimport classes from \"../ListContainer.module.css\";\n\nfunction TransactionsItemsMonthGroup({month}) {\n  const transactions = useSelector(selectFilteredTransactions);\n  const transactionsDates = transactions\n    .filter((transaction) => formatMonth(transaction.date) === month)\n    .map((transaction) => transaction.date);\n  const nodeRef = React.useRef(null);\n\n  return (\n    <ul className=\"transactions__list\">\n      <p className={classes.TransactionsMonth} ref={nodeRef}>{month}</p>\n      <TransitionGroup>\n        {transactionsDates.map((transactionDate) =>\n          (\n            <TransactionsItemsDateGroupWrapper\n              date={transactionDate}\n              key={transactionDate}\n            />\n          )\n        )}\n      </TransitionGroup>\n    </ul>\n  );\n}\n\nexport default TransactionsItemsMonthGroup;\n","import React from \"react\";\nimport {useSelector} from 'react-redux';\n\nimport {selectFilteredTransactions} from '../../../reducers/transactions/transactions-slice'\nimport {formatMonth} from \"../../../utils/utils\";\n\nimport TransactionsItemsMonthGroup from \"./Items/MonthGroup\";\n\nfunction TransactionsListContainer() {\n  const transactions = useSelector(selectFilteredTransactions);\n  const months = [...new Set(transactions\n    .map(date => formatMonth(date.date)))];\n\n  return (\n    <section className=\"transactions\">\n      {months.map((month) =>\n        <TransactionsItemsMonthGroup month={month} key={month} />\n      )}\n    </section>\n  );\n}\n\nexport default TransactionsListContainer;\n","import React, {useEffect} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\n\nimport {\n  loadTransactions,\n  selectAllTransactionsState,\n  showButton,\n} from '../../reducers/transactions/transactions-slice'\n\nimport Search from '../../components/Search/Search';\nimport Balance from '../../components/Balance/Balance';\nimport TransactionsListContainer from '../../components/Transactions/List/ListContainer';\n\nfunction Transactions() {\n  const allTransactions = useSelector(selectAllTransactionsState);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(showButton());\n    dispatch(loadTransactions());\n    return () => {\n      dispatch(showButton());\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <>\n      <Balance transactions={allTransactions} />\n      {\n        !!allTransactions.length && <Search />\n      }\n      <TransactionsListContainer />\n    </>\n  );\n}\n\nexport default Transactions;\n","import React from 'react';\nimport classes from './MonthBalance.module.css';\nimport {formatMonth, formatYear} from '../../../utils/utils'\n\nfunction WidgetsMonthBalance({currentYear, currentMonth, transactions, }) {\n  const filteredTransactions = transactions\n    .filter((transaction) => formatYear(transaction.date) === currentYear)\n    .filter((transaction) => formatMonth(transaction.date) === currentMonth);\n\n  const sumExpenses = filteredTransactions.map((transaction) => {\n      return transaction.expense ? transaction = +transaction.sum : transaction = null;\n    }).reduce((a, b) => a + b, 0).toFixed(2);\n\n  const sumIncomes = filteredTransactions.map((item) => {\n    return !item.expense ? item = +item.sum : item = null;\n  }).reduce((a, b) => a + b, 0).toFixed(2);\n\n  return (\n    <section className={classes.MonthBalance}>\n      <h2>{currentMonth}</h2>\n      <ul className={classes.List}>\n        <li className={classes.Wrapper}>\n          <p>incomes:</p>\n          <p className={classes.Balance}>+{sumIncomes} </p>\n        </li>\n        <li className={classes.Wrapper}>\n          <p>expenses:</p>\n          <p className={classes.Balance}>-{sumExpenses} </p>\n        </li>\n      </ul>\n    </section>\n  )\n}\n\nexport default WidgetsMonthBalance;\n","import React from 'react';\nimport classes from './Indicator.module.css';\n\nfunction WidgetsMonthExpensesIndicator({\n  excessPercent,\n  balanceOfCurrent,\n  totalPercent,\n  transactionsSum,\n  type,\n  title\n  }) {\n  return (\n    <>\n      <div className={classes.IndicatorWrapper}>\n\n        {/* Indicator */}\n        <div\n          className={classes.TotalExpenses}\n          style={{width: `${totalPercent}%`}}\n        ></div>\n        <div\n          className={classes.IndicatorTotal}\n          style={{width: `${100 - totalPercent}%`}}\n        ></div>\n        <div\n          className={\n              `${\n                type === 'incomes'\n                  ? classes.IndicatorIncomes\n                  : classes.IndicatorExpenses\n              }`\n            }\n          style={{width: `${excessPercent}%`}}\n        ></div>\n\n        {/* Contents */}\n        <p className={\n            title === 'Incomes' || title === 'Expenses'\n              ? classes.TotalTitle\n              : classes.CategoryTitle\n          }>\n          {title}\n        </p>\n        <div className={classes.TotalSumWrapper}>\n          <p className={classes.TotalSumAverage}>{balanceOfCurrent}</p>\n          <p className={\n              title === 'Incomes' || title === 'Expenses'\n              ? classes.TotalSum\n              : classes.Balance\n            }>\n            {type === 'incomes' ? '+' : '-'}\n            {transactionsSum}\n          </p>\n        </div>\n\n      </div>\n    </>\n  )\n}\n\nexport default WidgetsMonthExpensesIndicator;\n","export const getSum = (transactions, type) => {\n    return transactions\n      .map((transaction) => (type === 'expenses' ? transaction.expense : !transaction.expense)\n      ? transaction = +transaction.sum\n      : transaction = null)\n      .reduce((acc, sum) => acc + sum, 0).toFixed(2);\n}\n\nexport const getBalance = (category, type, transactions) => {\n  const balance = transactions\n    .filter((transaction) => transaction.category.title === category)\n    .map((transaction) => (type === 'incomes' ? !transaction.expense : transaction.expense) ? transaction = +transaction.sum : transaction = null)\n    .reduce((acc, sum) => acc + sum, 0);\n\n    return balance.toFixed(2);\n}\n\nexport const MOTH_COUNT = 12;\n\nexport const getMonthAverageSum = (sum) => (sum / MOTH_COUNT).toFixed(2);\nexport const getTotalPercentPerMonth = (balance, sum) => (balance / getMonthAverageSum(sum) * 100).toFixed(2);\n","import React from 'react';\nimport Indicator from './Indicator/Indicator';\nimport classes from './Item.module.css';\nimport {getBalance} from '../utils';\nimport {formatMonth} from '../../../../utils/utils';\n\nfunction WidgetsMonthExpensesItem(\n    {\n      categories, excessPercent,\n      excessCategoryPercent, totalPercent,\n      totalCategoryPercent, balanceOfCurrent,\n      balanceCategoryOfCurrent, categoryPercent,\n      transactionsSum, type, title,\n      monthTransactions,\n      month\n    }\n  ) {\n\n  const daysAmount = new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0).getDate();\n  const currentDay = new Date().getDate();\n  const currentMonth = formatMonth(new Date());\n  const currentDayStep = (currentDay / daysAmount * 100).toFixed(2);\n  const isShow = month === currentMonth;\n\n  return (\n    <section className={classes.MonthExpensesItem}>\n      {\n        isShow &&\n          <div className={classes.DayIndicatorWrapper}>\n            <div className={classes.DayIndicator} style={{left: `${currentDayStep}%`}}>\n              <p className={\n                `${classes.DayIndicatorDate} ${currentDay > 15 ? classes.Left : classes.Right}`\n                }>Today is  {currentMonth} {currentDay}th</p>\n            </div>\n          </div>\n      }\n      <Indicator\n        excessPercent={excessPercent}\n        balanceOfCurrent={balanceOfCurrent}\n        totalPercent={totalPercent}\n        transactionsSum={transactionsSum}\n        type={type}\n        title={title}\n      />\n\n      <ul className={classes.List}>\n        {categories.map((category) => (\n            <li className={classes.Wrapper} key={category}>\n              <Indicator\n                excessPercent={excessCategoryPercent(category, type)}\n                balanceOfCurrent={balanceCategoryOfCurrent(category, type)}\n                totalPercent={totalCategoryPercent(category, type)}\n                transactionsSum={getBalance(category, type, monthTransactions)}\n                type={type}\n                title={`${categoryPercent(getBalance(category, type, monthTransactions), transactionsSum)}%\n                  ${category}`}\n              />\n            </li>\n          ))\n        }\n      </ul>\n    </section>\n  )\n}\n\nexport default WidgetsMonthExpensesItem;\n","export const TRANSACTION_TYPE = {\n    EXPENSES: 'expenses',\n    INCOMES: 'incomes',\n  }\n","import {\n  getMonthAverageSum,\n  getSum,\n  getTotalPercentPerMonth,\n  getBalance,\n  MOTH_COUNT\n} from \"./utils\";\nimport {TRANSACTION_TYPE} from './const';\n\nexport class Statistics {\n  constructor(transactions, type, budget, monthTransactions, currentMonth, currentYear, userId, allCategories) {\n    this.transactions = transactions;\n    this.allCategories = allCategories;\n    this.type = type;\n    this.budget = budget;\n    this.monthTransactions = monthTransactions;\n    this.currentMonth = currentMonth;\n    this.currentYear = currentYear;\n    this.category = this.type[0].toUpperCase() + this.type.slice(1);\n    this.userId = userId;\n    this.isBudget = this.budget && this.budget[currentYear] && this.budget[currentYear][currentMonth];\n  }\n\n  _getExcessPercent = (balance, sum) => {\n    const percent = getTotalPercentPerMonth(balance, sum);\n    const expensesPercent = percent > 100 ? percent - 100 : 0;\n\n    return expensesPercent;\n  }\n\n  _getExcessBudgetPercent = (balance, sum) => {\n    const percent = balance / sum * 100;\n    const expensesPercent = percent > 100 ? percent - 100 : 0;\n\n    return expensesPercent;\n  }\n\n  _getTotalPercent(balance, sum) {\n    const percent = getTotalPercentPerMonth(balance, sum);\n    let expensesPercent = percent >= 100\n      ? 100\n      : percent;\n\n    return expensesPercent === 0 ? 1 : expensesPercent;\n  }\n\n  categories(type) {\n    const uniqueCategory = [...new Set(this.monthTransactions\n    .filter((transaction) => (type === TRANSACTION_TYPE.EXPENSES ? transaction.expense : !transaction.expense)\n      ? transaction.sum !== 0\n      : transaction = null)\n    .map(transaction => transaction.category.title))];\n\n    const sortCategory = uniqueCategory\n      .map((category) => this.monthTransactions\n      .map((transaction) => transaction.category.title === category\n        ? (type === 'expenses' ? transaction.expense : !transaction.expense)\n          ? transaction = {[category]: +transaction.sum}\n          : transaction = null\n        : null)\n        .filter((item) => item ? item : null)\n        .reduce((acc, sum) => {\n          return {\n            [category]: acc[category] + sum[category]\n          }\n        }))\n        .sort((a, b) => Object.values(b) - Object.values(a))\n        .map((item) => Object.keys(item)).flat()\n\n    return sortCategory;\n  }\n\n  sum() {\n    return getSum(this.monthTransactions, this.type);\n  }\n\n  averageSum() {\n    return !this.isBudget\n    ? (getMonthAverageSum(getSum(this.transactions, this.type)))\n    : this.budget[this.currentYear][this.currentMonth][this.type][this.category];\n  }\n\n  excessPercent() {\n    return this.isBudget && this.budget[this.currentYear][this.currentMonth][this.type][this.category]\n    ? this._getExcessBudgetPercent(getSum(this.monthTransactions, this.type), this.averageSum())\n    : this._getExcessPercent(getSum(this.monthTransactions, this.type), getSum(this.transactions, this.type));\n  }\n\n  balanceOfCurrent() {\n    const averageValue =  (this.averageSum() - getSum(this.monthTransactions, this.type)).toFixed(2);\n\n    if (!this.isBudget) return;\n\n    return averageValue > 0\n      ? `${averageValue} below ${this.budget[this.currentYear][this.currentMonth][this.type][this.category] ? \"budget\" : \"typical\"}`\n      : isNaN(averageValue) ? \"\"\n      : averageValue === '0.00' ? \"equal to budget\"\n      : `${Math.abs(averageValue)} above ${this.budget[this.currentYear][this.currentMonth][this.type][this.category] ? \"budget\" : \"typical\"}`;\n  }\n\n  totalPercent() {\n    return this.isBudget && this.budget[this.currentYear][this.currentMonth][this.type][this.category]\n    ? (((getSum(this.monthTransactions, this.type) / this.averageSum()) * 100) >= 100\n      ? 100\n      : (getSum(this.monthTransactions, this.type) / this.averageSum()) * 100)\n    : this._getTotalPercent(getSum(this.monthTransactions, this.type), getSum(this.transactions, this.type));\n  }\n\n  percentCategory(balance, sum) {\n    let percent = (balance / sum * 100).toFixed(2);\n    const expensesPercent = percent > 99.9 ? 100 : percent;\n\n    return expensesPercent;\n  }\n\n  excessCategoryPercent = (category, type) => {\n    const balancePerCategory = getBalance(category, type, this.transactions);\n    const balance = getBalance(category, type, this.monthTransactions);\n\n    const isIncomes = type === \"incomes\" ? true : false\n\n    const categoryId = this.allCategories\n      .filter((item) => item.incomes === isIncomes)\n      .filter((item) => item.title === category)\n      .map((item) => item.id).join();\n\n    const budget = this.isBudget && this.budget[this.currentYear][this.currentMonth][this.type][categoryId];\n\n    const percent = budget\n      ? balance / budget * 100\n      : getTotalPercentPerMonth(balance, balancePerCategory);\n    const expensesPercent = percent > 100 ? percent - 100 : 0;\n\n    return expensesPercent;\n  }\n\n  balanceCategoryOfCurrent = (category, type) => {\n    const balancePerCategory = getBalance(category, type, this.transactions);\n    const transactionsSumPerCategory = getBalance(category, type, this.monthTransactions);\n\n    const isIncomes = type === \"incomes\" ? true : false\n\n    const categoryId = this.allCategories\n      .filter((item) => item.incomes === isIncomes)\n      .filter((item) => item.title === category)\n      .map((item) => item.id).join();\n\n    const budget = this.isBudget && this.budget[this.currentYear][this.currentMonth][this.type][categoryId];\n\n    const averageValue = budget\n    ? (budget - transactionsSumPerCategory).toFixed(2)\n    : ((balancePerCategory / MOTH_COUNT) - transactionsSumPerCategory).toFixed(2);\n\n    return averageValue > 0\n      ? `${averageValue} below ${budget ? \"budget\" : \"typical\"}`\n      : averageValue === '0.00' ? \"equal to budget\"\n      : `${Math.abs(averageValue)} above ${budget ? \"budget\" : \"typical\"}`\n  }\n\n  totalCategoryPercent = (category, type) => {\n    const balancePerCategory = getBalance(category, type, this.transactions);\n    const balance = getBalance(category, type, this.monthTransactions);\n\n    const isIncomes = type === \"incomes\" ? true : false\n\n    const categoryId = this.allCategories\n      .filter((item) => item.incomes === isIncomes)\n      .filter((item) => item.title === category)\n      .map((item) => item.id).join();\n\n    const budget = this.isBudget && this.budget[this.currentYear][this.currentMonth][this.type][categoryId];\n\n    const percent = budget\n      ? balance / budget * 100\n      : getTotalPercentPerMonth(balance, balancePerCategory);\n    let expensesPercent = percent >= 100\n      ? 100\n      : percent;\n\n    return expensesPercent === 0 ? 0 : expensesPercent;\n  }\n}\n","import React from 'react';\nimport WidgetsMonthExpensesItem from './Items/Item'\nimport {formatMonth, formatYear} from '../../../utils/utils'\nimport {Statistics} from './Statistics';\nimport {TRANSACTION_TYPE} from './const';\n\nfunction WidgetsMonthExpenses({currentYear, currentMonth, transactions, budget, userId, allCategories}) {\n  const monthTransactions = transactions\n    .filter((transaction) => formatYear(transaction.date) === currentYear)\n    .filter((transaction) => formatMonth(transaction.date) === currentMonth);\n\n  const expenses = new Statistics(transactions, TRANSACTION_TYPE.EXPENSES, budget, monthTransactions, currentMonth, currentYear, userId, allCategories);\n  const incomes = new Statistics(transactions, TRANSACTION_TYPE.INCOMES, budget, monthTransactions, currentMonth, currentYear, userId, allCategories);\n\n  return (\n    <>\n      <WidgetsMonthExpensesItem\n        categories={expenses.categories(TRANSACTION_TYPE.EXPENSES)}\n\n        categoryPercent={expenses.percentCategory}\n        excessCategoryPercent={expenses.excessCategoryPercent}\n        balanceCategoryOfCurrent={expenses.balanceCategoryOfCurrent}\n        totalCategoryPercent={expenses.totalCategoryPercent}\n\n        excessPercent={expenses.excessPercent()}\n        balanceOfCurrent={expenses.balanceOfCurrent()}\n        totalPercent={expenses.totalPercent()}\n        transactionsSum={expenses.sum()}\n\n        monthTransactions={monthTransactions}\n\n        type={TRANSACTION_TYPE.EXPENSES}\n        title={\"Expenses\"}\n        month={currentMonth}\n      />\n\n      <WidgetsMonthExpensesItem\n        categories={incomes.categories(TRANSACTION_TYPE.INCOMES)}\n\n        categoryPercent={incomes.percentCategory}\n        excessCategoryPercent={incomes.excessCategoryPercent}\n        balanceCategoryOfCurrent={incomes.balanceCategoryOfCurrent}\n        totalCategoryPercent={incomes.totalCategoryPercent}\n\n        excessPercent={incomes.excessPercent()}\n        balanceOfCurrent={incomes.balanceOfCurrent()}\n        totalPercent={incomes.totalPercent()}\n        transactionsSum={incomes.sum()}\n\n        monthTransactions={monthTransactions}\n\n        type={TRANSACTION_TYPE.INCOMES}\n        title={\"Incomes\"}\n        month={currentMonth}\n      />\n    </>\n  )\n}\n\nexport default WidgetsMonthExpenses;\n","// export const MONTH_EXPENSES = {\n//   JANUARY: 'January',\n//   FEBRUARY: 'February',\n//   MARCH: 'March',\n//   APRIL: 'April',\n//   MAY: 'May',\n//   JUNE: 'June',\n//   JULY: 'July',\n//   AUGUST: 'August',\n//   SEPTEMBER: 'September',\n//   OCTOBER: 'October',\n//   NOVEMBER: 'November',\n//   DECEMBER: 'December'\n// }\n\nexport const MONTH_EXPENSES = [\n  'January', 'February', 'March',\n  'April', 'May', 'June',\n  'July', 'August', 'September',\n  'October', 'November', 'December'\n]\n","import React from 'react';\nimport classes from './Indicator.module.css';\n\nfunction WidgetsYearExpensesIndicator({year, month, getPercent, type}) {\n  let cls = [];\n\n  type === \"expenses\" ? cls.push(classes.Expenses) : cls.push(classes.Incomes);\n\n  return (\n    <div\n      className={cls.join(' ')}\n      id={month}\n      style={{height: `${getPercent(year, month, type)}%`}}\n    ></div>\n  )\n}\n\nexport default WidgetsYearExpensesIndicator;\n","import React from 'react';\nimport {useDispatch} from 'react-redux';\nimport {updateMonth, updateYear} from '../../../reducers/transactions/transactions-slice';\n\nimport {formatMonth, formatYear} from '../../../utils/utils';\nimport classes from './YearExpenses.module.css';\nimport {MONTH_EXPENSES} from './constant';\n\nimport Indicator from './Indicator/Indicator';\n\nfunction WidgetsYearExpenses({currentYear, currentMonth, transactions}) {\n  const dispatch = useDispatch();\n\n  const getMaxAmountPerYear = (year, type) => {\n    const months = [...new Set(transactions\n      .filter((transaction) => formatYear(transaction.date) === year)\n      .map((transaction) => formatMonth(transaction.date)))];\n\n    const amount = Math.max(...months\n      .map((month) => transactions\n      .map((transaction) => formatMonth(transaction.date) === month\n        ? (type === 'expenses' ? transaction.expense : !transaction.expense)\n          ? transaction = +transaction.sum\n          : transaction = null\n        : null)\n      .reduce((acc, sum) => acc + sum, 0)))\n\n    return amount;\n  }\n\n  const maxMonthExpensePerYear = getMaxAmountPerYear(currentYear, 'expenses');\n  const maxMonthIncomePerYear = getMaxAmountPerYear(currentYear, 'income');\n\n  const maxMonthTransaction = Math.max(maxMonthExpensePerYear, maxMonthIncomePerYear)\n\n  const getPercent = (year, month, type) => {\n    const incomes = transactions\n    .filter((transaction) => formatYear(transaction.date) === year)\n    .filter((transaction) => formatMonth(transaction.date) === month)\n    .map((transaction) => (type === 'expenses' ? transaction.expense : !transaction.expense)\n    ? transaction = +transaction.sum\n    : transaction = null)\n    .reduce((acc, sum) => acc + sum, 0);\n\n    const percent = (incomes / maxMonthTransaction * 100);\n    let incomesPercent = percent >= 100 ? percent : percent;\n\n    return incomesPercent;\n  }\n\n  const monthHandler = ({target}) => {\n    dispatch(updateMonth(target.id));\n  };\n\n  const handleClick = ({target}) => {\n    const id = target.id;\n    let year = +currentYear;\n\n    id === \"prev\" ? --year : ++year\n\n    dispatch(updateYear(String(year)));\n  };\n\n\n  return (\n    <>\n      <section className={classes.YearExpenses}>\n        <button\n          id={'prev'}\n          className={classes.LeftBtn}\n          onClick={handleClick}\n        ></button>\n\n        <h4>{currentYear}</h4>\n        <div className={classes.Wrapper}>\n          {MONTH_EXPENSES.map((month) => (\n            <div\n              className={classes.ListWrapper}\n              key={month}\n              onClick={monthHandler}\n            >\n              <div\n                className={`${classes.List} ${month === currentMonth ? classes.Active : ''}`}\n                id={month}\n              >\n                <Indicator\n                  year={currentYear}\n                  month={month}\n                  getPercent={getPercent}\n                  type={\"incomes\"}\n                />\n\n                <Indicator\n                  year={currentYear}\n                  month={month}\n                  getPercent={getPercent}\n                  type={\"expenses\"}\n                />\n              </div>\n              <p id={month}>{month.slice(0, 3)}</p>\n            </div>\n            ))\n          }\n        </div>\n\n        <button\n          id={'next'}\n          className={classes.RightBtn}\n          onClick={handleClick}\n        ></button>\n      </section>\n    </>\n  )\n}\n\nexport default WidgetsYearExpenses;\n","import {addDoc, collection, setDoc, doc, deleteDoc, getDocs} from \"@firebase/firestore\";\nimport db from \"./firebase\";\n\nconst budgetRef = collection(db, \"budgets\");\n\nexport const getAll = async (userId) => {\n  const snapshot = await getDocs(budgetRef, userId);\n  const results = snapshot.docs.filter((doc) => doc.id === userId)\n    .map((doc) => (doc.data()))\n    .find((doc) => doc);\n  return results\n}\n\nexport const create = async (data) => {\n  const {sum, expense, date, categoryId, accountId} = data;\n  const payload = {sum, expense, date, categoryId, accountId};\n  await addDoc(budgetRef, payload);\n}\n\nexport const deleteId = async (id) => {\n    const docRef = doc(budgetRef, id);\n    await deleteDoc(docRef);\n}\n\nexport const update = async (id, budget) => {\n  const docRef = doc(db, \"budgets\", id);\n  const payload = {...budget};\n\n  setDoc(docRef, payload, {merge:true});\n}\n","import {createSlice, createAsyncThunk} from '@reduxjs/toolkit';\nimport {getAll, update} from '../../services/budget.service';\n\nconst getOverall = (budget, type, month, year) => {\n    if (Object.keys(budget[year][month][type]).length === 0) {\n      return;\n    };\n    const upperCase = type[0].toUpperCase() + type.slice(1);\n    const balanceTotal = budget[year][month][type][upperCase];\n    const balanceBudget = Object.values(budget[year][month][type]).reduce((a, b) => +a + +b);\n\n    const overall = Math.abs((!balanceTotal ? 0 : balanceTotal) - balanceBudget);\n\n    return overall;\n  }\n\nexport const loadBudgets = createAsyncThunk(\n  'budgets/loadData',\n  async (userId) => {\n    return await getAll(userId);\n  }\n)\n\nexport const postBudget = createAsyncThunk(\n  'budgets/addData',\n  async ({updatedBudget, userId}) => {\n\n    return await update(userId, updatedBudget);\n  }\n)\n\nexport const budgetSlice = createSlice({\n  name: \"budget\",\n  initialState: {\n    budget: {},\n    budgetUpdated: {},\n  },\n  reducers: {\n    updateBudget: (state, action) => {\n      const type = action.payload.type;\n      const name = action.payload.id;\n      const nameUpperCase = type[0].toUpperCase() + type.slice(1);\n      const value = +action.payload.value;\n      const month = action.payload.month;\n      const year = action.payload.year;\n      let budget = action.payload.updatedBudget;\n\n      let current = {};\n\n      if (!budget) {\n        console.log('1');\n        current[year] = {[month]: {expenses: {}, incomes: {}}};\n\n        let currentYear = {...current[year]};\n        let currentMonth = {...currentYear[month]};\n        currentMonth = {[type]: {}};\n        let currentType = {...currentMonth[type]};\n        currentType[name] = value;\n        currentMonth[type] = currentType;\n        currentYear[month] = {...current[year][month], ...currentMonth};\n\n        current[year] = {...currentYear};\n\n        const overall = getOverall(current, type, month, year).toFixed(2);\n        currentType[nameUpperCase] = overall;\n        currentMonth[type] = currentType;\n        currentYear[month] = {...current[year][month], ...currentMonth};\n        current[year] = {...budget[month], ...currentYear};\n      }\n\n      if (budget && (!budget[year] || !budget[year][month])) {\n        console.log('2');\n        current[year] = {[month]: {expenses: {}, incomes: {}}};\n\n        let currentYear = {...current[year]};\n        let currentMonth = {...currentYear[month]};\n        currentMonth = {[type]: {}};\n        let currentType = {...currentMonth[type]};\n        currentType[name] = value;\n        currentMonth[type] = currentType;\n        currentYear[month] = {...current[year][month], ...currentMonth};\n\n        current[year] = {...budget[year], ...currentYear};\n        current = {...budget, ...current}\n\n        const overall = getOverall(current, type, month, year).toFixed(2);\n        currentType[nameUpperCase] = overall;\n        currentMonth[type] = currentType;\n        currentYear[month] ={...current[year][month], ...currentMonth};\n        current[year] = {...budget[year], ...currentYear};\n        current = {...budget, ...current}\n      }\n\n\n      if (budget && budget[year] && budget[year][month]) {\n        console.log('3');\n\n        current = {...JSON.parse(JSON.stringify(budget))};\n        let currentYear = current[year];\n        let currentMonth = {...currentYear[month]};\n        currentMonth = {[type]: {}};\n        let currentType = {...currentMonth[type]};\n        currentType[name] = value;\n        currentMonth[type] = {...budget[year][month][type], ...currentType};\n        currentYear[month] = {...budget[year][month], ...currentMonth};\n        current[year] = {...budget[month], ...currentYear};\n\n        const overall = getOverall(current, type, month, year).toFixed(2);\n        currentType[nameUpperCase] = overall;\n        currentMonth[type] = {...budget[year][month][type], ...currentType};\n        currentYear[month] = {...budget[year][month], ...currentMonth};\n        current[year] = {...budget[month], ...currentYear};\n      }\n\n      return {\n        ...state,\n        budgetUpdated: {...current}\n      };\n    },\n  },\n\n  extraReducers: {\n    [loadBudgets.pending]: (state) => {\n    },\n    [loadBudgets.fulfilled]: (state, action) => {\n      state.budget = action.payload;\n      state.budgetUpdated = action.payload;\n    },\n    [loadBudgets.rejected]: (state) => {\n    },\n  },\n});\n\nexport const selectAllBudgetState = (state) => state.budget.budget;\nexport const selectUpdatedBudgetState = (state) => state.budget.budgetUpdated;\n\nexport const {updateBudget} = budgetSlice.actions;\nexport default budgetSlice.reducer;\n","import React from 'react';\nimport classes from './Item.module.css';\n\nfunction WidgetsBudgetItem({title, value, onChange, id, dataType}) {\n  const isHeader = title === \"Expenses\" || title === \"Incomes\"\n  return (\n    <div className={classes.Block}>\n      <p className={isHeader ? classes.Title : classes.SubTitle}>{title}</p>\n      {isHeader ? <p className={classes.Description}>Plan</p> : ''}\n      <input\n        className={isHeader ? classes.InputDisabled : classes.Input }\n        type=\"number\"\n        // step=\"0.01\"\n        id={id}\n        name={title}\n        placeholder={\"0.00\"}\n        value={value}\n        onChange={onChange}\n        // disabled={isHeader}\n        data-type={dataType}\n      />\n    </div>\n  )\n}\n\nexport default WidgetsBudgetItem;\n","import React, {useEffect, useRef} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\n\nimport {loadTransactions} from '../../../reducers/transactions/transactions-slice';\nimport {selectAllCategoriesState} from '../../../reducers/categories/categories-slice';\nimport {postBudget, loadBudgets, updateBudget} from '../../../reducers/budget/budget-slice';\n\nimport classes from './Budget.module.css';\nimport WidgetsBudgetItem from './Items/Item';\n\nfunction WidgetsBudget({currentYear, currentMonth, budget, userId, updatedBudget}) {\n  const dispatch = useDispatch();\n  const categories = useSelector(selectAllCategoriesState);\n\n\n  // useEffect(() => {\n  // }, [updatedBudget]);\n\n  const usePrevious = (value) => {\n    const ref = useRef();\n    useEffect(() => {\n      ref.current = value;\n    });\n    return ref.current;\n  }\n\n  const prevBudget = JSON.stringify(usePrevious(budget)) === JSON.stringify(updatedBudget);\n\n  const onInputChange = ({target}) => {\n    const id = target.id;\n    const type = target.getAttribute('data-type');\n    const name = target.name;\n    const value = target.value;\n    const month = currentMonth;\n    const year = currentYear;\n\n    dispatch(updateBudget({id, type, name, value, year, month, userId, updatedBudget, categories}));\n  }\n\n  const onEditClick = () => {\n    dispatch(postBudget({updatedBudget, userId}));\n    dispatch(loadBudgets(userId));\n    dispatch(loadTransactions());// ??? update edit button\n  }\n\n  const isBudget = (updatedBudget || '') && (updatedBudget[currentYear] || '') && (updatedBudget[currentYear][currentMonth] || '');\n\n  return (\n    <section className={classes.BudgetWrapper}>\n      <div className={classes.HeaderWrapper}>\n        <p className={classes.Header}>Budget</p>\n        <button\n            className={classes.Button}\n            type=\"submit\"\n            onClick={onEditClick}\n            disabled={prevBudget}\n          >\n            Update\n          </button>\n      </div>\n\n      <div className={classes.Content}>\n        <WidgetsBudgetItem\n          title={\"Expenses\"}\n          dataType={\"expenses\"}\n          value={isBudget && (updatedBudget[currentYear][currentMonth][\"expenses\"][\"Expenses\"] || '')}\n          onChange={onInputChange}\n        />\n\n        {categories\n          .filter((category) => !category.incomes)\n          .sort((a, b) => isBudget && updatedBudget[currentYear][currentMonth][\"expenses\"][b.id] - updatedBudget[currentYear][currentMonth][\"expenses\"][a.id])\n          .map((category) => (\n            <WidgetsBudgetItem\n              key={category.id}\n              title={category.title}\n              dataType={\"expenses\"}\n              id={category.id}\n              value={isBudget && (updatedBudget[currentYear][currentMonth][\"expenses\"][category.id] || '')}\n              onChange={onInputChange}\n            />\n          ))\n        }\n      </div>\n\n      <div className={classes.Content}>\n        <WidgetsBudgetItem\n          title={\"Incomes\"}\n          dataType={\"incomes\"}\n          value={isBudget && (updatedBudget[currentYear][currentMonth][\"incomes\"][\"Incomes\"]  || '')}\n          onChange={onInputChange}\n        />\n\n        {categories\n          .filter((category) => category.incomes)\n          .sort((a, b) => isBudget && updatedBudget[currentYear][currentMonth][\"incomes\"][b.id] - updatedBudget[currentYear][currentMonth][\"incomes\"][a.id])\n          .map((category) => (\n            <WidgetsBudgetItem\n              key={category.id}\n              title={category.title}\n              id={category.id}\n              dataType={\"incomes\"}\n              value={isBudget && (updatedBudget[currentYear][currentMonth][\"incomes\"][category.id]  || '')}\n              onChange={onInputChange}\n            />\n          ))\n        }\n      </div>\n    </section>\n  )\n}\n\nexport default WidgetsBudget;\n","import React, {useEffect} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport WidgetsMonthBalance from '../../components/Widgets/MonthBalance/MonthBalance';\nimport WidgetsMonthExpenses from '../../components/Widgets/MonthExpenses/MonthExpenses';\nimport WidgetsYearExpenses from '../../components/Widgets/YearExpenses/YearExpenses';\nimport WidgetsBudget from '../../components/Widgets/Budget/Budget';\nimport {selectUserId} from '../../reducers/user/user-slice';\nimport classes from './Statistics.module.css';\nimport {currentMonth, currentYear} from '../../reducers/transactions/transactions-slice';\nimport {\n  loadTransactions,\n  selectAllTransactionsState\n} from '../../reducers/transactions/transactions-slice';\nimport {selectAllBudgetState, loadBudgets, selectUpdatedBudgetState} from '../../reducers/budget/budget-slice';\nimport {selectAllCategoriesState} from '../../reducers/categories/categories-slice';\n\nfunction Statistics() {\n  const allTransactions = useSelector(selectAllTransactionsState);\n  const allCategories = useSelector(selectAllCategoriesState);\n  const month = useSelector(currentMonth);\n  const year = useSelector(currentYear);\n  const budget = useSelector(selectAllBudgetState);\n  const updatedBudget = useSelector(selectUpdatedBudgetState);\n  const dispatch = useDispatch();\n  const userId = useSelector(selectUserId);\n  const newBudget = budget && Object.keys(budget).length !== 0 && budget;\n  const newUpdatedBudget = updatedBudget && Object.keys(updatedBudget).length !== 0 && updatedBudget;\n\n  useEffect(() => {\n    dispatch(loadBudgets(userId));\n    dispatch(loadTransactions());\n    // eslint-disable-next-line\n  }, [userId]);\n\n  return (\n    <section className={classes.Statistics}>\n      <WidgetsMonthBalance currentYear={year} currentMonth={month} transactions={allTransactions} />\n      <WidgetsYearExpenses currentYear={year} currentMonth={month} transactions={allTransactions} />\n      <WidgetsMonthExpenses currentYear={year} currentMonth={month} transactions={allTransactions} budget={newBudget} userId={userId} allCategories={allCategories} />\n      <WidgetsBudget currentYear={year} currentMonth={month} budget={newBudget} updatedBudget={newUpdatedBudget} userId={userId} />\n    </section>\n  )\n}\n\nexport default Statistics;\n","import React from 'react';\nimport classes from './Item.module.css';\n\nfunction SettingsItem({id, onChange, onClickSubmitButton, value, submitTitle, onClickButton, placeholder, onClickDeleteButton, transactionType, onChangeType, title}) {\n  // const htmlFor = `${'checkbox'}-${Math.random()}`;\n  return (\n    <form\n      className={classes.ItemWrapper}\n      onSubmit={onClickSubmitButton}\n    >\n      <input\n        className={classes.Input}\n        type=\"text\"\n        name={value}\n        value={value}\n        id={id}\n        onChange={onChange}\n        placeholder={placeholder}\n      />\n      {\n        value && title !== \"Accounts\" &&\n        <>\n          <div className={classes.Type}>\n            <input\n            type=\"checkbox\"\n            name=\"transactionType\"\n            // placeholder={props.placeholder}\n            id={id}\n            // id={htmlFor}\n            // value\n            // onChange={props.onChange}\n            checked={transactionType}\n            onChange={onChangeType}\n            />\n            <label\n              // htmlFor={htmlFor}\n            >Incomes</label>\n          </div>\n        </>\n      }\n      <div className={classes.ButtonWrapper}>\n        {submitTitle && <button\n          className={classes.Button}\n          id={id}\n          type=\"submit\"\n          onClick={onClickButton}\n          disabled={!value}\n        >\n          {submitTitle}\n        </button>}\n        {onClickDeleteButton && <button\n          id={id}\n          className={classes.Button}\n          type=\"button\"\n          onClick={onClickDeleteButton}\n        >\n          Delete\n        </button>}\n      </div>\n    </form>\n  )\n}\n\nexport default SettingsItem;\n","import React from 'react';\nimport classes from '../Settings.module.css';\nimport SettingsItem from '../Items/Item';\n\nfunction SettingsBlock({\n  onClickSubmitButton, onClickCreateButton,\n  value, onChange, onClickDeleteButton,\n  items, title, placeholder, onClickEditButton,\n  onChangeType\n}) {\n  return (\n    <section className={classes.Wrapper}>\n      <div className={classes.Content}>\n        <p className={classes.Header}>{title}</p>\n        <SettingsItem\n          onClickSubmitButton={onClickSubmitButton}\n          onClickButton={onClickCreateButton}\n          value={value}\n          submitTitle={\"Create\"}\n          onChange={onChange}\n          onChangeType={onChangeType}\n          placeholder={placeholder}\n          transactionType={null}\n          title={title}\n        />\n\n        {items.map((category) => (\n          <SettingsItem\n            onClickSubmitButton={onClickSubmitButton}\n            value={category.title}\n            // submitTitle={\"Edit\"}\n            onClickButton={onClickEditButton}\n            onChange={onChange}\n            onChangeType={onChangeType}\n            id={category.id}\n            key={category.id}\n            onClickDeleteButton={onClickDeleteButton}\n            transactionType={category.incomes}\n            title={title}\n          />\n          ))\n        }\n      </div>\n    </section>\n  )\n}\n\nexport default SettingsBlock;\n","import React, {useContext, useState} from 'react';\nconst PopupContext = React.createContext();\n\nexport const usePopup = () => {\n  return useContext(PopupContext);\n}\n\nfunction PopupProvider(props) {\n  const [popup, setPopup] = useState(false);\n  const toggle = () => setPopup(prev => !prev);\n\n  return (\n    <PopupContext.Provider value={{\n        visible: popup,\n        toggle\n      }}>\n        {props.children}\n    </PopupContext.Provider>\n  )\n}\n\nexport default PopupProvider;\n","import React, {useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {selectAllCategoriesState, deleteCategory, postCategory, loadCategories, updateCategory} from '../../reducers/categories/categories-slice';\nimport {selectAllAccountsState, updateAccount, deleteAccount, postAccount, loadAccounts} from '../../reducers/accounts/accounts-slice';\nimport { selectUserId } from '../../reducers/user/user-slice';\nimport SettingsBlock from './Blocks/Block';\nimport {usePopup} from '../../hoc/Popup/PopupContext';\n\nfunction Settings() {\n  const dispatch = useDispatch();\n  const categories = useSelector(selectAllCategoriesState);\n  const accounts = useSelector(selectAllAccountsState);\n  const userId = useSelector(selectUserId);\n  const {toggle} = usePopup()\n\n  const [inputCategory, setInputCategory] = useState('');\n  const [inputType, setInputType] = useState(false);\n  const [inputAccount, setInputAccount] = useState('');\n\n  const onChangeType = async ({target}) => {\n    const id = target.id;\n    // const value = target.value;\n    setInputType(target.checked);\n    // const name = target.name;\n\n    // if (name === \"transactionType\") {\n    // setInputType(!inputType);\n    // console.log(` ~ file: Settings.js ~ line 34 ~ onChangeType ~ inputType`, inputType);\n    //   // dispatch(updateCategory({incomes: inputType}));\n    // // }\n\n    if (id) {\n      dispatch(updateCategory({id, incomes: target.checked}));\n      dispatch(loadCategories());\n    }\n  }\n\n  const onChangeCategory = ({target}) => {\n    const id = target.id;\n    const title = target.value;\n    // const name = target.name;\n    const incomes = inputType;\n\n    // if (name === \"transactionType\") {\n    //   setInputType(!title);\n    //   // title ? setInputType(false) : setInputType(!inputType);\n    //   // dispatch(updateCategory({incomes: inputType}));\n    // }\n\n    if (id) {\n      dispatch(updateCategory({id, title, userId, incomes}));\n      dispatch(loadCategories());\n    } else {\n      setInputCategory(title);\n    }\n  }\n\n  const onChangeAccount = ({target}) => {\n    const id = target.id;\n    const title = target.value;\n\n    if (id) {\n      dispatch(updateAccount({id, title, userId}));\n      dispatch(loadAccounts());\n    } else {\n      setInputAccount(title);\n    }\n  }\n\n  const onClickCreateCategoryButton = () => {\n    dispatch(postCategory({title: inputCategory, userId, incomes: inputType}));\n    setInputCategory('');\n    setInputType(false);\n    dispatch(loadCategories());\n  };\n\n  const onClickCreateAccountButton = () => {\n    dispatch(postAccount({title: inputAccount, userId}));\n    setInputAccount('');\n    dispatch(loadAccounts());\n  };\n\n  const onClickEditCategoryButton = ({target}) => {\n    // inputCategory !== '' && dispatch(updateCategory(target.id, inputCategory));\n    // setInputCategory('');\n    dispatch(loadCategories());\n  };\n\n  const onClickEditAccountButton = ({target}) => {\n    // dispatch(updateCategory(inputCategory));\n    // setInputCategory('');\n    // dispatch(loadCategories());\n  };\n\n  function onClickDeleteCategoryButton({target}) {\n    const confirm = window.confirm(\"Are you sure?\");\n\n    if (confirm) {\n      dispatch(deleteCategory(target.id));\n      dispatch(loadCategories());\n    }\n  };\n\n  function onClickDeleteAccountButton({target}) {\n    const confirm = window.confirm(\"Are you sure?\");\n\n    if (confirm) {\n      dispatch(deleteAccount(target.id));\n      dispatch(loadAccounts());\n    }\n  };\n\n  const onClickSubmitButton = (e) => {\n    e.preventDefault();\n  };\n\n  return (\n    <>\n      <SettingsBlock\n        onClickSubmitButton={onClickSubmitButton}\n        onClickCreateButton={onClickCreateCategoryButton}\n        onClickDeleteButton={onClickDeleteCategoryButton}\n        onClickEditButton={onClickEditCategoryButton}\n        value={inputCategory}\n        submitTitle={\"Create\"}\n        onChange={onChangeCategory}\n        onChangeType={onChangeType}\n        items={categories}\n        title={\"Categories\"}\n        placeholder={\"Type the new name for the category\"}\n        transactionType={\"true\"}\n      />\n\n      <SettingsBlock\n        onClickSubmitButton={onClickSubmitButton}\n        onClickCreateButton={onClickCreateAccountButton}\n        onClickDeleteButton={onClickDeleteAccountButton}\n        onClickEditButton={onClickEditAccountButton}\n        value={inputAccount}\n        submitTitle={\"Create\"}\n        onChange={onChangeAccount}\n        onChangeType={onChangeType}\n        items={accounts}\n        title={\"Accounts\"}\n        placeholder={\"Type the new name for the account\"}\n        transactionType={undefined}\n      />\n\n      <button onClick={toggle}>popup</button>\n    </>\n  )\n}\n\nexport default Settings;\n","import React from 'react';\nimport classes from './Popup.module.css';\nimport {usePopup} from './PopupContext';\nimport CloseButton from '../../components/UI/CloseButton/CloseButton';\nimport {CSSTransition} from 'react-transition-group';\n\nfunction Popup({children}) {\n  const popup = usePopup();\n  const {toggle} = usePopup();\n\n  const nodeRef = React.useRef(null);\n\n  // // if (!popup.visible) return null;\n\n  return (\n    <CSSTransition\n      in={popup.visible}\n      timeout={300}\n      classNames={{\n        enterActive: `${classes.EnterActive}`,\n        exitActive: `${classes.ExitActive}`,\n      }}\n      unmountOnExit\n      nodeRef={nodeRef}\n    >\n      <section className={classes.Container} ref={nodeRef}>\n        <CloseButton onClick={toggle}/>\n        {children}\n      </section>\n    </CSSTransition>\n  )\n}\n\nexport default Popup;\n","import React from 'react';\nimport SettingsScreen from '../../components/Settings/Settings'\nimport classes from './Settings.module.css';\nimport PopupProvider from '../../hoc/Popup/PopupContext';\nimport Popup from '../../hoc/Popup/Popup';\n\nfunction Settings() {\n  return (\n    <section className={classes.Settings}>\n      <PopupProvider>\n        <SettingsScreen />\n        <Popup>\n          <h1>Example</h1>\n        </Popup>\n      </PopupProvider>\n    </section>\n  )\n}\n\nexport default Settings;\n","import React from 'react';\nimport {Route, Routes, Navigate} from 'react-router-dom';\nimport Layout from '../src/hoc/Layout/Layout'\nimport './App.css'\nimport ScrollToTop from './hoc/ScrollToTop/ScrollToTop';\n\nimport Transactions from './containers/Transactions/Transactions';\nimport Statistics from './containers/Statistics/Statistics';\nimport Settings from './containers/Settings/Settings';\nfunction App() {\n  return (\n    <Layout>\n      <ScrollToTop />\n      <Routes>\n        <Route path=\"/\" element={<Transactions />} />\n        <Route path=\"/statistics\" element={<Statistics />} />\n        <Route path=\"/settings\" element={<Settings />} />\n        <Route path=\"*\" element={<Navigate to=\"/\" />} />\n      </Routes>\n    </Layout>\n  );\n}\n\nexport default App;\n","import {configureStore} from \"@reduxjs/toolkit\";\n\nimport transactionsReducer from '../reducers/transactions/transactions-slice';\nimport categoriesReducer from '../reducers/categories/categories-slice';\nimport accountsReducer from '../reducers/accounts/accounts-slice';\nimport searchTermReducer from '../reducers/search/search-slice';\nimport budgetReducer from '../reducers/budget/budget-slice';\nimport userReducer from '../reducers/user/user-slice';\n\nexport default configureStore({\n  reducer: {\n    transactions: transactionsReducer,\n    categories: categoriesReducer,\n    accounts: accountsReducer,\n    searchTerm: searchTermReducer,\n    budget: budgetReducer,\n    user: userReducer,\n  },\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux'\nimport App from './App';\nimport store from './store/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}