(this["webpackJsonpmoney-tracker"]=this["webpackJsonpmoney-tracker"]||[]).push([[0],{10:function(t,e){t.exports={category:[{id:1,title:"Salary"},{id:2,title:"Rent"},{id:3,title:"Groceries"},{id:4,title:"Transportation & parking fees"},{id:5,title:"Clothing & shoes"},{id:6,title:"Family"},{id:7,title:"Coffee"},{id:8,title:"Health"}],account:[{id:1,title:"Cash",balance:2e3,startBalance:0,archive:!1},{id:2,title:"Postbank",balance:55e3,startBalance:0,archive:!1},{id:3,title:"N26",balance:55e4,startBalance:0,archive:!1}],transactions:[{id:1,sum:70,date:"2021-11-02",outcome:!0,account:{id:1,title:"N26"},category:{id:1,title:"Health"}},{id:2,sum:11.5,date:"2021-11-02",outcome:!0,account:{id:1,title:"Cash"},category:{id:1,title:"Coffee"}},{id:3,sum:350,date:"2021-11-02",outcome:!0,account:{id:1,title:"Postbank"},category:{id:1,title:"Clothing & shoes"}},{id:4,sum:120,date:"2021-11-01",outcome:!0,account:{id:1,title:"N26"},category:{id:1,title:"Groceries"}},{id:5,sum:3500,date:"2021-11-01",outcome:!1,account:{id:1,title:"N26"},category:{id:1,title:"Salary"}},{id:5,sum:47.3,date:"2021-11-03",outcome:!0,account:{id:1,title:"N26"},category:{id:1,title:"Family"}}]}},31:function(t,e,a){"use strict";a.r(e);var n,c,r,i=a(1),s=a.n(i),o=a(14),u=a.n(o),l=a(5),d=a(12),j=a(4),b=a(2),O=a(3),f=a.n(O),h=a(7),m=a(6),p=a(8),g=a(9),v=a(10),x=a.n(v),y=function(){function t(){Object(p.a)(this,t);var e=x.a.transactions;this.transactions=e}return Object(g.a)(t,[{key:"getAll",value:function(){var t=Object(h.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.transactions,t.abrupt("return",e);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),w=new y,T=Object(m.c)({name:"searchTerm",initialState:"",reducers:{setSearchTerm:function(t,e){return e.payload},clearSearchTerm:function(t,e){return""}}}),_=function(t){return t.searchTerm},C=T.actions,N=C.setSearchTerm,k=C.clearSearchTerm,S=T.reducer,A=Object(m.b)("transactions/loadData",Object(h.a)(f.a.mark((function t(){var e,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.getAll();case 2:return e=t.sent,t.next=5,e;case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))),E=Object(m.c)({name:"transactions",initialState:{allTransactions:[],newTransaction:{id:(new Date).getTime(),sum:"",date:(new Date).toISOString().slice(0,-14),outcome:!0,account:[],category:[]},isLoading:!1,hasError:!1},reducers:{setUserInput:function(t,e){var a=e.payload,n=a.name,c=a.value;return"outcome"===n&&(c=!0!==t.newTransaction.outcome),Object(b.a)(Object(b.a)({},t),{},{newTransaction:Object(b.a)(Object(b.a)({},t.newTransaction),{},Object(j.a)({},n,c))})},setCategory:function(t,e){return Object(b.a)(Object(b.a)({},t),{},{newTransaction:Object(b.a)(Object(b.a)({},t.newTransaction),{},{category:e.payload})})},setAccount:function(t,e){return Object(b.a)(Object(b.a)({},t),{},{newTransaction:Object(b.a)(Object(b.a)({},t.newTransaction),{},{account:e.payload})})},addTransaction:function(t,e){return Object(b.a)(Object(b.a)({},t),{},{allTransactions:[].concat(Object(d.a)(t.allTransactions),Object(d.a)(e.payload))})},resetState:function(t,e){return Object(b.a)(Object(b.a)({},t),{},{newTransaction:{id:(new Date).getTime(),sum:"",date:(new Date).toISOString().slice(0,-14),outcome:!0,account:[],category:[]}})},deleteTransaction:function(t,e){var a=e.payload,n=t.allTransactions.filter((function(t){return t.id!==+a}));return Object(b.a)(Object(b.a)({},t),{},{allTransactions:n})}},extraReducers:(n={},Object(j.a)(n,A.pending,(function(t){t.isLoading=!0,t.hasError=!1})),Object(j.a)(n,A.fulfilled,(function(t,e){t.allTransactions=e.payload,t.newTransaction=Object(b.a)({},t.newTransaction),t.isLoading=!1,t.hasError=!1,t.showDelete=!1})),Object(j.a)(n,A.rejected,(function(t){t.isLoading=!1,t.hasError=!0})),n)}),L=function(t){return t.transactions.allTransactions},D=function(t){return t.transactions.newTransaction},F=function(t){var e=L(t),a=_(t);return e.filter((function(t){return t.category.title.toLowerCase().includes(a.toLowerCase())})).sort((function(t,e){return new Date(e.date).getTime()-new Date(t.date).getTime()}))},P=E.actions,I=P.setUserInput,B=P.setCategory,R=P.setAccount,M=(P.setTransactionId,P.addTransaction),G=P.resetState,H=P.deleteTransaction,J=E.reducer,U=function(){function t(){Object(p.a)(this,t);var e=x.a.category;this.category=e}return Object(g.a)(t,[{key:"getAll",value:function(){var t=Object(h.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.category,t.abrupt("return",e);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),Y=new U,q=Object(m.b)("categories/loadData",Object(h.a)(f.a.mark((function t(){var e,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.getAll();case 2:return e=t.sent,t.next=5,e;case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))),z=Object(m.b)("categories/addData",function(){var t=Object(h.a)(f.a.mark((function t(e){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.create(e);case 2:return a=t.sent,t.next=5,a;case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),K=Object(m.c)({name:"categories",initialState:{allCategories:[],newCategory:{title:""},isLoading:!1,hasError:!1,isPending:!1,isFailedToCreate:!1},reducers:{addCategory:function(t,e){return Object(b.a)(Object(b.a)({},t),{},{newCategory:Object(b.a)(Object(b.a)({},t.newCategory),{},{title:e.payload})})}},extraReducers:(c={},Object(j.a)(c,q.pending,(function(t){t.isLoading=!0,t.hasError=!1})),Object(j.a)(c,q.fulfilled,(function(t,e){t.allCategories=e.payload,t.isLoading=!1,t.hasError=!1})),Object(j.a)(c,q.rejected,(function(t){t.isLoading=!1,t.hasError=!0})),Object(j.a)(c,z.pending,(function(t){t.isPending=!0,t.isFailedToCreate=!1})),Object(j.a)(c,z.fulfilled,(function(t){t.newCategory={title:""},t.isPending=!1,t.isFailedToCreate=!1})),Object(j.a)(c,z.rejected,(function(t){t.isPending=!1,t.isFailedToCreate=!0})),c)}),Q=function(t){return t.categories.allCategories},V=(K.actions.addCategory,K.reducer),W=function(){function t(){Object(p.a)(this,t);var e=x.a.account;this.account=e}return Object(g.a)(t,[{key:"getAll",value:function(){var t=Object(h.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.account,t.abrupt("return",e);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),X=new W,Z=Object(m.b)("accounts/loadData",Object(h.a)(f.a.mark((function t(){var e,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.getAll();case 2:return e=t.sent,t.next=5,e;case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))),$=Object(m.b)("accounts/addData",function(){var t=Object(h.a)(f.a.mark((function t(e){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("\ud83d\ude80 ~ file: accounts-slice.js ~ line 17 ~ newAccount",e),t.next=3,X.create(e);case 3:return a=t.sent,t.next=6,a;case 6:return n=t.sent,t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),tt=Object(m.c)({name:"accounts",initialState:{allAccounts:[],newAccount:{title:"",balance:0,startBalance:0,archive:!1},isLoading:!1,hasError:!1,isPending:!1,isFailedToCreate:!1},reducers:{addAccount:function(t,e){return Object(b.a)(Object(b.a)({},t),{},{newAccount:Object(b.a)(Object(b.a)({},t.newAccount),{},{title:e.payload})})}},extraReducers:(r={},Object(j.a)(r,Z.pending,(function(t){t.isLoading=!0,t.hasError=!1})),Object(j.a)(r,Z.fulfilled,(function(t,e){t.allAccounts=e.payload,t.isLoading=!1,t.hasError=!1})),Object(j.a)(r,Z.rejected,(function(t){t.isLoading=!1,t.hasError=!0})),Object(j.a)(r,$.pending,(function(t){t.isPending=!0,t.isFailedToCreate=!1})),Object(j.a)(r,$.fulfilled,(function(t){t.newAccount={title:"",balance:0,startBalance:0,archive:!1},t.isPending=!1,t.isFailedToCreate=!1})),Object(j.a)(r,$.rejected,(function(t){t.isPending=!1,t.isFailedToCreate=!0})),r)}),et=function(t){return t.accounts.allAccounts},at=(tt.actions.addAccount,tt.reducer),nt=a(0);var ct=function(){var t=Object(l.c)(_),e=Object(l.b)();return Object(nt.jsxs)("section",{className:"search",children:[Object(nt.jsx)("input",{type:"text",name:"search",placeholder:"Search by category",value:t,onChange:function(t){var a=t.target.value;e(N(a))}}),t.length>0&&Object(nt.jsx)("span",{className:"search__close-btn",onClick:function(){e(k())}})]})},rt=a(13);var it=function(t){var e=t.categories,a=t.accounts,n=Object(l.c)(D),c=Object(l.b)(),r=Object(i.useState)(!1),s=Object(rt.a)(r,2),o=s[0],u=s[1],d=Object(i.useState)(!0),j=Object(rt.a)(d,2),b=j[0],O=j[1],f=n.sum,h=n.date,m=function(t){var e=t.target,a=e.name,n=e.value;c(I({name:a,value:n}))},p=function(t){return function(n){var r=function(t,e){var a;return t.map((function(t){return t.title===e&&(a=t.id),a})),a};if("account"===t){var i=r(a,n.target.value);c(R({id:i,title:n.target.value}))}if("category"===t){var s=r(e,n.target.value);c(B({id:s,title:n.target.value}))}}};return Object(nt.jsxs)("section",{className:"transactions",children:[Object(nt.jsxs)("div",{className:"transactions__title",children:[Object(nt.jsx)("h2",{children:"Transactions"}),Object(nt.jsx)("p",{className:"transaction-add__btn ".concat(o?"transaction-add__btn--click":""),onClick:function(){var t=!0!==b;u(!0!==o),!1===t?O(t):setTimeout((function(){O(t)}),500)},children:"Add"})]}),Object(nt.jsx)("div",{className:"transactions__wrapper",children:Object(nt.jsxs)("div",{className:"transaction-add ".concat(b?"transaction-add__hidden":""," ").concat(o?"transaction-add__fade-in":"transaction-add__fade-out"),children:[Object(nt.jsx)("input",{type:"number",name:"sum",placeholder:"Enter an amount",value:f,onChange:m}),Object(nt.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:p("category"),children:[Object(nt.jsx)("option",{value:"",hidden:!0,children:"Choose a category"}),e&&e.map((function(t){return Object(nt.jsx)("option",{value:t.title,selected:t.id===n.category.id,children:t.title},t.id)}))]}),Object(nt.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:p("account"),children:[Object(nt.jsx)("option",{value:"",hidden:!0,children:"Choose an account"}),a&&a.map((function(t){return Object(nt.jsx)("option",{value:t.title,selected:t.id===n.account.id,children:t.title},t.id)}))]}),Object(nt.jsx)("input",{type:"date",name:"date",value:h,onChange:m}),Object(nt.jsx)("div",{className:"transaction-add__wrapper",children:Object(nt.jsxs)("div",{className:"transaction-add__type",children:[Object(nt.jsx)("input",{type:"checkbox",id:"type",name:"outcome",onChange:m}),Object(nt.jsx)("label",{htmlFor:"type",children:"Income"})]})}),Object(nt.jsx)("button",{className:"button",onClick:function(){c(M([n])),c(G()),u(!1),setTimeout((function(){O(!0)}),500)},children:"Create"})]})})]})};var st=function(t){var e=t.transactions,a=e.map((function(t){return t=t.outcome?+t.sum:null})).reduce((function(t,e){return t+e}),0),n=e.map((function(t){return t=t.outcome?null:+t.sum})).reduce((function(t,e){return t+e}),0);return Object(nt.jsx)("section",{className:"balance",children:Object(nt.jsx)("div",{className:"balance__container balance__balance",children:Object(nt.jsxs)("div",{children:[Object(nt.jsx)("p",{children:"Your balance"}),Object(nt.jsxs)("p",{className:"balance__amount",children:[n-a," \u20ac"]})]})})})};function ot(t){return new Date(t).toLocaleString("en-EN",{day:"2-digit",month:"short",year:"numeric"})}var ut=function(t){var e=t.categoryTitle,a=t.accountTitle,n=t.outcome,c=t.sum,r=t.id,s=Object(l.b)(),o=Object(i.useState)(!1),u=Object(rt.a)(o,2),d=u[0],j=u[1],b=function(){j(!0!==d)};return Object(nt.jsxs)("li",{className:"transactions-list__item",onMouseOver:b,onMouseOut:b,children:[Object(nt.jsxs)("div",{className:"transactions-list__item-wrapper",children:[Object(nt.jsx)("p",{children:e}),Object(nt.jsxs)("p",{className:"transactions-list__item--expense",children:[n?"- ":"+ ",c," \u20ac"]})]}),Object(nt.jsxs)("div",{className:"transactions-list__item-wrapper",children:[Object(nt.jsx)("p",{className:"transactions-list__item--account",children:a}),Object(nt.jsx)("p",{className:"transactions-list__item--edit ".concat(d?"":"hidden"),id:r,onClick:function(t){var e=t.target.id;s(H(e))},children:"delete"})]})]})};var lt=function(t){var e=t.date;return t.transactions.filter((function(t){return ot(t.date)===e})).map((function(t,e){return Object(nt.jsx)("div",{children:Object(nt.jsx)(ut,{categoryTitle:t.category.title,accountTitle:t.account.title,outcome:t.outcome,sum:t.sum,id:t.id})},e)}))};var dt=function(t){var e=t.transactions,a=Object(d.a)(new Set(e.map((function(t){return ot(t.date)}))));return Object(nt.jsxs)("section",{className:"transactions-list",children:[Object(nt.jsx)("h2",{children:"Transactions List"}),a.map((function(t,a){return Object(nt.jsxs)("ul",{className:"transactions-list__list",children:[Object(nt.jsx)("div",{className:"transactions-list__day",children:Object(nt.jsx)("p",{children:t})}),Object(nt.jsx)(lt,{date:t,transactions:e})]},a)}))]})};var jt=function(){var t=Object(l.c)(L),e=Object(l.c)(F),a=Object(l.c)(Q),n=Object(l.c)(et),c=Object(l.b)();return Object(i.useEffect)((function(){c(A()),c(q()),c(Z())}),[c]),Object(nt.jsx)("div",{className:"container",children:Object(nt.jsxs)("main",{className:"page-main",children:[Object(nt.jsx)(ct,{}),Object(nt.jsx)(it,{categories:a,accounts:n}),Object(nt.jsx)(st,{transactions:t}),Object(nt.jsx)(dt,{transactions:e})]})})},bt=Object(m.a)({reducer:{transactions:J,categories:V,accounts:at,searchTerm:S}});u.a.render(Object(nt.jsx)(s.a.StrictMode,{children:Object(nt.jsx)(l.a,{store:bt,children:Object(nt.jsx)(jt,{})})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.5ad8a372.chunk.js.map