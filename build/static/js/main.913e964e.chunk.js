(this["webpackJsonpmoney-tracker"]=this["webpackJsonpmoney-tracker"]||[]).push([[0],{13:function(e,t,n){e.exports={form:"Form_form__2wVGg",dialogWrapper:"Form_dialogWrapper__Asoa1",dialog:"Form_dialog__3K11j",dialogTypeWrapper:"Form_dialogTypeWrapper__3UED0",dialogType:"Form_dialogType___T7YX",dialogFadeIn:"Form_dialogFadeIn__2edSn",dialogFadeOut:"Form_dialogFadeOut__L5NES"}},17:function(e,t,n){e.exports={menu:"Menu_menu__g1b0Y",wrapper:"Menu_wrapper__2i6Q0",active:"Menu_active__1T3aC",menuAddBtn:"Menu_menuAddBtn__1bjf1",close:"Menu_close__3Wz-_"}},23:function(e,t,n){e.exports={Input:"Input_Input__3r5Ke"}},24:function(e,t,n){e.exports={Button:"Button_Button__3gFiX"}},26:function(e,t,n){e.exports={Select:"Select_Select__2qylT"}},39:function(e,t,n){"use strict";n.r(t);var a,r,c,o,i,s=n(0),u=n.n(s),l=n(19),d=n.n(l),j=n(12),b=n(6),f=n(2),O=n(5),m=n(3),h=n(4),p=n.n(h),g=n(8),v=n(7),x=n(14),C=n(15),_=n(11),y=n(20),w=[{id:1,title:"Salary"},{id:2,title:"Rent"},{id:3,title:"Groceries"},{id:4,title:"Transportation & parking fees"},{id:5,title:"Clothing & shoes"},{id:6,title:"Family"},{id:7,title:"Coffee"},{id:8,title:"Health"}],T=[{id:1,title:"Cash",balance:2e3,startBalance:0,archive:!1},{id:2,title:"Postbank",balance:55e3,startBalance:0,archive:!1},{id:3,title:"N26",balance:55e4,startBalance:0,archive:!1}],N=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},S=function(e){e=e.slice();for(var t=1,n=[];t--;)n.push.apply(n,Object(_.a)(e.splice(N(0,e.length-1),1)));return n[0]},A=function(){var e=(new Date).getTime(),t=e-new Date(7776e6).getTime();return new Date(t+Math.random()*(e-t)).toISOString().slice(0,-14)},F=(a=T,r=w,Array(20).fill({}).map((function(){return{id:Object(y.a)(6),sum:N(1,500),date:A(),outcome:Boolean(Math.round(Math.random())),account:S(a),category:S(r)}}))),M=function(){function e(){Object(x.a)(this,e),this.categories=w}return Object(C.a)(e,[{key:"getAll",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.categories,e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),k=new M,E=Object(v.b)("categories/loadData",Object(g.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getAll();case 2:return t=e.sent,e.next=5,t;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),D=Object(v.b)("categories/addData",function(){var e=Object(g.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.create(t);case 2:return n=e.sent,e.next=5,n;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),B=Object(v.c)({name:"categories",initialState:{allCategories:[],newCategory:{title:""},isLoading:!1,hasError:!1,isPending:!1,isFailedToCreate:!1},reducers:{addCategory:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{newCategory:Object(m.a)(Object(m.a)({},e.newCategory),{},{title:t.payload})})}},extraReducers:(c={},Object(O.a)(c,E.pending,(function(e){e.isLoading=!0,e.hasError=!1})),Object(O.a)(c,E.fulfilled,(function(e,t){e.allCategories=t.payload,e.isLoading=!1,e.hasError=!1})),Object(O.a)(c,E.rejected,(function(e){e.isLoading=!1,e.hasError=!0})),Object(O.a)(c,D.pending,(function(e){e.isPending=!0,e.isFailedToCreate=!1})),Object(O.a)(c,D.fulfilled,(function(e){e.newCategory={title:""},e.isPending=!1,e.isFailedToCreate=!1})),Object(O.a)(c,D.rejected,(function(e){e.isPending=!1,e.isFailedToCreate=!0})),c)}),L=function(e){return e.categories.allCategories},I=(B.actions.addCategory,B.reducer),V=function(){function e(){Object(x.a)(this,e),this.accounts=T}return Object(C.a)(e,[{key:"getAll",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.accounts,e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),P=new V,q=Object(v.b)("accounts/loadData",Object(g.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getAll();case 2:return t=e.sent,e.next=5,t;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),W=Object(v.b)("accounts/addData",function(){var e=Object(g.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\ud83d\ude80 ~ file: accounts-slice.js ~ line 17 ~ newAccount",t),e.next=3,P.create(t);case 3:return n=e.sent,e.next=6,n;case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R=Object(v.c)({name:"accounts",initialState:{allAccounts:[],newAccount:{title:"",balance:0,startBalance:0,archive:!1},isLoading:!1,hasError:!1,isPending:!1,isFailedToCreate:!1},reducers:{addAccount:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{newAccount:Object(m.a)(Object(m.a)({},e.newAccount),{},{title:t.payload})})}},extraReducers:(o={},Object(O.a)(o,q.pending,(function(e){e.isLoading=!0,e.hasError=!1})),Object(O.a)(o,q.fulfilled,(function(e,t){e.allAccounts=t.payload,e.isLoading=!1,e.hasError=!1})),Object(O.a)(o,q.rejected,(function(e){e.isLoading=!1,e.hasError=!0})),Object(O.a)(o,W.pending,(function(e){e.isPending=!0,e.isFailedToCreate=!1})),Object(O.a)(o,W.fulfilled,(function(e){e.newAccount={title:"",balance:0,startBalance:0,archive:!1},e.isPending=!1,e.isFailedToCreate=!1})),Object(O.a)(o,W.rejected,(function(e){e.isPending=!1,e.isFailedToCreate=!0})),o)}),U=function(e){return e.accounts.allAccounts},Y=(R.actions.addAccount,R.reducer),G=n(10),J=n(17),K=n.n(J),X=function(){function e(){Object(x.a)(this,e),this.transactions=F}return Object(C.a)(e,[{key:"getAll",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.transactions,e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),z=new X,H=Object(v.c)({name:"searchTerm",initialState:"",reducers:{setSearchTerm:function(e,t){return t.payload},clearSearchTerm:function(e,t){return""}}}),Q=function(e){return e.searchTerm},Z=H.actions,$=Z.setSearchTerm,ee=Z.clearSearchTerm,te=H.reducer,ne=Object(v.b)("transactions/loadData",Object(g.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getAll();case 2:return t=e.sent,e.next=5,t;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),ae=Object(v.c)({name:"transactions",initialState:{allTransactions:[],newTransaction:{id:Object(y.a)(6),sum:"",date:(new Date).toISOString().slice(0,-14),outcome:!0,account:[],category:[]},isLoading:!1,hasError:!1},reducers:{setUserInput:function(e,t){var n=t.payload,a=n.name,r=n.value;return"outcome"===a&&(r=!e.newTransaction.outcome),"sum"===a&&(r=+r),Object(m.a)(Object(m.a)({},e),{},{newTransaction:Object(m.a)(Object(m.a)({},e.newTransaction),{},Object(O.a)({},a,r))})},setCategory:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{newTransaction:Object(m.a)(Object(m.a)({},e.newTransaction),{},{category:t.payload})})},setAccount:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{newTransaction:Object(m.a)(Object(m.a)({},e.newTransaction),{},{account:t.payload})})},addTransaction:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{allTransactions:[].concat(Object(_.a)(e.allTransactions),Object(_.a)(t.payload))})},resetState:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{newTransaction:{id:(new Date).getTime(),sum:"",date:(new Date).toISOString().slice(0,-14),outcome:!0,account:[],category:[]}})},deleteTransaction:function(e,t){var n=t.payload,a=e.allTransactions.filter((function(e){return e.id!==n}));return Object(m.a)(Object(m.a)({},e),{},{allTransactions:a})}},extraReducers:(i={},Object(O.a)(i,ne.pending,(function(e){e.isLoading=!0,e.hasError=!1})),Object(O.a)(i,ne.fulfilled,(function(e,t){e.allTransactions=t.payload,e.newTransaction=Object(m.a)({},e.newTransaction),e.isLoading=!1,e.hasError=!1,e.showDelete=!1})),Object(O.a)(i,ne.rejected,(function(e){e.isLoading=!1,e.hasError=!0})),i)}),re=function(e){return e.transactions.allTransactions},ce=function(e){return e.transactions.newTransaction},oe=function(e){var t=re(e),n=Q(e);return t.filter((function(e){return e.category.title.toLowerCase().includes(n.toLowerCase())})).sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()}))},ie=ae.actions,se=ie.setUserInput,ue=ie.setCategory,le=ie.setAccount,de=(ie.setTransactionId,ie.addTransaction),je=ie.resetState,be=ie.deleteTransaction,fe=ae.reducer,Oe=n(13),me=n.n(Oe),he=n(23),pe=n.n(he),ge=n(1);function ve(e){var t=e.valid,n=e.touched,a=e.shouldValidate;return!t&&a&&n}var xe=function(e){var t=e.type||"text",n=[pe.a.Input],a="".concat(t,"-").concat(Math.random());return ve(e)&&n.push(pe.a.invalid),Object(ge.jsxs)("div",{className:n.join(" "),children:[Object(ge.jsx)("input",{type:t,name:e.name,placeholder:e.placeholder,id:a,value:e.value,onChange:e.onChange}),Object(ge.jsx)("label",{htmlFor:a,children:e.label}),ve(e)?Object(ge.jsx)("span",{children:e.errorMessage||"Enter correct value"}):null]})},Ce=n(26),_e=n.n(Ce);function ye(e){var t=e.valid,n=e.touched,a=e.shouldValidate;return!t&&a&&n}var we=function(e){var t=[_e.a.Select];return Object(ge.jsx)("div",{className:t,children:Object(ge.jsxs)("select",{onChange:e.onChange,children:[Object(ge.jsx)("option",{value:"",hidden:!0,children:e.defaultOption}),e.options.map((function(e){return Object(ge.jsx)("option",{value:e.title,children:e.title},e.id)})),ye(e)?Object(ge.jsx)("span",{children:e.errorMessage||"Enter correct value"}):null]})})},Te=n(24),Ne=n.n(Te),Se=function(e){var t=[Ne.a.Button,Ne.a[e.type]].join(" ");return Object(ge.jsx)("button",{onClick:e.onClick,className:t,disabled:e.disabled,children:e.children})};function Ae(e,t){return Object(m.a)(Object(m.a)({},e),{},{validation:t,valid:!t,touched:!1,value:""})}function Fe(e){var t=!0;for(var n in e)e.hasOwnProperty(n)&&(t=e[n].valid&&t);return t}function Me(e,t,n){var a=Object(m.a)({},n),r=Object(m.a)({},a[e]);return r.touched=!0,r.value=t,r.valid=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),n}(r.value,r.validation),a[e]=r,a}var ke=function(e){var t=e.categories,n=e.accounts,a=e.onClickAddBtn,r=e.setOnClickAddBtn,c=Object(b.c)(ce),o=c.sum,i=c.date,u=Object(b.b)(),l=Object(s.useState)({isFormValid:!1,formControls:{sum:Ae({errorMessage:"Please fill out this field"},{required:!0}),date:Ae({errorMessage:"Choose a date please"},{required:!0}),category:Ae({errorMessage:"Choose a category please"},{required:!0}),account:Ae({errorMessage:"Choose an account please"},{required:!0})}}),d=Object(G.a)(l,2),j=d[0],f=d[1];Object(s.useEffect)((function(){var e=Me("date",i,j.formControls);f({formControls:e})}),[]);var O=function(e,t){var n=Me(t,e,j.formControls);f({formControls:n,isFormValid:Fe(n)}),u(se({name:t,value:e}))},m=function(e){return function(a){var r=function(e,t){var n;return e.map((function(e){return e.title===t&&(n=e.id),n})),n};if("account"===e){var c=Me(e,a.target.value,j.formControls);f({formControls:c,isFormValid:Fe(c)});var o=r(n,a.target.value);u(le({id:o,title:a.target.value}))}if("category"===e){var i=Me(e,a.target.value,j.formControls);f({formControls:i,isFormValid:Fe(i)});var s=r(t,a.target.value);u(ue({id:s,title:a.target.value}))}}},h=[me.a.dialog,a?me.a.dialogFadeIn:me.a.dialogFadeOut].join(" ");return Object(ge.jsx)("section",{className:me.a.form,children:Object(ge.jsx)("div",{className:me.a.dialogWrapper,children:Object(ge.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(ge.jsxs)("div",{className:h,children:[Object(ge.jsx)(xe,{type:"number",name:"sum",placeholder:"0.00",value:o,valid:j.formControls.sum.valid,shouldValidate:!!j.formControls.sum.validation,touched:j.formControls.sum.touched,errorMessage:j.formControls.sum.errorMessage,onChange:function(e){return O(e.target.value,e.target.name)}}),Object(ge.jsx)(we,{options:t,defaultOption:"Choose a category",onChange:m("category"),valid:j.formControls.category.valid,shouldValidate:!!j.formControls.category.validation,touched:j.formControls.category.touched,errorMessage:j.formControls.category.errorMessage}),Object(ge.jsx)(we,{options:n,defaultOption:"Choose an account",onChange:m("account"),valid:j.formControls.account.valid,shouldValidate:!!j.formControls.account.validation,touched:j.formControls.account.touched,errorMessage:j.formControls.account.errorMessage}),Object(ge.jsx)(xe,{type:"date",name:"date",value:i,valid:j.formControls.date.valid,shouldValidate:!!j.formControls.date.validation,touched:j.formControls.date.touched,errorMessage:j.formControls.date.errorMessage,onChange:function(e){return O(e.target.value,e.target.name)}}),Object(ge.jsx)("div",{className:me.a.dialogType,children:Object(ge.jsx)(xe,{label:"Income",type:"checkbox",name:"outcome",onChange:function(e){return O(e.target.value,e.target.name)}})}),Object(ge.jsx)(Se,{type:"submit",onClick:function(){u(de([c])),u(je()),r(!1)},disabled:!j.isFormValid,children:"Create"})]})})})})};var Ee=function(e){var t=e.categories,n=e.accounts,a=Object(s.useState)(!1),r=Object(G.a)(a,2),c=r[0],o=r[1],i=Object(b.b)(),u=[K.a.menuAddBtn,"fa",c?"fa-times":"fa-plus",c?K.a.close:""].join(" "),l=function(e){return e.isActive?"".concat(K.a.active):""};return Object(ge.jsxs)("nav",{className:K.a.menu,children:[Object(ge.jsx)(ke,{categories:t,accounts:n,onClickAddBtn:c,setOnClickAddBtn:o}),Object(ge.jsxs)("div",{className:K.a.wrapper,children:[Object(ge.jsx)("i",{className:u,onClick:function(){o(!c),c&&i(je())}}),Object(ge.jsx)(j.b,{to:"/",className:l,children:"Transactions"}),Object(ge.jsx)(j.b,{to:"/budget",className:l,children:"Analytics"}),Object(ge.jsx)(j.b,{to:"/settings",className:l,children:"Settings"})]})]})};var De=function(e){var t=Object(b.c)(L),n=Object(b.c)(U);return Object(ge.jsx)("div",{className:"container",children:Object(ge.jsxs)("main",{className:"page-main",children:[e.children,Object(ge.jsx)(Ee,{categories:t,accounts:n})]})})};var Be=function(){var e=Object(b.c)(Q),t=Object(b.b)();return Object(ge.jsxs)("section",{className:"search",children:[Object(ge.jsx)("input",{type:"text",name:"search",placeholder:"Search by category",value:e,onChange:function(e){var n=e.target.value;t($(n))}}),e.length>0&&Object(ge.jsx)("span",{className:"search__close-btn",onClick:function(){t(ee())}})]})};var Le=function(e){var t=e.transactions,n=t.map((function(e){return e=e.outcome?+e.sum:null})).reduce((function(e,t){return e+t}),0),a=t.map((function(e){return e=e.outcome?null:+e.sum})).reduce((function(e,t){return e+t}),0);return Object(ge.jsx)("section",{className:"balance",children:Object(ge.jsx)("div",{className:"balance__container balance__balance",children:Object(ge.jsxs)("div",{children:[Object(ge.jsx)("p",{children:"Your balance"}),Object(ge.jsxs)("p",{className:"balance__amount",children:[a-n," \u20ac"]})]})})})};var Ie=function(e){var t=e.categoryTitle,n=e.accountTitle,a=e.outcome,r=e.sum,c=e.id,o=Object(b.b)(),i=Object(s.useState)(!1),u=Object(G.a)(i,2),l=u[0],d=u[1],j=function(){d(!l)};return Object(ge.jsxs)("li",{className:"transactions__item",onMouseOver:j,onMouseOut:j,children:[Object(ge.jsxs)("div",{className:"transactions__item-wrapper",children:[Object(ge.jsx)("p",{children:t}),Object(ge.jsxs)("p",{className:"transactions__item--expense",children:[a?"-":"+",r," \u20ac"]})]}),Object(ge.jsxs)("div",{className:"transactions__item-wrapper",children:[Object(ge.jsx)("p",{className:"transactions__item--account",children:n}),Object(ge.jsx)("p",{className:"transactions__item--edit ".concat(l?"":"hidden"),id:c,onClick:function(e){var t=e.target.id;o(be(t))},children:"delete"})]})]})};var Ve=function(e){var t=e.date;return e.transactions.filter((function(e){return e.date===t})).map((function(e,t){return Object(ge.jsx)("div",{children:Object(ge.jsx)(Ie,{categoryTitle:e.category.title,accountTitle:e.account.title,outcome:e.outcome,sum:e.sum,id:e.id})},t)}))};function Pe(e){return new Date(e).toLocaleString("en-EN",{weekday:"long"})}function qe(e){return new Date(e).toLocaleString("en-EN",{month:"long",year:"numeric"})}var We=function(e){var t,n=e.date,a=e.transactions.filter((function(e){return e.date===n})),r=Object(_.a)(new Set(a.map((function(e){return e.date})))),c=a.filter((function(e){return!0===e.outcome})).map((function(e){return e.sum})).reduce((function(e,t){return e+t}),0),o=a.filter((function(e){return!1===e.outcome})).map((function(e){return e.sum})).reduce((function(e,t){return e+t}),0)-c;return Object(ge.jsxs)("div",{className:"transactions__header",children:[Object(ge.jsxs)("div",{className:"transactions__date-content",children:[Object(ge.jsx)("p",{children:(t=r,new Date(t).toLocaleString("en-EN",{day:"2-digit"}))}),Object(ge.jsxs)("div",{className:"transactions__date-wrapper",children:[Object(ge.jsx)("p",{children:Pe(r)}),Object(ge.jsx)("p",{children:qe(r)})]})]}),Object(ge.jsxs)("p",{children:[o<0?"":"+",o," \u20ac"]})]})};var Re=function(e){var t=e.transactions,n=Object(_.a)(new Set(t.map((function(e){return e.date}))));return Object(ge.jsx)("section",{className:"transactions",children:n.map((function(e,n){return Object(ge.jsxs)("ul",{className:"transactions__list",children:[Object(ge.jsx)(We,{date:e,transactions:t}),Object(ge.jsx)(Ve,{date:e,transactions:t})]},n)}))})};var Ue=function(){var e=Object(b.c)(re),t=Object(b.c)(oe),n=Object(b.b)();return Object(s.useEffect)((function(){n(ne()),n(E()),n(q())}),[n]),Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Be,{}),Object(ge.jsx)(Le,{transactions:e}),Object(ge.jsx)(Re,{transactions:t})]})};var Ye=function(){return Object(ge.jsx)("div",{children:Object(ge.jsx)("h1",{children:"Analytics"})})};var Ge=function(){return Object(ge.jsx)("div",{children:Object(ge.jsx)("h1",{children:"Settings"})})};var Je=function(){return Object(ge.jsx)(De,{children:Object(ge.jsxs)(f.d,{children:[Object(ge.jsx)(f.b,{path:"/",element:Object(ge.jsx)(Ue,{})}),Object(ge.jsx)(f.b,{path:"/budget",element:Object(ge.jsx)(Ye,{})}),Object(ge.jsx)(f.b,{path:"/settings",element:Object(ge.jsx)(Ge,{})}),Object(ge.jsx)(f.b,{path:"*",element:Object(ge.jsx)(f.a,{to:"/"})})]})})},Ke=Object(v.a)({reducer:{transactions:fe,categories:I,accounts:Y,searchTerm:te}});d.a.render(Object(ge.jsx)(u.a.StrictMode,{children:Object(ge.jsx)(b.a,{store:Ke,children:Object(ge.jsx)(j.a,{children:Object(ge.jsx)(Je,{})})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.913e964e.chunk.js.map