(this["webpackJsonpmoney-tracker"]=this["webpackJsonpmoney-tracker"]||[]).push([[0],{12:function(e,t,n){e.exports={menu:"Menu_menu__g1b0Y",wrapper:"Menu_wrapper__2i6Q0",active:"Menu_active__1T3aC",menuAddBtn:"Menu_menuAddBtn__1bjf1",close:"Menu_close__3Wz-_"}},33:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(14),i=n.n(r),s=n(5),o=n(0);var u,l,d,j,b,f=function(e){return Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("main",{className:"page-main",children:e.children})})},O=n(8),p=n(4),m=n(2),h=n(3),g=n.n(h),v=n(7),x=n(6),w=n(17),_=n(10),y=n(11),T=[{id:1,title:"Salary"},{id:2,title:"Rent"},{id:3,title:"Groceries"},{id:4,title:"Transportation & parking fees"},{id:5,title:"Clothing & shoes"},{id:6,title:"Family"},{id:7,title:"Coffee"},{id:8,title:"Health"}],C=[{id:1,title:"Cash",balance:2e3,startBalance:0,archive:!1},{id:2,title:"Postbank",balance:55e3,startBalance:0,archive:!1},{id:3,title:"N26",balance:55e4,startBalance:0,archive:!1}],N=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},S=function(e){e=e.slice();for(var t=1,n=[];t--;)n.push.apply(n,Object(O.a)(e.splice(N(0,e.length-1),1)));return n[0]},A=function(){var e=(new Date).getTime(),t=e-new Date(7776e6).getTime();return new Date(t+Math.random()*(e-t)).toISOString().slice(0,-14)},k=(u=C,l=T,Array(20).fill({}).map((function(){return{id:Object(w.a)(6),sum:N(1,500),date:A(),outcome:Boolean(Math.round(Math.random())),account:S(u),category:S(l)}}))),F=function(){function e(){Object(_.a)(this,e),this.transactions=k}return Object(y.a)(e,[{key:"getAll",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.transactions,e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),D=new F,E=Object(x.c)({name:"searchTerm",initialState:"",reducers:{setSearchTerm:function(e,t){return t.payload},clearSearchTerm:function(e,t){return""}}}),L=function(e){return e.searchTerm},B=E.actions,M=B.setSearchTerm,I=B.clearSearchTerm,P=E.reducer,W=Object(x.b)("transactions/loadData",Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getAll();case 2:return t=e.sent,e.next=5,t;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),q=Object(x.c)({name:"transactions",initialState:{allTransactions:[],newTransaction:{id:Object(w.a)(6),sum:"",date:(new Date).toISOString().slice(0,-14),outcome:!0,account:[],category:[]},isLoading:!1,hasError:!1},reducers:{setUserInput:function(e,t){var n=t.payload,a=n.name,c=n.value;return"outcome"===a&&(c=!e.newTransaction.outcome),"sum"===a&&(c=+c),Object(m.a)(Object(m.a)({},e),{},{newTransaction:Object(m.a)(Object(m.a)({},e.newTransaction),{},Object(p.a)({},a,c))})},setCategory:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{newTransaction:Object(m.a)(Object(m.a)({},e.newTransaction),{},{category:t.payload})})},setAccount:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{newTransaction:Object(m.a)(Object(m.a)({},e.newTransaction),{},{account:t.payload})})},addTransaction:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{allTransactions:[].concat(Object(O.a)(e.allTransactions),Object(O.a)(t.payload))})},resetState:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{newTransaction:{id:(new Date).getTime(),sum:"",date:(new Date).toISOString().slice(0,-14),outcome:!0,account:[],category:[]}})},deleteTransaction:function(e,t){var n=t.payload,a=e.allTransactions.filter((function(e){return e.id!==n}));return Object(m.a)(Object(m.a)({},e),{},{allTransactions:a})}},extraReducers:(d={},Object(p.a)(d,W.pending,(function(e){e.isLoading=!0,e.hasError=!1})),Object(p.a)(d,W.fulfilled,(function(e,t){e.allTransactions=t.payload,e.newTransaction=Object(m.a)({},e.newTransaction),e.isLoading=!1,e.hasError=!1,e.showDelete=!1})),Object(p.a)(d,W.rejected,(function(e){e.isLoading=!1,e.hasError=!0})),d)}),R=function(e){return e.transactions.allTransactions},U=function(e){return e.transactions.newTransaction},Y=function(e){var t=R(e),n=L(e);return t.filter((function(e){return e.category.title.toLowerCase().includes(n.toLowerCase())})).sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()}))},G=q.actions,J=G.setUserInput,z=G.setCategory,H=G.setAccount,K=(G.setTransactionId,G.addTransaction),Q=G.resetState,V=G.deleteTransaction,X=q.reducer,Z=function(){function e(){Object(_.a)(this,e),this.categories=T}return Object(y.a)(e,[{key:"getAll",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.categories,e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),$=new Z,ee=Object(x.b)("categories/loadData",Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.getAll();case 2:return t=e.sent,e.next=5,t;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),te=Object(x.b)("categories/addData",function(){var e=Object(v.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.create(t);case 2:return n=e.sent,e.next=5,n;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ne=Object(x.c)({name:"categories",initialState:{allCategories:[],newCategory:{title:""},isLoading:!1,hasError:!1,isPending:!1,isFailedToCreate:!1},reducers:{addCategory:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{newCategory:Object(m.a)(Object(m.a)({},e.newCategory),{},{title:t.payload})})}},extraReducers:(j={},Object(p.a)(j,ee.pending,(function(e){e.isLoading=!0,e.hasError=!1})),Object(p.a)(j,ee.fulfilled,(function(e,t){e.allCategories=t.payload,e.isLoading=!1,e.hasError=!1})),Object(p.a)(j,ee.rejected,(function(e){e.isLoading=!1,e.hasError=!0})),Object(p.a)(j,te.pending,(function(e){e.isPending=!0,e.isFailedToCreate=!1})),Object(p.a)(j,te.fulfilled,(function(e){e.newCategory={title:""},e.isPending=!1,e.isFailedToCreate=!1})),Object(p.a)(j,te.rejected,(function(e){e.isPending=!1,e.isFailedToCreate=!0})),j)}),ae=function(e){return e.categories.allCategories},ce=(ne.actions.addCategory,ne.reducer),re=function(){function e(){Object(_.a)(this,e),this.accounts=C}return Object(y.a)(e,[{key:"getAll",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.accounts,e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ie=new re,se=Object(x.b)("accounts/loadData",Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.getAll();case 2:return t=e.sent,e.next=5,t;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),oe=Object(x.b)("accounts/addData",function(){var e=Object(v.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\ud83d\ude80 ~ file: accounts-slice.js ~ line 17 ~ newAccount",t),e.next=3,ie.create(t);case 3:return n=e.sent,e.next=6,n;case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ue=Object(x.c)({name:"accounts",initialState:{allAccounts:[],newAccount:{title:"",balance:0,startBalance:0,archive:!1},isLoading:!1,hasError:!1,isPending:!1,isFailedToCreate:!1},reducers:{addAccount:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{newAccount:Object(m.a)(Object(m.a)({},e.newAccount),{},{title:t.payload})})}},extraReducers:(b={},Object(p.a)(b,se.pending,(function(e){e.isLoading=!0,e.hasError=!1})),Object(p.a)(b,se.fulfilled,(function(e,t){e.allAccounts=t.payload,e.isLoading=!1,e.hasError=!1})),Object(p.a)(b,se.rejected,(function(e){e.isLoading=!1,e.hasError=!0})),Object(p.a)(b,oe.pending,(function(e){e.isPending=!0,e.isFailedToCreate=!1})),Object(p.a)(b,oe.fulfilled,(function(e){e.newAccount={title:"",balance:0,startBalance:0,archive:!1},e.isPending=!1,e.isFailedToCreate=!1})),Object(p.a)(b,oe.rejected,(function(e){e.isPending=!1,e.isFailedToCreate=!0})),b)}),le=function(e){return e.accounts.allAccounts},de=(ue.actions.addAccount,ue.reducer);var je=function(){var e=Object(s.c)(L),t=Object(s.b)();return Object(o.jsxs)("section",{className:"search",children:[Object(o.jsx)("input",{type:"text",name:"search",placeholder:"Search by category",value:e,onChange:function(e){var n=e.target.value;t(M(n))}}),e.length>0&&Object(o.jsx)("span",{className:"search__close-btn",onClick:function(){t(I())}})]})};var be=function(e){var t=e.transactions,n=t.map((function(e){return e=e.outcome?+e.sum:null})).reduce((function(e,t){return e+t}),0),a=t.map((function(e){return e=e.outcome?null:+e.sum})).reduce((function(e,t){return e+t}),0);return Object(o.jsx)("section",{className:"balance",children:Object(o.jsx)("div",{className:"balance__container balance__balance",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"Your balance"}),Object(o.jsxs)("p",{className:"balance__amount",children:[a-n," \u20ac"]})]})})})},fe=n(16);var Oe=function(e){var t=e.categoryTitle,n=e.accountTitle,c=e.outcome,r=e.sum,i=e.id,u=Object(s.b)(),l=Object(a.useState)(!1),d=Object(fe.a)(l,2),j=d[0],b=d[1],f=function(){b(!0!==j)};return Object(o.jsxs)("li",{className:"transactions__item",onMouseOver:f,onMouseOut:f,children:[Object(o.jsxs)("div",{className:"transactions__item-wrapper",children:[Object(o.jsx)("p",{children:t}),Object(o.jsxs)("p",{className:"transactions__item--expense",children:[c?"-":"+",r," \u20ac"]})]}),Object(o.jsxs)("div",{className:"transactions__item-wrapper",children:[Object(o.jsx)("p",{className:"transactions__item--account",children:n}),Object(o.jsx)("p",{className:"transactions__item--edit ".concat(j?"":"hidden"),id:i,onClick:function(e){var t=e.target.id;u(V(t))},children:"delete"})]})]})};var pe=function(e){var t=e.date;return e.transactions.filter((function(e){return e.date===t})).map((function(e,t){return Object(o.jsx)("div",{children:Object(o.jsx)(Oe,{categoryTitle:e.category.title,accountTitle:e.account.title,outcome:e.outcome,sum:e.sum,id:e.id})},t)}))};function me(e){return new Date(e).toLocaleString("en-EN",{weekday:"long"})}function he(e){return new Date(e).toLocaleString("en-EN",{month:"long",year:"numeric"})}var ge=function(e){var t,n=e.date,a=e.transactions.filter((function(e){return e.date===n})),c=Object(O.a)(new Set(a.map((function(e){return e.date})))),r=a.filter((function(e){return!0===e.outcome})).map((function(e){return e.sum})).reduce((function(e,t){return e+t}),0),i=a.filter((function(e){return!1===e.outcome})).map((function(e){return e.sum})).reduce((function(e,t){return e+t}),0)-r;return Object(o.jsxs)("div",{className:"transactions__header",children:[Object(o.jsxs)("div",{className:"transactions__date-content",children:[Object(o.jsx)("p",{children:(t=c,new Date(t).toLocaleString("en-EN",{day:"2-digit"}))}),Object(o.jsxs)("div",{className:"transactions__date-wrapper",children:[Object(o.jsx)("p",{children:me(c)}),Object(o.jsx)("p",{children:he(c)})]})]}),Object(o.jsxs)("p",{children:[i<0?"":"+",i," \u20ac"]})]})};var ve=function(e){var t=e.transactions,n=Object(O.a)(new Set(t.map((function(e){return e.date}))));return Object(o.jsx)("section",{className:"transactions",children:n.map((function(e,n){return Object(o.jsxs)("ul",{className:"transactions__list",children:[Object(o.jsx)(ge,{date:e,transactions:t}),Object(o.jsx)(pe,{date:e,transactions:t})]},n)}))})},xe=n(12),we=n.n(xe),_e=n(9),ye=n.n(_e);var Te=function(e){var t=e.categories,n=e.accounts,a=e.onClickAddBtn,c=e.setOnClickAddBtn,r=Object(s.c)(U),i=r.sum,u=r.date,l=Object(s.b)(),d=function(e){var t=e.target,n=t.name,a=t.value;l(J({name:n,value:a}))},j=function(e){return function(a){var c=function(e,t){var n;return e.map((function(e){return e.title===t&&(n=e.id),n})),n};if("account"===e){var r=c(n,a.target.value);l(H({id:r,title:a.target.value}))}if("category"===e){var i=c(t,a.target.value);l(z({id:i,title:a.target.value}))}}},b=[ye.a.dialog,a?ye.a.dialogFadeIn:ye.a.dialogFadeOut].join(" ");return Object(o.jsx)("section",{className:ye.a.form,children:Object(o.jsx)("div",{className:ye.a.dialogWrapper,children:Object(o.jsx)("form",{onSubmit:function(e){e.preventDefault(),l(K([r])),l(Q()),c(!1)},children:Object(o.jsxs)("div",{className:b,children:[Object(o.jsx)("input",{type:"number",name:"sum",placeholder:"0.00",value:i,onChange:d,required:!0}),Object(o.jsxs)("select",{"aria-label":"Default select example",onChange:j("category"),required:!0,children:[Object(o.jsx)("option",{value:"",hidden:!0,children:"Choose a category"}),t&&t.map((function(e){return Object(o.jsx)("option",{value:e.title,selected:e.id===r.category.id,children:e.title},e.id)}))]}),Object(o.jsxs)("select",{"aria-label":"Default select example",onChange:j("account"),required:!0,children:[Object(o.jsx)("option",{value:"",hidden:!0,children:"Choose an account"}),n&&n.map((function(e){return Object(o.jsx)("option",{value:e.title,selected:e.id===r.account.id,children:e.title},e.id)}))]}),Object(o.jsx)("input",{type:"date",name:"date",value:u,onChange:d,required:!0}),Object(o.jsx)("div",{className:ye.a.dialogTypeWrapper,children:Object(o.jsxs)("div",{className:ye.a.dialogType,children:[Object(o.jsx)("input",{type:"checkbox",id:"type",name:"outcome",onChange:d}),Object(o.jsx)("label",{htmlFor:"type",children:"Income"})]})}),Object(o.jsx)("button",{className:"button",type:"submit",children:"Create"})]})})})})};var Ce=function(e){var t=e.categories,n=e.accounts,c=Object(a.useState)(!1),r=Object(fe.a)(c,2),i=r[0],u=r[1],l=Object(s.b)(),d=[we.a.menuAddBtn,"fa",i?"fa-times":"fa-plus",i?we.a.close:""].join(" ");return Object(o.jsxs)("nav",{className:we.a.menu,children:[Object(o.jsx)(Te,{categories:t,accounts:n,onClickAddBtn:i,setOnClickAddBtn:u}),Object(o.jsxs)("div",{className:we.a.wrapper,children:[Object(o.jsx)("i",{className:d,onClick:function(){u(!i),i&&l(Q())}}),Object(o.jsx)("p",{className:we.a.active,children:"Transactions"}),Object(o.jsx)("p",{children:"Budget"}),Object(o.jsx)("p",{children:"Settings"})]})]})};var Ne=function(){var e=Object(s.c)(R),t=Object(s.c)(Y),n=Object(s.c)(ae),c=Object(s.c)(le),r=Object(s.b)();return Object(a.useEffect)((function(){r(W()),r(ee()),r(se())}),[r]),Object(o.jsxs)(f,{children:[Object(o.jsx)(je,{}),Object(o.jsx)(be,{transactions:e}),Object(o.jsx)(ve,{transactions:t}),Object(o.jsx)(Ce,{categories:n,accounts:c})]})},Se=Object(x.a)({reducer:{transactions:X,categories:ce,accounts:de,searchTerm:P}});i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(s.a,{store:Se,children:Object(o.jsx)(Ne,{})})}),document.getElementById("root"))},9:function(e,t,n){e.exports={form:"Form_form__2wVGg",dialogWrapper:"Form_dialogWrapper__Asoa1",dialog:"Form_dialog__3K11j",dialogTypeWrapper:"Form_dialogTypeWrapper__3UED0",dialogType:"Form_dialogType___T7YX",dialogFadeIn:"Form_dialogFadeIn__2edSn",dialogFadeOut:"Form_dialogFadeOut__L5NES"}}},[[33,1,2]]]);
//# sourceMappingURL=main.627fc5db.chunk.js.map